<!DOCTYPE html>
<html lang="en" class="RFC">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RFC 9114: HTTP/3</title>
<meta content="Mike Bishop" name="author">
<meta content="
       The QUIC transport protocol has several features that are desirable in a
transport for HTTP, such as stream multiplexing, per-stream flow control, and
low-latency connection establishment.  This document describes a mapping of HTTP
semantics over QUIC.  This document also identifies HTTP/2 features that are
subsumed by QUIC and describes how HTTP/2 extensions can be ported to HTTP/3. 
    " name="description">
<meta content="xml2rfc 3.12.10" name="generator">
<meta content="HTTP/2" name="keyword">
<meta content="HPACK" name="keyword">
<meta content="QPACK" name="keyword">
<meta content="Web" name="keyword">
<meta content="9114" name="rfc.number">
<!-- Generator version information:
  xml2rfc 3.12.10
    Python 3.10.4
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.4.0
    six 1.16.0
-->
<link href="rfc9114.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: 14.5px;
}
.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([stroke="fill"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

<link href="https://dx.doi.org/10.17487/rfc9114" rel="alternate">
  <link href="urn:issn:2070-1721" rel="alternate">
  <link href="https://datatracker.ietf.org/doc/draft-ietf-quic-http-latest" rel="prev">
  </head>
<body>
<table class="ears">
<thead><tr>
<td class="left">RFC 9114</td>
<td class="center">HTTP/3</td>
<td class="right">June 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bishop</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a href="https://www.rfc-editor.org/rfc/rfc9114" class="eref">9114</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-06" class="published">June 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Bishop, <span class="editor">Ed.</span>
</div>
<div class="org">Akamai</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9114</h1>
<h1 id="title">HTTP/3</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The QUIC transport protocol has several features that are desirable in a
transport for HTTP, such as stream multiplexing, per-stream flow control, and
low-latency connection establishment.  This document describes a mapping of HTTP
semantics over QUIC.  This document also identifies HTTP/2 features that are
subsumed by QUIC and describes how HTTP/2 extensions can be ported to HTTP/3.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9114">https://www.rfc-editor.org/info/rfc9114</a></span>.<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-prior-versions-of-http" class="xref">Prior Versions of HTTP</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-delegation-to-quic" class="xref">Delegation to QUIC</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-http-3-protocol-overview" class="xref">HTTP/3 Protocol Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-document-organization" class="xref">Document Organization</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-conventions-and-terminology" class="xref">Conventions and Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-connection-setup-and-manage" class="xref">Connection Setup and Management</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-discovering-an-http-3-endpo" class="xref">Discovering an HTTP/3 Endpoint</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="xref">3.1.1</a>.  <a href="#name-http-alternative-services" class="xref">HTTP Alternative Services</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="xref">3.1.2</a>.  <a href="#name-other-schemes" class="xref">Other Schemes</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-connection-establishment" class="xref">Connection Establishment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-connection-reuse" class="xref">Connection Reuse</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-expressing-http-semantics-i" class="xref">Expressing HTTP Semantics in HTTP/3</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-http-message-framing" class="xref">HTTP Message Framing</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-request-cancellation-and-re" class="xref">Request Cancellation and Rejection</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-malformed-requests-and-resp" class="xref">Malformed Requests and Responses</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-http-fields" class="xref">HTTP Fields</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-field-compression" class="xref">Field Compression</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-header-size-constraints" class="xref">Header Size Constraints</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-http-control-data" class="xref">HTTP Control Data</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-request-pseudo-header-field" class="xref">Request Pseudo-Header Fields</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.2">
                    <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="xref">4.3.2</a>.  <a href="#name-response-pseudo-header-fiel" class="xref">Response Pseudo-Header Fields</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-the-connect-method" class="xref">The CONNECT Method</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-http-upgrade" class="xref">HTTP Upgrade</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-server-push" class="xref">Server Push</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-connection-closure" class="xref">Connection Closure</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-idle-connections" class="xref">Idle Connections</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-connection-shutdown" class="xref">Connection Shutdown</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-immediate-application-closu" class="xref">Immediate Application Closure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-transport-closure" class="xref">Transport Closure</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-stream-mapping-and-usage" class="xref">Stream Mapping and Usage</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-bidirectional-streams" class="xref">Bidirectional Streams</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-unidirectional-streams" class="xref">Unidirectional Streams</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-control-streams" class="xref">Control Streams</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-push-streams" class="xref">Push Streams</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-reserved-stream-types" class="xref">Reserved Stream Types</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-http-framing-layer" class="xref">HTTP Framing Layer</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-frame-layout" class="xref">Frame Layout</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-frame-definitions" class="xref">Frame Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-7.2.1" class="xref">7.2.1</a>.  <a href="#name-data" class="xref">DATA</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a href="#section-7.2.2" class="xref">7.2.2</a>.  <a href="#name-headers" class="xref">HEADERS</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.3">
                    <p id="section-toc.1-1.7.2.2.2.3.1"><a href="#section-7.2.3" class="xref">7.2.3</a>.  <a href="#name-cancel_push" class="xref">CANCEL_PUSH</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.4">
                    <p id="section-toc.1-1.7.2.2.2.4.1"><a href="#section-7.2.4" class="xref">7.2.4</a>.  <a href="#name-settings" class="xref">SETTINGS</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.5">
                    <p id="section-toc.1-1.7.2.2.2.5.1"><a href="#section-7.2.5" class="xref">7.2.5</a>.  <a href="#name-push_promise" class="xref">PUSH_PROMISE</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.6">
                    <p id="section-toc.1-1.7.2.2.2.6.1"><a href="#section-7.2.6" class="xref">7.2.6</a>.  <a href="#name-goaway" class="xref">GOAWAY</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.7">
                    <p id="section-toc.1-1.7.2.2.2.7.1"><a href="#section-7.2.7" class="xref">7.2.7</a>.  <a href="#name-max_push_id" class="xref">MAX_PUSH_ID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.8">
                    <p id="section-toc.1-1.7.2.2.2.8.1"><a href="#section-7.2.8" class="xref">7.2.8</a>.  <a href="#name-reserved-frame-types" class="xref">Reserved Frame Types</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-error-handling" class="xref">Error Handling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-http-3-error-codes" class="xref">HTTP/3 Error Codes</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-extensions-to-http-3" class="xref">Extensions to HTTP/3</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-server-authority" class="xref">Server Authority</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-cross-protocol-attacks" class="xref">Cross-Protocol Attacks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-intermediary-encapsulation-" class="xref">Intermediary-Encapsulation Attacks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="xref">10.4</a>.  <a href="#name-cacheability-of-pushed-resp" class="xref">Cacheability of Pushed Responses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="xref">10.5</a>.  <a href="#name-denial-of-service-considera" class="xref">Denial-of-Service Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5.2.1">
                    <p id="section-toc.1-1.10.2.5.2.1.1"><a href="#section-10.5.1" class="xref">10.5.1</a>.  <a href="#name-limits-on-field-section-siz" class="xref">Limits on Field Section Size</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5.2.2">
                    <p id="section-toc.1-1.10.2.5.2.2.1"><a href="#section-10.5.2" class="xref">10.5.2</a>.  <a href="#name-connect-issues" class="xref">CONNECT Issues</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="xref">10.6</a>.  <a href="#name-use-of-compression" class="xref">Use of Compression</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="xref">10.7</a>.  <a href="#name-padding-and-traffic-analysi" class="xref">Padding and Traffic Analysis</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a href="#section-10.8" class="xref">10.8</a>.  <a href="#name-frame-parsing" class="xref">Frame Parsing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.9">
                <p id="section-toc.1-1.10.2.9.1"><a href="#section-10.9" class="xref">10.9</a>.  <a href="#name-early-data" class="xref">Early Data</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.10">
                <p id="section-toc.1-1.10.2.10.1"><a href="#section-10.10" class="xref">10.10</a>. <a href="#name-migration" class="xref">Migration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.11">
                <p id="section-toc.1-1.10.2.11.1"><a href="#section-10.11" class="xref">10.11</a>. <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-registration-of-http-3-iden" class="xref">Registration of HTTP/3 Identification String</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-new-registries" class="xref">New Registries</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.1">
                    <p id="section-toc.1-1.11.2.2.2.1.1"><a href="#section-11.2.1" class="xref">11.2.1</a>.  <a href="#name-frame-types" class="xref">Frame Types</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.2">
                    <p id="section-toc.1-1.11.2.2.2.2.1"><a href="#section-11.2.2" class="xref">11.2.2</a>.  <a href="#name-settings-parameters" class="xref">Settings Parameters</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.3">
                    <p id="section-toc.1-1.11.2.2.2.3.1"><a href="#section-11.2.3" class="xref">11.2.3</a>.  <a href="#name-error-codes" class="xref">Error Codes</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.4">
                    <p id="section-toc.1-1.11.2.2.2.4.1"><a href="#section-11.2.4" class="xref">11.2.4</a>.  <a href="#name-stream-types" class="xref">Stream Types</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-considerations-for-transiti" class="xref">Considerations for Transitioning from HTTP/2</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-streams" class="xref">Streams</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-http-frame-types" class="xref">HTTP Frame Types</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.1">
                    <p id="section-toc.1-1.13.2.2.2.1.1"><a href="#appendix-A.2.1" class="xref">A.2.1</a>.  <a href="#name-prioritization-differences" class="xref">Prioritization Differences</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.2">
                    <p id="section-toc.1-1.13.2.2.2.2.1"><a href="#appendix-A.2.2" class="xref">A.2.2</a>.  <a href="#name-field-compression-differenc" class="xref">Field Compression Differences</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.3">
                    <p id="section-toc.1-1.13.2.2.2.3.1"><a href="#appendix-A.2.3" class="xref">A.2.3</a>.  <a href="#name-flow-control-differences" class="xref">Flow-Control Differences</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.4">
                    <p id="section-toc.1-1.13.2.2.2.4.1"><a href="#appendix-A.2.4" class="xref">A.2.4</a>.  <a href="#name-guidance-for-new-frame-type" class="xref">Guidance for New Frame Type Definitions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.5">
                    <p id="section-toc.1-1.13.2.2.2.5.1"><a href="#appendix-A.2.5" class="xref">A.2.5</a>.  <a href="#name-comparison-of-http-2-and-ht" class="xref">Comparison of HTTP/2 and HTTP/3 Frame Types</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.3">
                <p id="section-toc.1-1.13.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-http-2-settings-parameters" class="xref">HTTP/2 SETTINGS Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4">
                <p id="section-toc.1-1.13.2.4.1"><a href="#appendix-A.4" class="xref">A.4</a>.  <a href="#name-http-2-error-codes" class="xref">HTTP/2 Error Codes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4.2.1">
                    <p id="section-toc.1-1.13.2.4.2.1.1"><a href="#appendix-A.4.1" class="xref">A.4.1</a>.  <a href="#name-mapping-between-http-2-and-" class="xref">Mapping between HTTP/2 and HTTP/3 Errors</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-B" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-C" class="xref"></a><a href="#name-index" class="xref">Index</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-D" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">HTTP semantics (<span>[<a href="#RFC9110" class="xref">HTTP</a>]</span>) are used for a broad range of services on the
Internet. These semantics have most commonly been used with HTTP/1.1 and HTTP/2.
HTTP/1.1 has been used over a variety of transport and session layers, while
HTTP/2 has been used primarily with TLS over TCP. HTTP/3 supports the same
semantics over a new transport protocol: QUIC.<a href="#section-1-1" class="pilcrow">¶</a></p>
<div id="prior-versions-of-http">
<section id="section-1.1">
        <h3 id="name-prior-versions-of-http">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-prior-versions-of-http" class="section-name selfRef">Prior Versions of HTTP</a>
        </h3>
<p id="section-1.1-1">HTTP/1.1 (<span>[<a href="#RFC9112" class="xref">HTTP/1.1</a>]</span>) uses whitespace-delimited text fields to convey HTTP
messages.  While these exchanges are human readable, using whitespace for
message formatting leads to parsing complexity and excessive tolerance of
variant behavior.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">Because HTTP/1.1 does not include a multiplexing layer, multiple TCP connections
are often used to service requests in parallel. However, that has a negative
impact on congestion control and network efficiency, since TCP does not share
congestion control across multiple connections.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">HTTP/2 (<span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span>) introduced a binary framing and multiplexing layer
to improve latency without modifying the transport layer.  However, because the
parallel nature of HTTP/2's multiplexing is not visible to TCP's loss recovery
mechanisms, a lost or reordered packet causes all active transactions to
experience a stall regardless of whether that transaction was directly impacted
by the lost packet.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="delegation-to-quic">
<section id="section-1.2">
        <h3 id="name-delegation-to-quic">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-delegation-to-quic" class="section-name selfRef">Delegation to QUIC</a>
        </h3>
<p id="section-1.2-1">The QUIC transport protocol incorporates stream multiplexing and per-stream flow
control, similar to that provided by the HTTP/2 framing layer. By providing
reliability at the stream level and congestion control across the entire
connection, QUIC has the capability to improve the performance of HTTP compared
to a TCP mapping.  QUIC also incorporates TLS 1.3 (<span>[<a href="#TLS" class="xref">TLS</a>]</span>) at the
transport layer, offering comparable confidentiality and integrity to running
TLS over TCP, with the improved connection setup latency of TCP Fast Open
(<span>[<a href="#TFO" class="xref">TFO</a>]</span>).<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">This document defines HTTP/3: a mapping of HTTP semantics over the QUIC
transport protocol, drawing heavily on the design of HTTP/2.  HTTP/3 relies on
QUIC to provide confidentiality and integrity protection of data; peer
authentication; and reliable, in-order, per-stream delivery. While delegating
stream lifetime and flow-control issues to QUIC, a binary framing similar to the
HTTP/2 framing is used on each stream. Some HTTP/2 features are subsumed by
QUIC, while other features are implemented atop QUIC.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">QUIC is described in <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.  For a full description of
HTTP/2, see <span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span>.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="http3-protocol-overview">
<section id="section-2">
      <h2 id="name-http-3-protocol-overview">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-http-3-protocol-overview" class="section-name selfRef">HTTP/3 Protocol Overview</a>
      </h2>
<p id="section-2-1">HTTP/3 provides a transport for HTTP semantics using the QUIC transport protocol
and an internal framing layer similar to HTTP/2.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Once a client knows that an HTTP/3 server exists at a certain endpoint, it opens
a QUIC connection. QUIC provides protocol negotiation, stream-based
multiplexing, and flow control.  Discovery of an HTTP/3 endpoint is described in
<a href="#discovery" class="xref">Section 3.1</a>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Within each stream, the basic unit of HTTP/3 communication is a frame
(<a href="#frames" class="xref">Section 7.2</a>).  Each frame type serves a different purpose.  For example, <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-1" class="iref"></span>
and <a href="#frame-data" class="xref">DATA</a><span id="iref-data-2" class="iref"></span> frames form the basis of HTTP requests and responses
(<a href="#request-response" class="xref">Section 4.1</a>).  Frames that apply to the entire connection are
conveyed on a dedicated <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-3" class="iref"></span>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">Multiplexing of requests is performed using the QUIC stream abstraction, which
is described in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-2" class="relref">Section 2</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.  Each request-response pair
consumes a single QUIC stream.  Streams are independent of each other, so one
stream that is blocked or suffers packet loss does not prevent progress on other
streams.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">Server push is an interaction mode introduced in HTTP/2 (<span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span>) that
permits a server to push a request-response exchange to a client in anticipation
of the client making the indicated request.  This trades off network usage
against a potential latency gain.  Several HTTP/3 frames are used to manage
server push, such as <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-4" class="iref"></span>, <a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-5" class="iref"></span>, and <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-6" class="iref"></span>.<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">As in HTTP/2, request and response fields are compressed for transmission.
Because HPACK (<span>[<a href="#HPACK" class="xref">HPACK</a>]</span>) relies on in-order transmission of
compressed field sections (a guarantee not provided by QUIC), HTTP/3 replaces
HPACK with QPACK (<span>[<a href="#RFC9204" class="xref">QPACK</a>]</span>). QPACK uses separate unidirectional streams to
modify and track field table state, while encoded field sections refer to the
state of the table without modifying it.<a href="#section-2-6" class="pilcrow">¶</a></p>
<div id="document-organization">
<section id="section-2.1">
        <h3 id="name-document-organization">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-document-organization" class="section-name selfRef">Document Organization</a>
        </h3>
<p id="section-2.1-1">The following sections provide a detailed overview of the lifecycle of an HTTP/3
connection:<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-2.1">"<a href="#connection-setup" class="xref">Connection Setup and Management</a>" (<a href="#connection-setup" class="xref">Section 3</a>) covers how an HTTP/3
endpoint is discovered and an HTTP/3 connection is established.<a href="#section-2.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.1-2.2">"<a href="#http-request-lifecycle" class="xref">Expressing HTTP Semantics in HTTP/3</a>" (<a href="#http-request-lifecycle" class="xref">Section 4</a>) describes how HTTP
semantics are expressed using frames.<a href="#section-2.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.1-2.3">"<a href="#connection-closure" class="xref">Connection Closure</a>" (<a href="#connection-closure" class="xref">Section 5</a>) describes how HTTP/3
connections are terminated, either gracefully or abruptly.<a href="#section-2.1-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.1-3">The details of the wire protocol and interactions with the transport are
described in subsequent sections:<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-4.1">"<a href="#stream-mapping" class="xref">Stream Mapping and Usage</a>" (<a href="#stream-mapping" class="xref">Section 6</a>) describes the way QUIC streams
are used.<a href="#section-2.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.1-4.2">"<a href="#http-framing-layer" class="xref">HTTP Framing Layer</a>" (<a href="#http-framing-layer" class="xref">Section 7</a>) describes the frames used
on most streams.<a href="#section-2.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.1-4.3">"<a href="#errors" class="xref">Error Handling</a>" (<a href="#errors" class="xref">Section 8</a>) describes how error conditions are handled and
expressed, either on a particular stream or for the connection as a whole.<a href="#section-2.1-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.1-5">Additional resources are provided in the final sections:<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-6.1">"<a href="#extensions" class="xref">Extensions to HTTP/3</a>" (<a href="#extensions" class="xref">Section 9</a>) describes how new capabilities can be
added in future documents.<a href="#section-2.1-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.1-6.2">A more detailed comparison between HTTP/2 and HTTP/3 can be found in
<a href="#h2-considerations" class="xref">Appendix A</a>.<a href="#section-2.1-6.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="conventions-and-terminology">
<section id="section-2.2">
        <h3 id="name-conventions-and-terminology">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-conventions-and-terminology" class="section-name selfRef">Conventions and Terminology</a>
        </h3>
<p id="section-2.2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">This document uses the variable-length integer encoding from
<span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2-3">The following terms are used:<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.2-4">
          <dt id="section-2.2-4.1">abort:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.2">
            <p id="section-2.2-4.2.1">An abrupt termination of a connection or stream, possibly due to an error
condition.<a href="#section-2.2-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.3">client:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.4">
            <p id="section-2.2-4.4.1">The endpoint that initiates an HTTP/3 connection.  Clients send HTTP requests
and receive HTTP responses.<a href="#section-2.2-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.5">connection:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.6">
            <p id="section-2.2-4.6.1">A transport-layer connection between two endpoints using QUIC as the
transport protocol.<a href="#section-2.2-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.7">
<a href="#errors" class="xref">connection error</a><span id="iref-connection-error-7" class="iref"></span>:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.8">
            <p id="section-2.2-4.8.1">An error that affects the entire HTTP/3 connection.<a href="#section-2.2-4.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.9">endpoint:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.10">
            <p id="section-2.2-4.10.1">Either the client or server of the connection.<a href="#section-2.2-4.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.11">frame:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.12">
            <p id="section-2.2-4.12.1">The smallest unit of communication on a stream in HTTP/3, consisting of a
header and a variable-length sequence of bytes structured according to the
frame type.<a href="#section-2.2-4.12.1" class="pilcrow">¶</a></p>
<p id="section-2.2-4.12.2">Protocol elements called "frames" exist in both this document and
<span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>. Where frames from <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span> are referenced, the
frame name will be prefaced with "QUIC".  For example, "QUIC CONNECTION_CLOSE
frames".  References without this preface refer to frames defined in
<a href="#frames" class="xref">Section 7.2</a>.<a href="#section-2.2-4.12.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.13">HTTP/3 connection:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.14">
            <p id="section-2.2-4.14.1">A QUIC connection where the negotiated application protocol is HTTP/3.<a href="#section-2.2-4.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.15">peer:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.16">
            <p id="section-2.2-4.16.1">An endpoint.  When discussing a particular endpoint, "peer" refers to the
endpoint that is remote to the primary subject of discussion.<a href="#section-2.2-4.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.17">receiver:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.18">
            <p id="section-2.2-4.18.1">An endpoint that is receiving frames.<a href="#section-2.2-4.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.19">sender:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.20">
            <p id="section-2.2-4.20.1">An endpoint that is transmitting frames.<a href="#section-2.2-4.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.21">server:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.22">
            <p id="section-2.2-4.22.1">The endpoint that accepts an HTTP/3 connection.  Servers receive HTTP requests
and send HTTP responses.<a href="#section-2.2-4.22.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.23">stream:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.24">
            <p id="section-2.2-4.24.1">A bidirectional or unidirectional bytestream provided by the QUIC transport.
All streams within an HTTP/3 connection can be considered "HTTP/3 streams",
but multiple stream types are defined within HTTP/3.<a href="#section-2.2-4.24.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-4.25">
<a href="#errors" class="xref">stream error</a><span id="iref-stream-error-8" class="iref"></span>:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-4.26">
            <p id="section-2.2-4.26.1">An application-level error on the individual stream.<a href="#section-2.2-4.26.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.2-5">The term "content" is defined in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-6.4" class="relref">Section 6.4</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-2.2-5" class="pilcrow">¶</a></p>
<p id="section-2.2-6">Finally, the terms "resource", "message", "user agent", "origin server",
"gateway", "intermediary", "proxy", and "tunnel" are defined in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-3" class="relref">Section 3</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-2.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2-7">Packet diagrams in this document use the format defined in
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-1.3" class="relref">Section 1.3</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span> to illustrate the order and size of fields.<a href="#section-2.2-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="connection-setup">
<section id="section-3">
      <h2 id="name-connection-setup-and-manage">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-connection-setup-and-manage" class="section-name selfRef">Connection Setup and Management</a>
      </h2>
<div id="discovery">
<section id="section-3.1">
        <h3 id="name-discovering-an-http-3-endpo">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-discovering-an-http-3-endpo" class="section-name selfRef">Discovering an HTTP/3 Endpoint</a>
        </h3>
<p id="section-3.1-1">HTTP relies on the notion of an authoritative response: a response that has been
determined to be the most appropriate response for that request given the state
of the target resource at the time of response message origination by (or at the
direction of) the origin server identified within the target URI.  Locating an
authoritative server for an HTTP URI is discussed in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-4.3" class="relref">Section 4.3</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">The "https" scheme associates authority with possession of a certificate that
the client considers to be trustworthy for the host identified by the authority
component of the URI.  Upon receiving a server certificate in the TLS handshake,
the client <span class="bcp14">MUST</span> verify that the certificate is an acceptable match for the URI's
origin server using the process described in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-4.3.4" class="relref">Section 4.3.4</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>. If
the certificate cannot be verified with respect to the URI's origin server, the
client <span class="bcp14">MUST NOT</span> consider the server authoritative for that origin.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">A client <span class="bcp14">MAY</span> attempt access to a resource with an "https" URI by resolving the
host identifier to an IP address, establishing a QUIC connection to that address
on the indicated port (including validation of the server certificate as
described above), and sending an HTTP/3 request message targeting the URI
to the server over that secured connection.  Unless some other mechanism is used
to select HTTP/3, the token "h3" is used in the Application-Layer Protocol
Negotiation (ALPN; see <span>[<a href="#RFC7301" class="xref">RFC7301</a>]</span>) extension during the TLS handshake.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">Connectivity problems (e.g., blocking UDP) can result in a failure to establish
a QUIC connection; clients <span class="bcp14">SHOULD</span> attempt to use TCP-based versions of HTTP
in this case.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">Servers <span class="bcp14">MAY</span> serve HTTP/3 on any UDP port; an alternative service advertisement
always includes an explicit port, and URIs contain either an explicit port or a
default port associated with the scheme.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<div id="alt-svc">
<section id="section-3.1.1">
          <h4 id="name-http-alternative-services">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-http-alternative-services" class="section-name selfRef">HTTP Alternative Services</a>
          </h4>
<p id="section-3.1.1-1">An HTTP origin can advertise the availability of an equivalent HTTP/3 endpoint
via the Alt-Svc HTTP response header field or the HTTP/2 ALTSVC frame
(<span>[<a href="#ALTSVC" class="xref">ALTSVC</a>]</span>) using the "h3" ALPN token.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1.1-2">For example, an origin could indicate in an HTTP response that HTTP/3 was
available on UDP port 50781 at the same hostname by including the following
header field:<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
<div id="section-3.1.1-3">
<pre class="lang-http-message sourcecode">
Alt-Svc: h3=":50781"
</pre><a href="#section-3.1.1-3" class="pilcrow">¶</a>
</div>
<p id="section-3.1.1-4">On receipt of an Alt-Svc record indicating HTTP/3 support, a client <span class="bcp14">MAY</span> attempt
to establish a QUIC connection to the indicated host and port; if this
connection is successful, the client can send HTTP requests using the mapping
described in this document.<a href="#section-3.1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="other-schemes">
<section id="section-3.1.2">
          <h4 id="name-other-schemes">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-other-schemes" class="section-name selfRef">Other Schemes</a>
          </h4>
<p id="section-3.1.2-1">Although HTTP is independent of the transport protocol, the "http" scheme
associates authority with the ability to receive TCP connections on the
indicated port of whatever host is identified within the authority component.
Because HTTP/3 does not use TCP, HTTP/3 cannot be used for direct access to the
authoritative server for a resource identified by an "http" URI.  However,
protocol extensions such as <span>[<a href="#ALTSVC" class="xref">ALTSVC</a>]</span> permit the authoritative server
to identify other services that are also authoritative and that might be
reachable over HTTP/3.<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
<p id="section-3.1.2-2">Prior to making requests for an origin whose scheme is not "https", the client
<span class="bcp14">MUST</span> ensure the server is willing to serve that scheme. For origins whose scheme
is "http", an experimental method to accomplish this is described in
<span>[<a href="#RFC8164" class="xref">RFC8164</a>]</span>. Other mechanisms might be defined for various schemes in the
future.<a href="#section-3.1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="connection-establishment">
<section id="section-3.2">
        <h3 id="name-connection-establishment">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-connection-establishment" class="section-name selfRef">Connection Establishment</a>
        </h3>
<p id="section-3.2-1">HTTP/3 relies on QUIC version 1 as the underlying transport.  The use of other
QUIC transport versions with HTTP/3 <span class="bcp14">MAY</span> be defined by future specifications.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">QUIC version 1 uses TLS version 1.3 or greater as its handshake protocol.
HTTP/3 clients <span class="bcp14">MUST</span> support a mechanism to indicate the target host to the
server during the TLS handshake.  If the server is identified by a domain name
(<span>[<a href="#DNS-TERMS" class="xref">DNS-TERMS</a>]</span>), clients <span class="bcp14">MUST</span> send the Server Name Indication (SNI;
<span>[<a href="#RFC6066" class="xref">RFC6066</a>]</span>) TLS extension unless an alternative mechanism to indicate the
target host is used.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">QUIC connections are established as described in <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>. During
connection establishment, HTTP/3 support is indicated by selecting the ALPN
token "h3" in the TLS handshake.  Support for other application-layer protocols
<span class="bcp14">MAY</span> be offered in the same handshake.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">While connection-level options pertaining to the core QUIC protocol are set in
the initial crypto handshake, settings specific to HTTP/3 are conveyed in the
<a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-9" class="iref"></span> frame. After the QUIC connection is established, a
<a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-10" class="iref"></span> frame <span class="bcp14">MUST</span> be sent by each endpoint as the initial frame of their
respective HTTP <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-11" class="iref"></span>.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connection-reuse">
<section id="section-3.3">
        <h3 id="name-connection-reuse">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-connection-reuse" class="section-name selfRef">Connection Reuse</a>
        </h3>
<p id="section-3.3-1">HTTP/3 connections are persistent across multiple requests.  For best
performance, it is expected that clients will not close connections until it is
determined that no further communication with a server is necessary (for
example, when a user navigates away from a particular web page) or until the
server closes the connection.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">Once a connection to a server endpoint exists, this connection <span class="bcp14">MAY</span> be reused for
requests with multiple different URI authority components.  To use an existing
connection for a new origin, clients <span class="bcp14">MUST</span> validate the certificate presented by
the server for the new origin server using the process described in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-4.3.4" class="relref">Section 4.3.4</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.  This implies that clients will need to retain the
server certificate and any additional information needed to verify that
certificate; clients that do not do so will be unable to reuse the connection
for additional origins.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">If the certificate is not acceptable with regard to the new origin for any
reason, the connection <span class="bcp14">MUST NOT</span> be reused and a new connection <span class="bcp14">SHOULD</span> be
established for the new origin.  If the reason the certificate cannot be
verified might apply to other origins already associated with the connection,
the client <span class="bcp14">SHOULD</span> revalidate the server certificate for those origins. For
instance, if validation of a certificate fails because the certificate has
expired or been revoked, this might be used to invalidate all other origins for
which that certificate was used to establish authority.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">Clients <span class="bcp14">SHOULD NOT</span> open more than one HTTP/3 connection to a given IP address
and UDP port, where the IP address and port might be derived from a URI, a
selected alternative service (<span>[<a href="#ALTSVC" class="xref">ALTSVC</a>]</span>), a configured proxy, or name
resolution of any of these. A client <span class="bcp14">MAY</span> open multiple HTTP/3 connections to the
same IP address and UDP port using different transport or TLS configurations but
<span class="bcp14">SHOULD</span> avoid creating multiple connections with the same configuration.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5">Servers are encouraged to maintain open HTTP/3 connections for as long as
possible but are permitted to terminate idle connections if necessary.  When
either endpoint chooses to close the HTTP/3 connection, the terminating endpoint
<span class="bcp14">SHOULD</span> first send a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-12" class="iref"></span> frame (<a href="#connection-shutdown" class="xref">Section 5.2</a>) so that both
endpoints can reliably determine whether previously sent frames have been
processed and gracefully complete or terminate any necessary remaining tasks.<a href="#section-3.3-5" class="pilcrow">¶</a></p>
<p id="section-3.3-6">A server that does not wish clients to reuse HTTP/3 connections for a particular
origin can indicate that it is not authoritative for a request by sending a 421
(Misdirected Request) status code in response to the request; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-7.4" class="relref">Section 7.4</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-3.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="http-request-lifecycle">
<section id="section-4">
      <h2 id="name-expressing-http-semantics-i">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-expressing-http-semantics-i" class="section-name selfRef">Expressing HTTP Semantics in HTTP/3</a>
      </h2>
<div id="request-response">
<section id="section-4.1">
        <h3 id="name-http-message-framing">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-http-message-framing" class="section-name selfRef">HTTP Message Framing</a>
        </h3>
<p id="section-4.1-1">A client sends an HTTP request on a <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-13" class="iref"></span>, which is a client-initiated
bidirectional QUIC stream; see <a href="#request-streams" class="xref">Section 6.1</a>.  A client <span class="bcp14">MUST</span> send only a
single request on a given stream.  A server sends zero or more interim HTTP
responses on the same stream as the request, followed by a single final HTTP
response, as detailed below. See <span><a href="https://rfc-editor.org/rfc/rfc9110#section-15" class="relref">Section 15</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span> for a description
of interim and final HTTP responses.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Pushed responses are sent on a server-initiated unidirectional QUIC stream; see
<a href="#push-streams" class="xref">Section 6.2.2</a>.  A server sends zero or more interim HTTP responses, followed
by a single final HTTP response, in the same manner as a standard response.
Push is described in more detail in <a href="#server-push" class="xref">Section 4.6</a>.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">On a given stream, receipt of multiple requests or receipt of an additional HTTP
response following a final HTTP response <span class="bcp14">MUST</span> be treated as <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-14" class="iref"></span>.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">An HTTP message (request or response) consists of:<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1-5">
<li id="section-4.1-5.1">the header section, including message control data, sent as a single <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-15" class="iref"></span>
frame,<a href="#section-4.1-5.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-5.2">optionally, the content, if present, sent as a series of <a href="#frame-data" class="xref">DATA</a><span id="iref-data-16" class="iref"></span> frames, and<a href="#section-4.1-5.2" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-5.3">optionally, the trailer section, if present, sent as a single <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-17" class="iref"></span> frame.<a href="#section-4.1-5.3" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-4.1-6">Header and trailer sections are described in Sections <a href="https://rfc-editor.org/rfc/rfc9110#section-6.3" class="relref">6.3</a> and <a href="https://rfc-editor.org/rfc/rfc9110#section-6.5" class="relref">6.5</a> of <span>[<a href="#RFC9110" class="xref">HTTP</a>]</span>; the content is described in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-6.4" class="relref">Section 6.4</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">Receipt of an invalid sequence of frames <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-18" class="iref"></span>
of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-19" class="iref"></span>.  In particular, a <a href="#frame-data" class="xref">DATA</a><span id="iref-data-20" class="iref"></span> frame before
any <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-21" class="iref"></span> frame, or a <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-22" class="iref"></span> or <a href="#frame-data" class="xref">DATA</a><span id="iref-data-23" class="iref"></span> frame after the trailing <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-24" class="iref"></span> frame,
is considered invalid.  Other frame types, especially unknown frame types,
might be permitted subject to their own rules; see <a href="#extensions" class="xref">Section 9</a>.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<p id="section-4.1-8">A server <span class="bcp14">MAY</span> send one or more <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-25" class="iref"></span> frames
before, after, or interleaved with the frames of a response message. These
<a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-26" class="iref"></span> frames are not part of the response; see <a href="#server-push" class="xref">Section 4.6</a> for more
details.  <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-27" class="iref"></span> frames are not permitted on <a href="#push-streams" class="xref">push streams</a><span id="iref-push-stream-28" class="iref"></span>; a pushed
response that includes <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-29" class="iref"></span> frames <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-30" class="iref"></span>
of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-31" class="iref"></span>.<a href="#section-4.1-8" class="pilcrow">¶</a></p>
<p id="section-4.1-9">Frames of unknown types (<a href="#extensions" class="xref">Section 9</a>), including reserved frames
(<a href="#frame-reserved" class="xref">Section 7.2.8</a>) <span class="bcp14">MAY</span> be sent on a request or <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-32" class="iref"></span> before, after, or
interleaved with other frames described in this section.<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1-10">The <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-33" class="iref"></span> and <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-34" class="iref"></span> frames might reference updates to the QPACK dynamic
table. While these updates are not directly part of the message exchange, they
must be received and processed before the message can be consumed.  See
<a href="#header-formatting" class="xref">Section 4.2</a> for more details.<a href="#section-4.1-10" class="pilcrow">¶</a></p>
<p id="section-4.1-11">Transfer codings (see <span><a href="https://rfc-editor.org/rfc/rfc9112#section-7" class="relref">Section 7</a> of [<a href="#RFC9112" class="xref">HTTP/1.1</a>]</span>) are not defined for HTTP/3;
the Transfer-Encoding header field <span class="bcp14">MUST NOT</span> be used.<a href="#section-4.1-11" class="pilcrow">¶</a></p>
<p id="section-4.1-12">A response <span class="bcp14">MAY</span> consist of multiple messages when and only when one or more
interim responses (1xx; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-15.2" class="relref">Section 15.2</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>) precede a final
response to the same request.  Interim responses do not contain content
or trailer sections.<a href="#section-4.1-12" class="pilcrow">¶</a></p>
<p id="section-4.1-13">An HTTP request/response exchange fully consumes a client-initiated
bidirectional QUIC stream. After sending a request, a client <span class="bcp14">MUST</span> close the
stream for sending.  Unless using the CONNECT method (see <a href="#connect" class="xref">Section 4.4</a>), clients
<span class="bcp14">MUST NOT</span> make stream closure dependent on receiving a response to their request.
After sending a final response, the server <span class="bcp14">MUST</span> close the stream for sending. At
this point, the QUIC stream is fully closed.<a href="#section-4.1-13" class="pilcrow">¶</a></p>
<p id="section-4.1-14">When a stream is closed, this indicates the end of the final HTTP message.
Because some messages are large or unbounded, endpoints <span class="bcp14">SHOULD</span> begin processing
partial HTTP messages once enough of the message has been received to make
progress.  If a client-initiated stream terminates without enough of the HTTP
message to provide a complete response, the server <span class="bcp14">SHOULD</span> abort its response
stream with the error code <a href="#H3_REQUEST_INCOMPLETE" class="xref">H3_REQUEST_INCOMPLETE</a><span id="iref-h3_request_incomplete-35" class="iref"></span>.<a href="#section-4.1-14" class="pilcrow">¶</a></p>
<p id="section-4.1-15">A server can send a complete response prior to the client sending an entire
request if the response does not depend on any portion of the request that has
not been sent and received. When the server does not need to receive the
remainder of the request, it <span class="bcp14">MAY</span> abort reading the <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-36" class="iref"></span>, send a
complete response, and cleanly close the sending part of the stream.  The error
code <a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-37" class="iref"></span> <span class="bcp14">SHOULD</span> be used when requesting that the client stop sending on
the <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-38" class="iref"></span>.  Clients <span class="bcp14">MUST NOT</span> discard complete responses as a result of
having their request terminated abruptly, though clients can always discard
responses at their discretion for other reasons.  If the server sends a partial
or complete response but does not abort reading the request, clients <span class="bcp14">SHOULD</span>
continue sending the content of the request and close the stream normally.<a href="#section-4.1-15" class="pilcrow">¶</a></p>
<div id="request-cancellation">
<section id="section-4.1.1">
          <h4 id="name-request-cancellation-and-re">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-request-cancellation-and-re" class="section-name selfRef">Request Cancellation and Rejection</a>
          </h4>
<p id="section-4.1.1-1">Once a <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-39" class="iref"></span> has been opened, the request <span class="bcp14">MAY</span> be cancelled by either
endpoint.  Clients cancel requests if the response is no longer of interest;
servers cancel requests if they are unable to or choose not to respond.  When
possible, it is <span class="bcp14">RECOMMENDED</span> that servers send an HTTP response with an
appropriate status code rather than cancelling a request it has already begun
processing.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">Implementations <span class="bcp14">SHOULD</span> cancel requests by abruptly terminating any directions of
a stream that are still open.  To do so, an implementation resets the sending
parts of streams and aborts reading on the receiving parts of streams; see
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-2.4" class="relref">Section 2.4</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1-3">When the server cancels a request without performing any application processing,
the request is considered "rejected".  The server <span class="bcp14">SHOULD</span> abort its response
stream with the error code <a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-40" class="iref"></span>. In this context, "processed"
means that some data from the stream was passed to some higher layer of software
that might have taken some action as a result. The client can treat requests
rejected by the server as though they had never been sent at all, thereby
allowing them to be retried later.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1.1-4">Servers <span class="bcp14">MUST NOT</span> use the <a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-41" class="iref"></span> error code for requests that were
partially or fully processed.  When a server abandons a response after partial
processing, it <span class="bcp14">SHOULD</span> abort its response stream with the error code
<a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-42" class="iref"></span>.<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1.1-5">Client <span class="bcp14">SHOULD</span> use the error code <a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-43" class="iref"></span> to cancel requests.  Upon
receipt of this error code, a server <span class="bcp14">MAY</span> abruptly terminate the response using
the error code <a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-44" class="iref"></span> if no processing was performed.  Clients <span class="bcp14">MUST NOT</span> use the <a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-45" class="iref"></span> error code, except when a server has requested
closure of the <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-46" class="iref"></span> with this error code.<a href="#section-4.1.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1.1-6">If a stream is cancelled after receiving a complete response, the client <span class="bcp14">MAY</span>
ignore the cancellation and use the response.  However, if a stream is cancelled
after receiving a partial response, the response <span class="bcp14">SHOULD NOT</span> be used. Only
idempotent actions such as GET, PUT, or DELETE can be safely retried; a client
<span class="bcp14">SHOULD NOT</span> automatically retry a request with a non-idempotent method unless it
has some means to know that the request semantics are idempotent
independent of the method or some means to detect that the original request was
never applied.  See <span><a href="https://rfc-editor.org/rfc/rfc9110#section-9.2.2" class="relref">Section 9.2.2</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span> for more details.<a href="#section-4.1.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="malformed">
<section id="section-4.1.2">
          <h4 id="name-malformed-requests-and-resp">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-malformed-requests-and-resp" class="section-name selfRef">Malformed Requests and Responses</a>
          </h4>
<span id="iref-malformed-47" class="iref"></span>
          <p id="section-4.1.2-1">A malformed request or response is one that is an otherwise valid sequence of
frames but is invalid due to:<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.2-2.1">the presence of prohibited fields or pseudo-header fields,<a href="#section-4.1.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-2.2">the absence of mandatory pseudo-header fields,<a href="#section-4.1.2-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-2.3">invalid values for pseudo-header fields,<a href="#section-4.1.2-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-2.4">pseudo-header fields after fields,<a href="#section-4.1.2-2.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-2.5">an invalid sequence of HTTP messages,<a href="#section-4.1.2-2.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-2.6">the inclusion of uppercase field names, or<a href="#section-4.1.2-2.6" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.2-2.7">the inclusion of invalid characters in field names or values.<a href="#section-4.1.2-2.7" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.1.2-3">A request or response that is defined as having content when it contains a
Content-Length header field (<span><a href="https://rfc-editor.org/rfc/rfc9110#section-8.6" class="relref">Section 8.6</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>) is malformed if the
value of the Content-Length header field does not equal the sum of the <a href="#frame-data" class="xref">DATA</a><span id="iref-data-48" class="iref"></span>
frame lengths received. A response that is defined as never having content, even
when a Content-Length is present, can have a non-zero Content-Length header
field even though no content is included in <a href="#frame-data" class="xref">DATA</a><span id="iref-data-49" class="iref"></span> frames.<a href="#section-4.1.2-3" class="pilcrow">¶</a></p>
<p id="section-4.1.2-4">Intermediaries that process HTTP requests or responses (i.e., any intermediary
not acting as a tunnel) <span class="bcp14">MUST NOT</span> forward a malformed request or response.
Malformed requests or responses that are detected <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">stream
error</a><span id="iref-stream-error-50" class="iref"></span> of type <a href="#H3_MESSAGE_ERROR" class="xref">H3_MESSAGE_ERROR</a><span id="iref-h3_message_error-51" class="iref"></span>.<a href="#section-4.1.2-4" class="pilcrow">¶</a></p>
<p id="section-4.1.2-5">For malformed requests, a server <span class="bcp14">MAY</span> send an HTTP response indicating the error
prior to closing or resetting the stream.  Clients <span class="bcp14">MUST NOT</span> accept a malformed
response.  Note that these requirements are intended to protect against several
types of common attacks against HTTP; they are deliberately strict because being
permissive can expose implementations to these vulnerabilities.<a href="#section-4.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="header-formatting">
<section id="section-4.2">
        <h3 id="name-http-fields">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-http-fields" class="section-name selfRef">HTTP Fields</a>
        </h3>
<p id="section-4.2-1">HTTP messages carry metadata as a series of key-value pairs called "HTTP
fields"; see Sections <a href="https://rfc-editor.org/rfc/rfc9110#section-6.3" class="relref">6.3</a> and <a href="https://rfc-editor.org/rfc/rfc9110#section-6.5" class="relref">6.5</a> of <span>[<a href="#RFC9110" class="xref">HTTP</a>]</span>. For a listing of registered
HTTP fields, see the "Hypertext Transfer Protocol (HTTP) Field Name Registry"
maintained at <span>&lt;<a href="https://www.iana.org/assignments/http-fields/">https://www.iana.org/assignments/http-fields/</a>&gt;</span>.  Like HTTP/2, HTTP/3 has additional considerations related to
the use of characters in field names, the Connection header field, and
pseudo-header fields.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Field names are strings containing a subset of ASCII characters. Properties of
HTTP field names and values are discussed in more detail in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>. Characters in field names <span class="bcp14">MUST</span> be converted to lowercase prior to
their encoding. A request or response containing uppercase characters in field
names <span class="bcp14">MUST</span> be treated as <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-52" class="iref"></span>.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">HTTP/3 does not use the Connection header field to indicate connection-specific
fields; in this protocol, connection-specific metadata is conveyed by other
means.  An endpoint <span class="bcp14">MUST NOT</span> generate an HTTP/3 field section containing
connection-specific fields; any message containing connection-specific fields
<span class="bcp14">MUST</span> be treated as <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-53" class="iref"></span>.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">The only exception to this is the TE header field, which <span class="bcp14">MAY</span> be present in an
HTTP/3 request header; when it is, it <span class="bcp14">MUST NOT</span> contain any value other than
"trailers".<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">An intermediary transforming an HTTP/1.x message to HTTP/3 <span class="bcp14">MUST</span> remove
connection-specific header fields as discussed in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-7.6.1" class="relref">Section 7.6.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>, or their messages will be treated by other HTTP/3 endpoints as
<a href="#malformed" class="xref">malformed</a><span id="iref-malformed-54" class="iref"></span>.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<div id="field-compression">
<section id="section-4.2.1">
          <h4 id="name-field-compression">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-field-compression" class="section-name selfRef">Field Compression</a>
          </h4>
<p id="section-4.2.1-1"><span>[<a href="#RFC9204" class="xref">QPACK</a>]</span> describes a variation of HPACK that gives an encoder some control
over how much head-of-line blocking can be caused by compression.  This allows
an encoder to balance compression efficiency with latency.  HTTP/3 uses QPACK to
compress header and trailer sections, including the control data present in the
header section.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">To allow for better compression efficiency, the Cookie header field
(<span>[<a href="#COOKIES" class="xref">COOKIES</a>]</span>) <span class="bcp14">MAY</span> be split into separate field lines, each with one or
more cookie-pairs, before compression. If a decompressed field section contains
multiple cookie field lines, these <span class="bcp14">MUST</span> be concatenated into a single byte
string using the two-byte delimiter of <code>; </code> (ASCII 0x3b, 0x20) before being
passed into a context other than HTTP/2 or HTTP/3, such as an HTTP/1.1
connection, or a generic HTTP server application.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="header-size-constraints">
<section id="section-4.2.2">
          <h4 id="name-header-size-constraints">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-header-size-constraints" class="section-name selfRef">Header Size Constraints</a>
          </h4>
<p id="section-4.2.2-1">An HTTP/3 implementation <span class="bcp14">MAY</span> impose a limit on the maximum size of the message
header it will accept on an individual HTTP message.  A server that receives a
larger header section than it is willing to handle can send an HTTP 431 (Request
Header Fields Too Large) status code (<span>[<a href="#RFC6585" class="xref">RFC6585</a>]</span>).  A client can discard
responses that it cannot process.  The size of a field list is calculated based
on the uncompressed size of fields, including the length of the name and value
in bytes plus an overhead of 32 bytes for each field.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">If an implementation wishes to advise its peer of this limit, it can be conveyed
as a number of bytes in the <a href="#SETTINGS_MAX_FIELD_SECTION_SIZE" class="xref">SETTINGS_MAX_FIELD_SECTION_SIZE</a><span id="iref-settings_max_field_section_" class="iref"></span> parameter. An
implementation that has received this parameter <span class="bcp14">SHOULD NOT</span> send an HTTP message
header that exceeds the indicated size, as the peer will likely refuse to
process it.  However, an HTTP message can traverse one or more intermediaries
before reaching the origin server; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-3.7" class="relref">Section 3.7</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.  Because
this limit is applied separately by each implementation that processes the
message, messages below this limit are not guaranteed to be accepted.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="http-control-data">
<section id="section-4.3">
        <h3 id="name-http-control-data">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-http-control-data" class="section-name selfRef">HTTP Control Data</a>
        </h3>
<p id="section-4.3-1">Like HTTP/2, HTTP/3 employs a series of pseudo-header fields, where the field
name begins with the <code>:</code> character (ASCII 0x3a).  These pseudo-header fields
convey message control data; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-6.2" class="relref">Section 6.2</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Pseudo-header fields are not HTTP fields.  Endpoints <span class="bcp14">MUST NOT</span> generate
pseudo-header fields other than those defined in this document. However, an
extension could negotiate a modification of this restriction; see
<a href="#extensions" class="xref">Section 9</a>.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Pseudo-header fields are only valid in the context in which they are defined.
Pseudo-header fields defined for requests <span class="bcp14">MUST NOT</span> appear in responses;
pseudo-header fields defined for responses <span class="bcp14">MUST NOT</span> appear in requests.
Pseudo-header fields <span class="bcp14">MUST NOT</span> appear in trailer sections. Endpoints <span class="bcp14">MUST</span> treat a
request or response that contains undefined or invalid pseudo-header fields as
<a href="#malformed" class="xref">malformed</a><span id="iref-malformed-56" class="iref"></span>.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">All pseudo-header fields <span class="bcp14">MUST</span> appear in the header section before regular header
fields.  Any request or response that contains a pseudo-header field that
appears in a header section after a regular header field <span class="bcp14">MUST</span> be treated as
<a href="#malformed" class="xref">malformed</a><span id="iref-malformed-57" class="iref"></span>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<div id="request-pseudo-header-fields">
<section id="section-4.3.1">
          <h4 id="name-request-pseudo-header-field">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-request-pseudo-header-field" class="section-name selfRef">Request Pseudo-Header Fields</a>
          </h4>
<p id="section-4.3.1-1">The following pseudo-header fields are defined for requests:<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.3.1-2">
            <dt id="section-4.3.1-2.1">":method":</dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.2">
              <p id="section-4.3.1-2.2.1">Contains the HTTP method (<span><a href="https://rfc-editor.org/rfc/rfc9110#section-9" class="relref">Section 9</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>)<a href="#section-4.3.1-2.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.3.1-2.3">":scheme":</dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.4">
              <p id="section-4.3.1-2.4.1">Contains the scheme portion of the target URI (<span><a href="https://rfc-editor.org/rfc/rfc3986#section-3.1" class="relref">Section 3.1</a> of [<a href="#URI" class="xref">URI</a>]</span>).<a href="#section-4.3.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.3.1-2.5"></dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.6">
              <p id="section-4.3.1-2.6.1">The :scheme pseudo-header is not restricted to URIs with scheme "http" and
"https". A proxy or gateway can translate requests for non-HTTP schemes,
enabling the use of HTTP to interact with non-HTTP services.<a href="#section-4.3.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.3.1-2.7"></dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.8">
              <p id="section-4.3.1-2.8.1">See <a href="#other-schemes" class="xref">Section 3.1.2</a> for guidance on using a scheme other than "https".<a href="#section-4.3.1-2.8.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.3.1-2.9">":authority":</dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.10">
              <p id="section-4.3.1-2.10.1">Contains the authority portion of the target URI (<span><a href="https://rfc-editor.org/rfc/rfc3986#section-3.2" class="relref">Section 3.2</a> of [<a href="#URI" class="xref">URI</a>]</span>).
The authority <span class="bcp14">MUST NOT</span> include the deprecated userinfo
subcomponent for URIs of scheme "http" or "https".<a href="#section-4.3.1-2.10.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.3.1-2.11"></dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.12">
              <p id="section-4.3.1-2.12.1">To ensure that the HTTP/1.1 request line can be reproduced accurately, this
pseudo-header field <span class="bcp14">MUST</span> be omitted when translating from an HTTP/1.1
request that has a request target in a method-specific form; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-7.1" class="relref">Section 7.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.  Clients that generate HTTP/3 requests directly <span class="bcp14">SHOULD</span> use
the :authority pseudo-header field instead of the Host header field. An
intermediary that converts an HTTP/3 request to HTTP/1.1 <span class="bcp14">MUST</span> create a Host
field if one is not present in a request by copying the value of the
:authority pseudo-header field.<a href="#section-4.3.1-2.12.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.3.1-2.13">":path":</dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.14">
              <p id="section-4.3.1-2.14.1">Contains the path and query parts of the target URI (the "path-absolute"
production and optionally a <code>?</code> character (ASCII 0x3f) followed by the
"query" production; see Sections <a href="https://rfc-editor.org/rfc/rfc3986#section-3.3" class="relref">3.3</a> and <a href="https://rfc-editor.org/rfc/rfc3986#section-3.4" class="relref">3.4</a> of <span>[<a href="#URI" class="xref">URI</a>]</span>.<a href="#section-4.3.1-2.14.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.3.1-2.15"></dt>
            <dd style="margin-left: 1.5em" id="section-4.3.1-2.16">
              <p id="section-4.3.1-2.16.1">This pseudo-header field <span class="bcp14">MUST NOT</span> be empty for "http" or "https" URIs;
"http" or "https" URIs that do not contain a path component <span class="bcp14">MUST</span> include a
value of <code>/</code> (ASCII 0x2f).  An OPTIONS request that does not include a path
component includes the value <code>*</code> (ASCII 0x2a) for the :path pseudo-header
field; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-7.1" class="relref">Section 7.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-4.3.1-2.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.3.1-3">All HTTP/3 requests <span class="bcp14">MUST</span> include exactly one value for the :method, :scheme,
and :path pseudo-header fields, unless the request is a CONNECT request; see
<a href="#connect" class="xref">Section 4.4</a>.<a href="#section-4.3.1-3" class="pilcrow">¶</a></p>
<p id="section-4.3.1-4">If the :scheme pseudo-header field identifies a scheme that has a mandatory
authority component (including "http" and "https"), the request <span class="bcp14">MUST</span> contain
either an :authority pseudo-header field or a Host header field.  If these
fields are present, they <span class="bcp14">MUST NOT</span> be empty.  If both fields are present, they
<span class="bcp14">MUST</span> contain the same value.  If the scheme does not have a mandatory authority
component and none is provided in the request target, the request <span class="bcp14">MUST NOT</span>
contain the :authority pseudo-header or Host header fields.<a href="#section-4.3.1-4" class="pilcrow">¶</a></p>
<p id="section-4.3.1-5">An HTTP request that omits mandatory pseudo-header fields or contains invalid
values for those pseudo-header fields is <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-58" class="iref"></span>.<a href="#section-4.3.1-5" class="pilcrow">¶</a></p>
<p id="section-4.3.1-6">HTTP/3 does not define a way to carry the version identifier that is included in
the HTTP/1.1 request line.  HTTP/3 requests implicitly have a protocol version
of "3.0".<a href="#section-4.3.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="response-pseudo-header-fields">
<section id="section-4.3.2">
          <h4 id="name-response-pseudo-header-fiel">
<a href="#section-4.3.2" class="section-number selfRef">4.3.2. </a><a href="#name-response-pseudo-header-fiel" class="section-name selfRef">Response Pseudo-Header Fields</a>
          </h4>
<p id="section-4.3.2-1">For responses, a single ":status" pseudo-header field is defined that carries
the HTTP status code; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-15" class="relref">Section 15</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.  This pseudo-header
field <span class="bcp14">MUST</span> be included in all responses; otherwise, the response is <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-59" class="iref"></span>
(see <a href="#malformed" class="xref">Section 4.1.2</a>).<a href="#section-4.3.2-1" class="pilcrow">¶</a></p>
<p id="section-4.3.2-2">HTTP/3 does not define a way to carry the version or reason phrase that is
included in an HTTP/1.1 status line. HTTP/3 responses implicitly have a protocol
version of "3.0".<a href="#section-4.3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="connect">
<section id="section-4.4">
        <h3 id="name-the-connect-method">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-the-connect-method" class="section-name selfRef">The CONNECT Method</a>
        </h3>
<p id="section-4.4-1">The CONNECT method requests that the recipient establish a tunnel to the
destination origin server identified by the request-target; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.6" class="relref">Section 9.3.6</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>. It is primarily used with HTTP proxies to establish a TLS
session with an origin server for the purposes of interacting with "https"
resources.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">In HTTP/1.x, CONNECT is used to convert an entire HTTP connection into a tunnel
to a remote host. In HTTP/2 and HTTP/3, the CONNECT method is used to establish
a tunnel over a single stream.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">A CONNECT request <span class="bcp14">MUST</span> be constructed as follows:<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4-4.1">The :method pseudo-header field is set to "CONNECT"<a href="#section-4.4-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.4-4.2">The :scheme and :path pseudo-header fields are omitted<a href="#section-4.4-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.4-4.3">The :authority pseudo-header field contains the host and port to connect to
(equivalent to the authority-form of the request-target of CONNECT requests;
see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-7.1" class="relref">Section 7.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>).<a href="#section-4.4-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.4-5">The <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-60" class="iref"></span> remains open at the end of the request to carry the data to
be transferred.  A CONNECT request that does not conform to these restrictions
is <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-61" class="iref"></span>.<a href="#section-4.4-5" class="pilcrow">¶</a></p>
<p id="section-4.4-6">A proxy that supports CONNECT establishes a TCP connection (<span>[<a href="#RFC0793" class="xref">RFC0793</a>]</span>) to the
server identified in the :authority pseudo-header field.  Once this connection
is successfully established, the proxy sends a <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-62" class="iref"></span> frame containing a 2xx
series status code to the client, as defined in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-15.3" class="relref">Section 15.3</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-4.4-6" class="pilcrow">¶</a></p>
<p id="section-4.4-7">All <a href="#frame-data" class="xref">DATA</a><span id="iref-data-63" class="iref"></span> frames on the stream correspond to data sent or received on the TCP
connection. The payload of any <a href="#frame-data" class="xref">DATA</a><span id="iref-data-64" class="iref"></span> frame sent by the client is transmitted by
the proxy to the TCP server; data received from the TCP server is packaged into
<a href="#frame-data" class="xref">DATA</a><span id="iref-data-65" class="iref"></span> frames by the proxy. Note that the size and number of TCP segments is not
guaranteed to map predictably to the size and number of HTTP <a href="#frame-data" class="xref">DATA</a><span id="iref-data-66" class="iref"></span> or QUIC STREAM
frames.<a href="#section-4.4-7" class="pilcrow">¶</a></p>
<p id="section-4.4-8">Once the CONNECT method has completed, only <a href="#frame-data" class="xref">DATA</a><span id="iref-data-67" class="iref"></span> frames are permitted to be sent
on the stream.  Extension frames <span class="bcp14">MAY</span> be used if specifically permitted by the
definition of the extension.  Receipt of any other known frame type <span class="bcp14">MUST</span> be
treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-68" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-69" class="iref"></span>.<a href="#section-4.4-8" class="pilcrow">¶</a></p>
<p id="section-4.4-9">The TCP connection can be closed by either peer. When the client ends the
<a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-70" class="iref"></span> (that is, the receive stream at the proxy enters the "Data Recvd"
state), the proxy will set the FIN bit on its connection to the TCP server. When
the proxy receives a packet with the FIN bit set, it will close the send stream
that it sends to the client. TCP connections that remain half closed in a
single direction are not invalid, but are often handled poorly by servers, so
clients <span class="bcp14">SHOULD NOT</span> close a stream for sending while they still expect to receive
data from the target of the CONNECT.<a href="#section-4.4-9" class="pilcrow">¶</a></p>
<p id="section-4.4-10">A TCP <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-71" class="iref"></span> is signaled by abruptly terminating the stream. A proxy
treats any error in the TCP connection, which includes receiving a TCP segment
with the RST bit set, as a <a href="#errors" class="xref">stream error</a><span id="iref-stream-error-72" class="iref"></span> of type <a href="#H3_CONNECT_ERROR" class="xref">H3_CONNECT_ERROR</a><span id="iref-h3_connect_error-73" class="iref"></span>.<a href="#section-4.4-10" class="pilcrow">¶</a></p>
<p id="section-4.4-11">Correspondingly, if a proxy detects an error with the stream or the QUIC
connection, it <span class="bcp14">MUST</span> close the TCP connection.  If the proxy detects that the
client has reset the stream or aborted reading from the stream, it <span class="bcp14">MUST</span> close
the TCP connection.  If the stream is reset or reading is aborted by the client,
a proxy <span class="bcp14">SHOULD</span> perform the same operation on the other direction in order to
ensure that both directions of the stream are cancelled. In all these cases, if
the underlying TCP implementation permits it, the proxy <span class="bcp14">SHOULD</span> send a TCP
segment with the RST bit set.<a href="#section-4.4-11" class="pilcrow">¶</a></p>
<p id="section-4.4-12">Since CONNECT creates a tunnel to an arbitrary server, proxies that support
CONNECT <span class="bcp14">SHOULD</span> restrict its use to a set of known ports or a list of safe
request targets; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-9.3.6" class="relref">Section 9.3.6</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span> for more details.<a href="#section-4.4-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="http-upgrade">
<section id="section-4.5">
        <h3 id="name-http-upgrade">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-http-upgrade" class="section-name selfRef">HTTP Upgrade</a>
        </h3>
<p id="section-4.5-1">HTTP/3 does not support the HTTP Upgrade mechanism (<span><a href="https://rfc-editor.org/rfc/rfc9110#section-7.8" class="relref">Section 7.8</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>) or the 101 (Switching Protocols) informational status code
(<span><a href="https://rfc-editor.org/rfc/rfc9110#section-15.2.2" class="relref">Section 15.2.2</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>).<a href="#section-4.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="server-push">
<section id="section-4.6">
        <h3 id="name-server-push">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-server-push" class="section-name selfRef">Server Push</a>
        </h3>
<span id="iref-push-id-74" class="iref"></span>
        <p id="section-4.6-1">Server push is an interaction mode that permits a server to push a
request-response exchange to a client in anticipation of the client making the
indicated request.  This trades off network usage against a potential latency
gain.  HTTP/3 server push is similar to what is described in
<span><a href="https://rfc-editor.org/rfc/rfc9113#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC9113" class="xref">HTTP/2</a>]</span>, but it uses different mechanisms.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<p id="section-4.6-2">Each server push is assigned a unique push ID by the server.  The push ID is
used to refer to the push in various contexts throughout the lifetime of the
HTTP/3 connection.<a href="#section-4.6-2" class="pilcrow">¶</a></p>
<p id="section-4.6-3">The push ID space begins at zero and ends at a maximum value set by the
<a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-75" class="iref"></span> frame.  In particular, a server is not
able to push until after the client sends a <a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-76" class="iref"></span> frame.  A client sends
<a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-77" class="iref"></span> frames to control the number of pushes that a server can promise.  A
server <span class="bcp14">SHOULD</span> use push IDs sequentially, beginning from zero.  A client <span class="bcp14">MUST</span>
treat receipt of a <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-78" class="iref"></span> as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-79" class="iref"></span> of type <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-80" class="iref"></span>
when no <a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-81" class="iref"></span> frame has been sent or when the stream
references a push ID that is greater than the maximum push ID.<a href="#section-4.6-3" class="pilcrow">¶</a></p>
<p id="section-4.6-4">The push ID is used in one or more <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-82" class="iref"></span> frames that carry the control
data and header fields of the request message.  These frames are sent on the
<a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-83" class="iref"></span> that generated the push.  This allows the server push to be
associated with a client request.  When the same push ID is promised on multiple
<a href="#request-streams" class="xref">request streams</a><span id="iref-request-stream-84" class="iref"></span>, the decompressed request field sections <span class="bcp14">MUST</span> contain the same
fields in the same order, and both the name and the value in each field <span class="bcp14">MUST</span> be
identical.<a href="#section-4.6-4" class="pilcrow">¶</a></p>
<p id="section-4.6-5">The push ID is then included with the <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-85" class="iref"></span> that ultimately fulfills
those promises.  The <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-86" class="iref"></span> identifies the push ID of
the promise that it fulfills, then contains a response to the promised request
as described in <a href="#request-response" class="xref">Section 4.1</a>.<a href="#section-4.6-5" class="pilcrow">¶</a></p>
<p id="section-4.6-6">Finally, the push ID can be used in <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-87" class="iref"></span> frames; see
<a href="#frame-cancel-push" class="xref">Section 7.2.3</a>.  Clients use this frame to indicate they do not wish to
receive a promised resource.  Servers use this frame to indicate they will not
be fulfilling a previous promise.<a href="#section-4.6-6" class="pilcrow">¶</a></p>
<p id="section-4.6-7">Not all requests can be pushed.  A server <span class="bcp14">MAY</span> push requests that have the
following properties:<a href="#section-4.6-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6-8.1">cacheable; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-9.2.3" class="relref">Section 9.2.3</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span><a href="#section-4.6-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.6-8.2">safe; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-9.2.1" class="relref">Section 9.2.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span><a href="#section-4.6-8.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.6-8.3">does not include request content or a trailer section<a href="#section-4.6-8.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.6-9">The server <span class="bcp14">MUST</span> include a value in the :authority pseudo-header field for
which the server is authoritative.  If the client has not yet validated the
connection for the origin indicated by the pushed request, it <span class="bcp14">MUST</span> perform the
same verification process it would do before sending a request for that origin
on the connection; see <a href="#connection-reuse" class="xref">Section 3.3</a>.  If this verification fails,
the client <span class="bcp14">MUST NOT</span> consider the server authoritative for that origin.<a href="#section-4.6-9" class="pilcrow">¶</a></p>
<p id="section-4.6-10">Clients <span class="bcp14">SHOULD</span> send a <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-88" class="iref"></span> frame upon receipt of a <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-89" class="iref"></span> frame
carrying a request that is not cacheable, is not known to be safe, that
indicates the presence of request content, or for which it does not consider the
server authoritative.  Any corresponding responses <span class="bcp14">MUST NOT</span> be used or cached.<a href="#section-4.6-10" class="pilcrow">¶</a></p>
<p id="section-4.6-11">Each pushed response is associated with one or more client requests.  The push
is associated with the <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-90" class="iref"></span> on which the <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-91" class="iref"></span> frame was
received.  The same server push can be associated with additional client
requests using a <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-92" class="iref"></span> frame with the same push ID on multiple <a href="#request-streams" class="xref">request
streams</a><span id="iref-request-stream-93" class="iref"></span>.  These associations do not affect the operation of the protocol, but
they <span class="bcp14">MAY</span> be considered by user agents when deciding how to use pushed resources.<a href="#section-4.6-11" class="pilcrow">¶</a></p>
<p id="section-4.6-12">Ordering of a <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-94" class="iref"></span> frame in relation to certain parts of the response is
important. The server <span class="bcp14">SHOULD</span> send <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-95" class="iref"></span> frames prior to sending <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-96" class="iref"></span>
or <a href="#frame-data" class="xref">DATA</a><span id="iref-data-97" class="iref"></span> frames that reference the promised responses.  This reduces the chance
that a client requests a resource that will be pushed by the server.<a href="#section-4.6-12" class="pilcrow">¶</a></p>
<p id="section-4.6-13">Due to reordering, <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-98" class="iref"></span> data can arrive before the corresponding
<a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-99" class="iref"></span> frame.  When a client receives a new <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-100" class="iref"></span> with an
as-yet-unknown push ID, both the associated client request and the pushed
request header fields are unknown.  The client can buffer the stream data in
expectation of the matching <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-101" class="iref"></span>. The client can use stream flow control
(<span><a href="https://rfc-editor.org/rfc/rfc9000#section-4.1" class="relref">Section 4.1</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>) to limit the amount of data a server may
commit to the pushed stream.  Clients <span class="bcp14">SHOULD</span> abort reading and discard data
already read from <a href="#push-streams" class="xref">push streams</a><span id="iref-push-stream-102" class="iref"></span> if no corresponding <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-103" class="iref"></span> frame is
processed in a reasonable amount of time.<a href="#section-4.6-13" class="pilcrow">¶</a></p>
<p id="section-4.6-14">Push stream data can also arrive after a client has cancelled a push. In this
case, the client can abort reading the stream with an error code of
<a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-104" class="iref"></span>. This asks the server not to transfer additional data and
indicates that it will be discarded upon receipt.<a href="#section-4.6-14" class="pilcrow">¶</a></p>
<p id="section-4.6-15">Pushed responses that are cacheable (see <span><a href="https://rfc-editor.org/rfc/rfc9111#section-3" class="relref">Section 3</a> of [<a href="#RFC9111" class="xref">HTTP-CACHING</a>]</span>) can be
stored by the client, if it implements an HTTP cache. Pushed responses are
considered successfully validated on the origin server (e.g., if the "no-cache"
cache response directive is present; see <span><a href="https://rfc-editor.org/rfc/rfc9111#section-5.2.2.4" class="relref">Section 5.2.2.4</a> of [<a href="#RFC9111" class="xref">HTTP-CACHING</a>]</span>) at the
time the pushed response is received.<a href="#section-4.6-15" class="pilcrow">¶</a></p>
<p id="section-4.6-16">Pushed responses that are not cacheable <span class="bcp14">MUST NOT</span> be stored by any HTTP cache.
They <span class="bcp14">MAY</span> be made available to the application separately.<a href="#section-4.6-16" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="connection-closure">
<section id="section-5">
      <h2 id="name-connection-closure">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-connection-closure" class="section-name selfRef">Connection Closure</a>
      </h2>
<p id="section-5-1">Once established, an HTTP/3 connection can be used for many requests and
responses over time until the connection is closed.  Connection closure can
happen in any of several different ways.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="idle-connections">
<section id="section-5.1">
        <h3 id="name-idle-connections">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-idle-connections" class="section-name selfRef">Idle Connections</a>
        </h3>
<p id="section-5.1-1">Each QUIC endpoint declares an idle timeout during the handshake.  If the QUIC
connection remains idle (no packets received) for longer than this duration, the
peer will assume that the connection has been closed.  HTTP/3 implementations
will need to open a new HTTP/3 connection for new requests if the existing
connection has been idle for longer than the idle timeout negotiated during the
QUIC handshake, and they <span class="bcp14">SHOULD</span> do so if approaching the idle timeout; see
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-10.1" class="relref">Section 10.1</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">HTTP clients are expected to request that the transport keep connections open
while there are responses outstanding for requests or server pushes, as
described in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-10.1.2" class="relref">Section 10.1.2</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>. If the client is not
expecting a response from the server, allowing an idle connection to time out is
preferred over expending effort maintaining a connection that might not be
needed.  A gateway <span class="bcp14">MAY</span> maintain connections in anticipation of need rather than
incur the latency cost of connection establishment to servers. Servers <span class="bcp14">SHOULD NOT</span> actively keep connections open.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connection-shutdown">
<section id="section-5.2">
        <h3 id="name-connection-shutdown">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-connection-shutdown" class="section-name selfRef">Connection Shutdown</a>
        </h3>
<p id="section-5.2-1">Even when a connection is not idle, either endpoint can decide to stop using the
connection and initiate a graceful connection close.  Endpoints initiate the
graceful shutdown of an HTTP/3 connection by sending a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-105" class="iref"></span> frame. The <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-106" class="iref"></span>
frame contains an identifier that indicates to the receiver the range of
requests or pushes that were or might be processed in this connection.  The
server sends a client-initiated bidirectional stream ID; the client sends a <a href="#server-push" class="xref">push
ID</a><span id="iref-push-id-107" class="iref"></span>.  Requests or pushes with the indicated identifier or greater are rejected
(<a href="#request-cancellation" class="xref">Section 4.1.1</a>) by the sender of the <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-108" class="iref"></span>. This identifier <span class="bcp14">MAY</span> be
zero if no requests or pushes were processed.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">The information in the <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-109" class="iref"></span> frame enables a client and server to agree on
which requests or pushes were accepted prior to the shutdown of the HTTP/3
connection. Upon sending a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-110" class="iref"></span> frame, the endpoint <span class="bcp14">SHOULD</span> explicitly cancel
(see Sections <a href="#request-cancellation" class="xref">4.1.1</a> and <a href="#frame-cancel-push" class="xref">7.2.3</a>) any requests
or pushes that have identifiers greater than or equal to the one indicated, in
order to clean up transport state for the affected streams. The endpoint <span class="bcp14">SHOULD</span>
continue to do so as more requests or pushes arrive.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">Endpoints <span class="bcp14">MUST NOT</span> initiate new requests or promise new pushes on the connection
after receipt of a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-111" class="iref"></span> frame from the peer.  Clients <span class="bcp14">MAY</span> establish a new
connection to send additional requests.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">Some requests or pushes might already be in transit:<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-5.1">
            <p id="section-5.2-5.1.1">Upon receipt of a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-112" class="iref"></span> frame, if the client has already sent requests with
a stream ID greater than or equal to the identifier contained in the <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-113" class="iref"></span>
frame, those requests will not be processed.  Clients can safely retry
unprocessed requests on a different HTTP connection.  A client that is
unable to retry requests loses all requests that are in flight when the
server closes the connection.<a href="#section-5.2-5.1.1" class="pilcrow">¶</a></p>
<p id="section-5.2-5.1.2">
Requests on stream IDs less than the stream ID in a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-114" class="iref"></span> frame from the
server might have been processed; their status cannot be known until a
response is received, the stream is reset individually, another <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-115" class="iref"></span> is
received with a lower stream ID than that of the request in question,
or the connection terminates.<a href="#section-5.2-5.1.2" class="pilcrow">¶</a></p>
<p id="section-5.2-5.1.3">
Servers <span class="bcp14">MAY</span> reject individual requests on streams below the indicated ID if
these requests were not processed.<a href="#section-5.2-5.1.3" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.2-5.2">If a server receives a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-116" class="iref"></span> frame after having promised pushes with a <a href="#server-push" class="xref">push
ID</a><span id="iref-push-id-117" class="iref"></span> greater than or equal to the identifier contained in the <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-118" class="iref"></span> frame,
those pushes will not be accepted.<a href="#section-5.2-5.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.2-6">Servers <span class="bcp14">SHOULD</span> send a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-119" class="iref"></span> frame when the closing of a connection is known
in advance, even if the advance notice is small, so that the remote peer can
know whether or not a request has been partially processed.  For example, if an
HTTP client sends a POST at the same time that a server closes a QUIC
connection, the client cannot know if the server started to process that POST
request if the server does not send a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-120" class="iref"></span> frame to indicate what streams it
might have acted on.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2-7">An endpoint <span class="bcp14">MAY</span> send multiple <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-121" class="iref"></span> frames indicating different identifiers,
but the identifier in each frame <span class="bcp14">MUST NOT</span> be greater than the identifier in any
previous frame, since clients might already have retried unprocessed requests on
another HTTP connection.  Receiving a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-122" class="iref"></span> containing a larger identifier than
previously received <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-123" class="iref"></span> of type <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-124" class="iref"></span>.<a href="#section-5.2-7" class="pilcrow">¶</a></p>
<p id="section-5.2-8">An endpoint that is attempting to gracefully shut down a connection can send a
<a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-125" class="iref"></span> frame with a value set to the maximum possible value (2<sup>62</sup>-4
for servers, 2<sup>62</sup>-1 for clients). This ensures that the peer stops
creating new requests or pushes. After allowing time for any in-flight requests
or pushes to arrive, the endpoint can send another <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-126" class="iref"></span> frame indicating which
requests or pushes it might accept before the end of the connection. This
ensures that a connection can be cleanly shut down without losing requests.<a href="#section-5.2-8" class="pilcrow">¶</a></p>
<p id="section-5.2-9">A client has more flexibility in the value it chooses for the Push ID field in a
<a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-127" class="iref"></span> that it sends.  A value of 2<sup>62</sup>-1 indicates that the server can
continue fulfilling pushes that have already been promised. A smaller value
indicates the client will reject pushes with push IDs greater than or equal to
this value.  Like the server, the client <span class="bcp14">MAY</span> send subsequent <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-128" class="iref"></span> frames so
long as the specified <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-129" class="iref"></span> is no greater than any previously sent value.<a href="#section-5.2-9" class="pilcrow">¶</a></p>
<p id="section-5.2-10">Even when a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-130" class="iref"></span> indicates that a given request or push will not be processed
or accepted upon receipt, the underlying transport resources still exist.  The
endpoint that initiated these requests can cancel them to clean up transport
state.<a href="#section-5.2-10" class="pilcrow">¶</a></p>
<p id="section-5.2-11">Once all accepted requests and pushes have been processed, the endpoint can
permit the connection to become idle, or it <span class="bcp14">MAY</span> initiate an immediate closure of
the connection.  An endpoint that completes a graceful shutdown <span class="bcp14">SHOULD</span> use the
<a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-131" class="iref"></span> error code when closing the connection.<a href="#section-5.2-11" class="pilcrow">¶</a></p>
<p id="section-5.2-12">If a client has consumed all available bidirectional stream IDs with requests,
the server need not send a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-132" class="iref"></span> frame, since the client is unable to make
further requests.<a href="#section-5.2-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="immediate-application-closure">
<section id="section-5.3">
        <h3 id="name-immediate-application-closu">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-immediate-application-closu" class="section-name selfRef">Immediate Application Closure</a>
        </h3>
<p id="section-5.3-1">An HTTP/3 implementation can immediately close the QUIC connection at any time.
This results in sending a QUIC CONNECTION_CLOSE frame to the peer indicating
that the application layer has terminated the connection.  The application error
code in this frame indicates to the peer why the connection is being closed.
See <a href="#errors" class="xref">Section 8</a> for error codes that can be used when closing a connection in
HTTP/3.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">Before closing the connection, a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-133" class="iref"></span> frame <span class="bcp14">MAY</span> be sent to allow the client to
retry some requests.  Including the <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-134" class="iref"></span> frame in the same packet as the QUIC
CONNECTION_CLOSE frame improves the chances of the frame being received by
clients.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">If there are open streams that have not been explicitly closed, they are
implicitly closed when the connection is closed; see
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-10.2" class="relref">Section 10.2</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="transport-closure">
<section id="section-5.4">
        <h3 id="name-transport-closure">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-transport-closure" class="section-name selfRef">Transport Closure</a>
        </h3>
<p id="section-5.4-1">For various reasons, the QUIC transport could indicate to the application layer
that the connection has terminated.  This might be due to an explicit closure
by the peer, a transport-level error, or a change in network topology that
interrupts connectivity.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">If a connection terminates without a <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-135" class="iref"></span> frame, clients <span class="bcp14">MUST</span> assume that any
request that was sent, whether in whole or in part, might have been processed.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="stream-mapping">
<section id="section-6">
      <h2 id="name-stream-mapping-and-usage">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-stream-mapping-and-usage" class="section-name selfRef">Stream Mapping and Usage</a>
      </h2>
<p id="section-6-1">A QUIC stream provides reliable in-order delivery of bytes, but makes no
guarantees about order of delivery with regard to bytes on other streams. In
version 1 of QUIC, the stream data containing HTTP frames is carried by QUIC
STREAM frames, but this framing is invisible to the HTTP framing layer. The
transport layer buffers and orders received stream data, exposing a reliable
byte stream to the application. Although QUIC permits out-of-order delivery
within a stream, HTTP/3 does not make use of this feature.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">QUIC streams can be either unidirectional, carrying data only from initiator to
receiver, or bidirectional, carrying data in both directions.  Streams can be
initiated by either the client or the server.  For more detail on QUIC streams,
see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-2" class="relref">Section 2</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">When HTTP fields and data are sent over QUIC, the QUIC layer handles most of
the stream management.  HTTP does not need to do any separate multiplexing when
using QUIC: data sent over a QUIC stream always maps to a particular HTTP
transaction or to the entire HTTP/3 connection context.<a href="#section-6-3" class="pilcrow">¶</a></p>
<div id="request-streams">
<section id="section-6.1">
        <h3 id="name-bidirectional-streams">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-bidirectional-streams" class="section-name selfRef">Bidirectional Streams</a>
        </h3>
<span id="iref-request-stream-136" class="iref"></span>
        <p id="section-6.1-1">All client-initiated bidirectional streams are used for HTTP requests and
responses.  A bidirectional stream ensures that the response can be readily
correlated with the request.  These streams are referred to as request streams.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">This means that the client's first request occurs on QUIC stream 0, with
subsequent requests on streams 4, 8, and so on. In order to permit these streams
to open, an HTTP/3 server <span class="bcp14">SHOULD</span> configure non-zero minimum values for the
number of permitted streams and the initial stream flow-control window.  So as
to not unnecessarily limit parallelism, at least 100 request streams <span class="bcp14">SHOULD</span> be
permitted at a time.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">HTTP/3 does not use server-initiated bidirectional streams, though an extension
could define a use for these streams.  Clients <span class="bcp14">MUST</span> treat receipt of a
server-initiated bidirectional stream as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-137" class="iref"></span> of type
<a href="#H3_STREAM_CREATION_ERROR" class="xref">H3_STREAM_CREATION_ERROR</a><span id="iref-h3_stream_creation_error-13" class="iref"></span> unless such an extension has been
negotiated.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="unidirectional-streams">
<section id="section-6.2">
        <h3 id="name-unidirectional-streams">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-unidirectional-streams" class="section-name selfRef">Unidirectional Streams</a>
        </h3>
<p id="section-6.2-1">Unidirectional streams, in either direction, are used for a range of purposes.
The purpose is indicated by a stream type, which is sent as a variable-length
integer at the start of the stream. The format and structure of data that
follows this integer is determined by the stream type.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<span id="name-unidirectional-stream-heade"></span><figure id="figure-1">
          <div class="alignLeft art-ascii-art art-text artwork" id="section-6.2-2.1">
<pre>
Unidirectional Stream Header {
  Stream Type (i),
}
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-unidirectional-stream-heade" class="selfRef">Unidirectional Stream Header</a>
          </figcaption></figure>
<p id="section-6.2-3">Two stream types are defined in this document: <a href="#control-streams" class="xref">control streams</a><span id="iref-control-stream-139" class="iref"></span>
(<a href="#control-streams" class="xref">Section 6.2.1</a>) and <a href="#push-streams" class="xref">push streams</a><span id="iref-push-stream-140" class="iref"></span> (<a href="#push-streams" class="xref">Section 6.2.2</a>). <span>[<a href="#RFC9204" class="xref">QPACK</a>]</span> defines
two additional stream types. Other stream types can be defined by extensions to
HTTP/3; see <a href="#extensions" class="xref">Section 9</a> for more details. Some stream types are reserved
(<a href="#stream-grease" class="xref">Section 6.2.3</a>).<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2-4">The performance of HTTP/3 connections in the early phase of their lifetime is
sensitive to the creation and exchange of data on unidirectional streams.
Endpoints that excessively restrict the number of streams or the flow-control
window of these streams will increase the chance that the remote peer reaches
the limit early and becomes blocked. In particular, implementations should
consider that remote peers may wish to exercise reserved stream behavior
(<a href="#stream-grease" class="xref">Section 6.2.3</a>) with some of the unidirectional streams they are permitted
to use.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
<p id="section-6.2-5">Each endpoint needs to create at least one unidirectional stream for the HTTP
<a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-141" class="iref"></span>. QPACK requires two additional unidirectional streams, and other
extensions might require further streams. Therefore, the transport parameters
sent by both clients and servers <span class="bcp14">MUST</span> allow the peer to create at least three
unidirectional streams. These transport parameters <span class="bcp14">SHOULD</span> also provide at least
1,024 bytes of flow-control credit to each unidirectional stream.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
<p id="section-6.2-6">Note that an endpoint is not required to grant additional credits to create more
unidirectional streams if its peer consumes all the initial credits before
creating the critical unidirectional streams. Endpoints <span class="bcp14">SHOULD</span> create the HTTP
<a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-142" class="iref"></span> as well as the unidirectional streams required by mandatory
extensions (such as the QPACK encoder and decoder streams) first, and then
create additional streams as allowed by their peer.<a href="#section-6.2-6" class="pilcrow">¶</a></p>
<p id="section-6.2-7">If the stream header indicates a stream type that is not supported by the
recipient, the remainder of the stream cannot be consumed as the semantics are
unknown. Recipients of unknown stream types <span class="bcp14">MUST</span> either abort reading of the
stream or discard incoming data without further processing.  If reading is
aborted, the recipient <span class="bcp14">SHOULD</span> use the <a href="#H3_STREAM_CREATION_ERROR" class="xref">H3_STREAM_CREATION_ERROR</a><span id="iref-h3_stream_creation_error-14" class="iref"></span> error code or a
reserved error code (<a href="#http-error-codes" class="xref">Section 8.1</a>). The recipient <span class="bcp14">MUST NOT</span> consider
unknown stream types to be a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-144" class="iref"></span> of any kind.<a href="#section-6.2-7" class="pilcrow">¶</a></p>
<p id="section-6.2-8">As certain stream types can affect connection state, a recipient <span class="bcp14">SHOULD NOT</span>
discard data from incoming unidirectional streams prior to reading the stream
type.<a href="#section-6.2-8" class="pilcrow">¶</a></p>
<p id="section-6.2-9">Implementations <span class="bcp14">MAY</span> send stream types before knowing whether the peer supports
them.  However, stream types that could modify the state or semantics of
existing protocol components, including QPACK or other extensions, <span class="bcp14">MUST NOT</span> be
sent until the peer is known to support them.<a href="#section-6.2-9" class="pilcrow">¶</a></p>
<p id="section-6.2-10">A sender can close or reset a unidirectional stream unless otherwise specified.
A receiver <span class="bcp14">MUST</span> tolerate unidirectional streams being closed or reset prior to
the reception of the unidirectional stream header.<a href="#section-6.2-10" class="pilcrow">¶</a></p>
<div id="control-streams">
<section id="section-6.2.1">
          <h4 id="name-control-streams">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-control-streams" class="section-name selfRef">Control Streams</a>
          </h4>
<span id="iref-control-stream-145" class="iref"></span><span id="iref-control-stream-146" class="iref"></span>
          <p id="section-6.2.1-1">A control stream is indicated by a stream type of 0x00.  Data on this stream
consists of HTTP/3 frames, as defined in <a href="#frames" class="xref">Section 7.2</a>.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">Each side <span class="bcp14">MUST</span> initiate a single control stream at the beginning of the
connection and send its <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-147" class="iref"></span> frame as the first frame on this stream.  If
the first frame of the control stream is any other frame type, this <span class="bcp14">MUST</span> be
treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-148" class="iref"></span> of type <a href="#H3_MISSING_SETTINGS" class="xref">H3_MISSING_SETTINGS</a><span id="iref-h3_missing_settings-149" class="iref"></span>. Only one control
stream per peer is permitted; receipt of a second stream claiming to be a
control stream <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-150" class="iref"></span> of type
<a href="#H3_STREAM_CREATION_ERROR" class="xref">H3_STREAM_CREATION_ERROR</a><span id="iref-h3_stream_creation_error-15" class="iref"></span>.  The sender <span class="bcp14">MUST NOT</span> close the control stream, and the
receiver <span class="bcp14">MUST NOT</span> request that the sender close the control stream.  If either
control stream is closed at any point, this <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection
error</a><span id="iref-connection-error-152" class="iref"></span> of type <a href="#H3_CLOSED_CRITICAL_STREAM" class="xref">H3_CLOSED_CRITICAL_STREAM</a><span id="iref-h3_closed_critical_stream-1" class="iref"></span>.  Connection errors are described in
<a href="#errors" class="xref">Section 8</a>.<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
<p id="section-6.2.1-3">Because the contents of the control stream are used to manage the behavior of
other streams, endpoints <span class="bcp14">SHOULD</span> provide enough flow-control credit to keep the
peer's control stream from becoming blocked.<a href="#section-6.2.1-3" class="pilcrow">¶</a></p>
<p id="section-6.2.1-4">A pair of unidirectional streams is used rather than a single bidirectional
stream.  This allows either peer to send data as soon as it is able.  Depending
on whether 0-RTT is available on the QUIC connection, either client or server
might be able to send stream data first.<a href="#section-6.2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="push-streams">
<section id="section-6.2.2">
          <h4 id="name-push-streams">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-push-streams" class="section-name selfRef">Push Streams</a>
          </h4>
<span id="iref-push-stream-154" class="iref"></span><span id="iref-push-stream-155" class="iref"></span>
          <p id="section-6.2.2-1">Server push is an optional feature introduced in HTTP/2 that allows a server to
initiate a response before a request has been made.  See <a href="#server-push" class="xref">Section 4.6</a> for
more details.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">A push stream is indicated by a stream type of 0x01, followed by the <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-156" class="iref"></span>
of the promise that it fulfills, encoded as a variable-length integer. The
remaining data on this stream consists of HTTP/3 frames, as defined in
<a href="#frames" class="xref">Section 7.2</a>, and fulfills a promised server push by zero or more interim HTTP
responses followed by a single final HTTP response, as defined in
<a href="#request-response" class="xref">Section 4.1</a>.  Server push and push IDs are described in
<a href="#server-push" class="xref">Section 4.6</a>.<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2-3">Only servers can push; if a server receives a client-initiated push stream, this
<span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-157" class="iref"></span> of type <a href="#H3_STREAM_CREATION_ERROR" class="xref">H3_STREAM_CREATION_ERROR</a><span id="iref-h3_stream_creation_error-158" class="iref"></span>.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
<span id="name-push-stream-header"></span><figure id="figure-2">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-6.2.2-4.1">
<pre>
Push Stream Header {
  Stream Type (i) = 0x01,
  Push ID (i),
}
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-push-stream-header" class="selfRef">Push Stream Header</a>
            </figcaption></figure>
<p id="section-6.2.2-5">A client <span class="bcp14">SHOULD NOT</span> abort reading on a push stream prior to reading the push
stream header, as this could lead to disagreement between client and server on
which push IDs have already been consumed.<a href="#section-6.2.2-5" class="pilcrow">¶</a></p>
<p id="section-6.2.2-6">Each <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-159" class="iref"></span> <span class="bcp14">MUST</span> only be used once in a push stream header. If a client detects
that a push stream header includes a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-160" class="iref"></span> that was used in another push
stream header, the client <span class="bcp14">MUST</span> treat this as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-161" class="iref"></span> of type
<a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-162" class="iref"></span>.<a href="#section-6.2.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="stream-grease">
<section id="section-6.2.3">
          <h4 id="name-reserved-stream-types">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-reserved-stream-types" class="section-name selfRef">Reserved Stream Types</a>
          </h4>
<p id="section-6.2.3-1">Stream types of the format <code>0x1f * N + 0x21</code> for non-negative integer values of
<code>N</code> are reserved to exercise the requirement that unknown types be ignored.
These streams have no semantics, and they can be sent when application-layer
padding is desired. They <span class="bcp14">MAY</span> also be sent on connections where no data is
currently being transferred. Endpoints <span class="bcp14">MUST NOT</span> consider these streams to have
any meaning upon receipt.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2">The payload and length of the stream are selected in any manner the sending
implementation chooses.  When sending a reserved stream type, the implementation
<span class="bcp14">MAY</span> either terminate the stream cleanly or reset it.  When resetting the stream,
either the <a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-163" class="iref"></span> error code or a reserved error code
(<a href="#http-error-codes" class="xref">Section 8.1</a>) <span class="bcp14">SHOULD</span> be used.<a href="#section-6.2.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="http-framing-layer">
<section id="section-7">
      <h2 id="name-http-framing-layer">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-http-framing-layer" class="section-name selfRef">HTTP Framing Layer</a>
      </h2>
<p id="section-7-1">HTTP frames are carried on QUIC streams, as described in <a href="#stream-mapping" class="xref">Section 6</a>.
HTTP/3 defines three stream types: <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-164" class="iref"></span>, <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-165" class="iref"></span>, and <a href="#push-streams" class="xref">push
stream</a><span id="iref-push-stream-166" class="iref"></span>. This section describes HTTP/3 frame formats and their permitted stream
types; see <a href="#stream-frame-mapping" class="xref">Table 1</a> for an overview.  A comparison between
HTTP/2 and HTTP/3 frames is provided in <a href="#h2-frames" class="xref">Appendix A.2</a>.<a href="#section-7-1" class="pilcrow">¶</a></p>
<span id="name-http-3-frames-and-stream-ty"></span><div id="stream-frame-mapping">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-http-3-frames-and-stream-ty" class="selfRef">HTTP/3 Frames and Stream Type Overview</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Frame</th>
            <th class="text-left" rowspan="1" colspan="1">Control Stream</th>
            <th class="text-left" rowspan="1" colspan="1">Request Stream</th>
            <th class="text-left" rowspan="1" colspan="1">Push Stream</th>
            <th class="text-left" rowspan="1" colspan="1">Section</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-data" class="xref">DATA</a><span id="iref-data-167" class="iref"></span>
</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-data" class="xref">Section 7.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-168" class="iref"></span>
</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-headers" class="xref">Section 7.2.2</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-169" class="iref"></span>
</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-cancel-push" class="xref">Section 7.2.3</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-170" class="iref"></span>
</td>
            <td class="text-left" rowspan="1" colspan="1">Yes (1)</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-settings" class="xref">Section 7.2.4</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-171" class="iref"></span>
</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-push-promise" class="xref">Section 7.2.5</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-172" class="iref"></span>
</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-goaway" class="xref">Section 7.2.6</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-173" class="iref"></span>
</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">No</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-max-push-id" class="xref">Section 7.2.7</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Reserved</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">Yes</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#frame-reserved" class="xref">Section 7.2.8</a>
</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-7-3">The <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-174" class="iref"></span> frame can only occur as the first frame of a Control stream; this
is indicated in <a href="#stream-frame-mapping" class="xref">Table 1</a> with a (1).  Specific guidance
is provided in the relevant section.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">Note that, unlike QUIC frames, HTTP/3 frames can span multiple packets.<a href="#section-7-4" class="pilcrow">¶</a></p>
<div id="frame-layout">
<section id="section-7.1">
        <h3 id="name-frame-layout">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-frame-layout" class="section-name selfRef">Frame Layout</a>
        </h3>
<p id="section-7.1-1">All frames have the following format:<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<span id="name-http-3-frame-format"></span><figure id="figure-3">
          <div class="alignLeft art-ascii-art art-text artwork" id="section-7.1-2.1">
<pre>
HTTP/3 Frame Format {
  Type (i),
  Length (i),
  Frame Payload (..),
}
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-http-3-frame-format" class="selfRef">HTTP/3 Frame Format</a>
          </figcaption></figure>
<p id="section-7.1-3">A frame includes the following fields:<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.1-4">
          <dt id="section-7.1-4.1">Type:</dt>
          <dd style="margin-left: 1.5em" id="section-7.1-4.2">
            <p id="section-7.1-4.2.1">A variable-length integer that identifies the frame type.<a href="#section-7.1-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-4.3">Length:</dt>
          <dd style="margin-left: 1.5em" id="section-7.1-4.4">
            <p id="section-7.1-4.4.1">A variable-length integer that describes the length in bytes of
the Frame Payload.<a href="#section-7.1-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-4.5">Frame Payload:</dt>
          <dd style="margin-left: 1.5em" id="section-7.1-4.6">
            <p id="section-7.1-4.6.1">A payload, the semantics of which are determined by the Type field.<a href="#section-7.1-4.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-7.1-5">Each frame's payload <span class="bcp14">MUST</span> contain exactly the fields identified in its
description.  A frame payload that contains additional bytes after the
identified fields or a frame payload that terminates before the end of the
identified fields <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-175" class="iref"></span> of type
<a href="#H3_FRAME_ERROR" class="xref">H3_FRAME_ERROR</a><span id="iref-h3_frame_error-176" class="iref"></span>.  In particular, redundant length encodings <span class="bcp14">MUST</span>
be verified to be self-consistent; see <a href="#frame-parsing" class="xref">Section 10.8</a>.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<p id="section-7.1-6">When a stream terminates cleanly, if the last frame on the stream was truncated,
this <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-177" class="iref"></span> of type <a href="#H3_FRAME_ERROR" class="xref">H3_FRAME_ERROR</a><span id="iref-h3_frame_error-178" class="iref"></span>. Streams that
terminate abruptly may be reset at any point in a frame.<a href="#section-7.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frames">
<section id="section-7.2">
        <h3 id="name-frame-definitions">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-frame-definitions" class="section-name selfRef">Frame Definitions</a>
        </h3>
<div id="frame-data">
<section id="section-7.2.1">
          <h4 id="name-data">
<a href="#section-7.2.1" class="section-number selfRef">7.2.1. </a><a href="#name-data" class="section-name selfRef">DATA</a>
          </h4>
<span id="iref-data-179" class="iref"></span>
          <p id="section-7.2.1-1">DATA frames (type=0x00) convey arbitrary, variable-length sequences of bytes
associated with HTTP request or response content.<a href="#section-7.2.1-1" class="pilcrow">¶</a></p>
<p id="section-7.2.1-2">DATA frames <span class="bcp14">MUST</span> be associated with an HTTP request or response.  If a DATA
frame is received on a <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-180" class="iref"></span>, the recipient <span class="bcp14">MUST</span> respond with a
<a href="#errors" class="xref">connection error</a><span id="iref-connection-error-181" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-182" class="iref"></span>.<a href="#section-7.2.1-2" class="pilcrow">¶</a></p>
<span id="name-data-frame"></span><figure id="figure-4">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-7.2.1-3.1">
<pre>
DATA Frame {
  Type (i) = 0x00,
  Length (i),
  Data (..),
}
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-data-frame" class="selfRef">DATA Frame</a>
            </figcaption></figure>
</section>
</div>
<div id="frame-headers">
<section id="section-7.2.2">
          <h4 id="name-headers">
<a href="#section-7.2.2" class="section-number selfRef">7.2.2. </a><a href="#name-headers" class="section-name selfRef">HEADERS</a>
          </h4>
<span id="iref-headers-183" class="iref"></span>
          <p id="section-7.2.2-1">The HEADERS frame (type=0x01) is used to carry an HTTP field section that is
encoded using QPACK. See <span>[<a href="#RFC9204" class="xref">QPACK</a>]</span> for more details.<a href="#section-7.2.2-1" class="pilcrow">¶</a></p>
<span id="name-headers-frame"></span><figure id="figure-5">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-7.2.2-2.1">
<pre>
HEADERS Frame {
  Type (i) = 0x01,
  Length (i),
  Encoded Field Section (..),
}
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-headers-frame" class="selfRef">HEADERS Frame</a>
            </figcaption></figure>
<p id="section-7.2.2-3">HEADERS frames can only be sent on <a href="#request-streams" class="xref">request streams</a><span id="iref-request-stream-184" class="iref"></span> or <a href="#push-streams" class="xref">push streams</a><span id="iref-push-stream-185" class="iref"></span>.  If a
HEADERS frame is received on a <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-186" class="iref"></span>, the recipient <span class="bcp14">MUST</span> respond with a
<a href="#errors" class="xref">connection error</a><span id="iref-connection-error-187" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-188" class="iref"></span>.<a href="#section-7.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frame-cancel-push">
<section id="section-7.2.3">
          <h4 id="name-cancel_push">
<a href="#section-7.2.3" class="section-number selfRef">7.2.3. </a><a href="#name-cancel_push" class="section-name selfRef">CANCEL_PUSH</a>
          </h4>
<span id="iref-cancel_push-189" class="iref"></span>
          <p id="section-7.2.3-1">The CANCEL_PUSH frame (type=0x03) is used to request cancellation of a server
push prior to the <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-190" class="iref"></span> being received.  The CANCEL_PUSH frame identifies
a server push by <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-191" class="iref"></span> (see <a href="#server-push" class="xref">Section 4.6</a>), encoded as a variable-length
integer.<a href="#section-7.2.3-1" class="pilcrow">¶</a></p>
<p id="section-7.2.3-2">When a client sends a CANCEL_PUSH frame, it is indicating that it does not wish
to receive the promised resource.  The server <span class="bcp14">SHOULD</span> abort sending the resource,
but the mechanism to do so depends on the state of the corresponding <a href="#push-streams" class="xref">push
stream</a><span id="iref-push-stream-192" class="iref"></span>.  If the server has not yet created a <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-193" class="iref"></span>, it does not create
one.  If the <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-194" class="iref"></span> is open, the server <span class="bcp14">SHOULD</span> abruptly terminate that
stream.  If the <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-195" class="iref"></span> has already ended, the server <span class="bcp14">MAY</span> still abruptly
terminate the stream or <span class="bcp14">MAY</span> take no action.<a href="#section-7.2.3-2" class="pilcrow">¶</a></p>
<p id="section-7.2.3-3">A server sends a CANCEL_PUSH frame to indicate that it will not be fulfilling a
promise that was previously sent.  The client cannot expect the corresponding
promise to be fulfilled, unless it has already received and processed the
promised response. Regardless of whether a <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-196" class="iref"></span> has been opened, a server
<span class="bcp14">SHOULD</span> send a CANCEL_PUSH frame when it determines that promise will not be
fulfilled.  If a stream has already been opened, the server can abort sending on
the stream with an error code of <a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-197" class="iref"></span>.<a href="#section-7.2.3-3" class="pilcrow">¶</a></p>
<p id="section-7.2.3-4">Sending a CANCEL_PUSH frame has no direct effect on the state of existing <a href="#push-streams" class="xref">push
streams</a><span id="iref-push-stream-198" class="iref"></span>. A client <span class="bcp14">SHOULD NOT</span> send a CANCEL_PUSH frame when it has already
received a corresponding <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-199" class="iref"></span>.  A <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-200" class="iref"></span> could arrive after a client
has sent a CANCEL_PUSH frame, because a server might not have processed the
CANCEL_PUSH. The client <span class="bcp14">SHOULD</span> abort reading the stream with an error code of
<a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-201" class="iref"></span>.<a href="#section-7.2.3-4" class="pilcrow">¶</a></p>
<p id="section-7.2.3-5">A CANCEL_PUSH frame is sent on the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-202" class="iref"></span>.  Receiving a CANCEL_PUSH
frame on a stream other than the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-203" class="iref"></span> <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection
error</a><span id="iref-connection-error-204" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-205" class="iref"></span>.<a href="#section-7.2.3-5" class="pilcrow">¶</a></p>
<span id="name-cancel_push-frame"></span><figure id="figure-6">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-7.2.3-6.1">
<pre>
CANCEL_PUSH Frame {
  Type (i) = 0x03,
  Length (i),
  Push ID (i),
}
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-cancel_push-frame" class="selfRef">CANCEL_PUSH Frame</a>
            </figcaption></figure>
<p id="section-7.2.3-7">The CANCEL_PUSH frame carries a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-206" class="iref"></span> encoded as a variable-length integer.
The Push ID field identifies the server push that is being cancelled; see
<a href="#server-push" class="xref">Section 4.6</a>.  If a CANCEL_PUSH frame is received that references a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-207" class="iref"></span>
greater than currently allowed on the connection, this <span class="bcp14">MUST</span> be treated as a
<a href="#errors" class="xref">connection error</a><span id="iref-connection-error-208" class="iref"></span> of type <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-209" class="iref"></span>.<a href="#section-7.2.3-7" class="pilcrow">¶</a></p>
<p id="section-7.2.3-8">If the client receives a CANCEL_PUSH frame, that frame might identify a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-210" class="iref"></span>
that has not yet been mentioned by a <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-211" class="iref"></span> frame due to reordering.  If a
server receives a CANCEL_PUSH frame for a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-212" class="iref"></span> that has not yet been
mentioned by a <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-213" class="iref"></span> frame, this <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-214" class="iref"></span> of
type <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-215" class="iref"></span>.<a href="#section-7.2.3-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frame-settings">
<section id="section-7.2.4">
          <h4 id="name-settings">
<a href="#section-7.2.4" class="section-number selfRef">7.2.4. </a><a href="#name-settings" class="section-name selfRef">SETTINGS</a>
          </h4>
<span id="iref-settings-216" class="iref"></span>
          <p id="section-7.2.4-1">The SETTINGS frame (type=0x04) conveys configuration parameters that affect how
endpoints communicate, such as preferences and constraints on peer behavior.
Individually, a SETTINGS parameter can also be referred to as a "setting"; the
identifier and value of each setting parameter can be referred to as a "setting
identifier" and a "setting value".<a href="#section-7.2.4-1" class="pilcrow">¶</a></p>
<p id="section-7.2.4-2">SETTINGS frames always apply to an entire HTTP/3 connection, never a single
stream.  A SETTINGS frame <span class="bcp14">MUST</span> be sent as the first frame of each <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-217" class="iref"></span>
(see <a href="#control-streams" class="xref">Section 6.2.1</a>) by each peer, and it <span class="bcp14">MUST NOT</span> be sent subsequently. If
an endpoint receives a second SETTINGS frame on the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-218" class="iref"></span>, the endpoint
<span class="bcp14">MUST</span> respond with a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-219" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-220" class="iref"></span>.<a href="#section-7.2.4-2" class="pilcrow">¶</a></p>
<p id="section-7.2.4-3">SETTINGS frames <span class="bcp14">MUST NOT</span> be sent on any stream other than the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-221" class="iref"></span>.
If an endpoint receives a SETTINGS frame on a different stream, the endpoint
<span class="bcp14">MUST</span> respond with a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-222" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-223" class="iref"></span>.<a href="#section-7.2.4-3" class="pilcrow">¶</a></p>
<p id="section-7.2.4-4">SETTINGS parameters are not negotiated; they describe characteristics of the
sending peer that can be used by the receiving peer. However, a negotiation
can be implied by the use of SETTINGS: each peer uses SETTINGS to advertise a
set of supported values. The definition of the setting would describe how each
peer combines the two sets to conclude which choice will be used.  SETTINGS does
not provide a mechanism to identify when the choice takes effect.<a href="#section-7.2.4-4" class="pilcrow">¶</a></p>
<p id="section-7.2.4-5">Different values for the same parameter can be advertised by each peer. For
example, a client might be willing to consume a very large response field
section, while servers are more cautious about request size.<a href="#section-7.2.4-5" class="pilcrow">¶</a></p>
<p id="section-7.2.4-6">The same setting identifier <span class="bcp14">MUST NOT</span> occur more than once in the SETTINGS frame.
A receiver <span class="bcp14">MAY</span> treat the presence of duplicate setting identifiers as a
<a href="#errors" class="xref">connection error</a><span id="iref-connection-error-224" class="iref"></span> of type <a href="#H3_SETTINGS_ERROR" class="xref">H3_SETTINGS_ERROR</a><span id="iref-h3_settings_error-225" class="iref"></span>.<a href="#section-7.2.4-6" class="pilcrow">¶</a></p>
<p id="section-7.2.4-7">The payload of a SETTINGS frame consists of zero or more parameters.  Each
parameter consists of a setting identifier and a value, both encoded as QUIC
variable-length integers.<a href="#section-7.2.4-7" class="pilcrow">¶</a></p>
<span id="name-settings-frame"></span><figure id="figure-7">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-7.2.4-8.1">
<pre>
Setting {
  Identifier (i),
  Value (i),
}

SETTINGS Frame {
  Type (i) = 0x04,
  Length (i),
  Setting (..) ...,
}
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-settings-frame" class="selfRef">SETTINGS Frame</a>
            </figcaption></figure>
<p id="section-7.2.4-9">An implementation <span class="bcp14">MUST</span> ignore any parameter with an identifier it does
not understand.<a href="#section-7.2.4-9" class="pilcrow">¶</a></p>
<div id="settings-parameters">
<section id="section-7.2.4.1">
            <h5 id="name-defined-settings-parameters">
<a href="#section-7.2.4.1" class="section-number selfRef">7.2.4.1. </a><a href="#name-defined-settings-parameters" class="section-name selfRef">Defined SETTINGS Parameters</a>
            </h5>
<p id="section-7.2.4.1-1">The following settings are defined in HTTP/3:<a href="#section-7.2.4.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.4.1-2">
              <dt id="section-7.2.4.1-2.1">
<a href="#SETTINGS_MAX_FIELD_SECTION_SIZE" class="xref">SETTINGS_MAX_FIELD_SECTION_SIZE</a><span id="iref-settings_max_field_section_s" class="iref"></span> (0x06):</dt>
              <dd style="margin-left: 1.5em" id="section-7.2.4.1-2.2">
                <div id="SETTINGS_MAX_FIELD_SECTION_SIZE">
<p id="section-7.2.4.1-2.2.1">The default value is unlimited.  See <a href="#header-size-constraints" class="xref">Section 4.2.2</a> for usage.<a href="#section-7.2.4.1-2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-7.2.4.1-3">Setting identifiers of the format <code>0x1f * N + 0x21</code> for non-negative integer
values of <code>N</code> are reserved to exercise the requirement that unknown identifiers
be ignored.  Such settings have no defined meaning. Endpoints <span class="bcp14">SHOULD</span> include at
least one such setting in their SETTINGS frame. Endpoints <span class="bcp14">MUST NOT</span> consider such
settings to have any meaning upon receipt.<a href="#section-7.2.4.1-3" class="pilcrow">¶</a></p>
<p id="section-7.2.4.1-4">Because the setting has no defined meaning, the value of the setting can be any
value the implementation selects.<a href="#section-7.2.4.1-4" class="pilcrow">¶</a></p>
<p id="section-7.2.4.1-5">Setting identifiers that were defined in <span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span> where there is no
corresponding HTTP/3 setting have also been reserved (<a href="#iana-settings" class="xref">Section 11.2.2</a>). These
reserved settings <span class="bcp14">MUST NOT</span> be sent, and their receipt <span class="bcp14">MUST</span> be treated as a
<a href="#errors" class="xref">connection error</a><span id="iref-connection-error-227" class="iref"></span> of type <a href="#H3_SETTINGS_ERROR" class="xref">H3_SETTINGS_ERROR</a><span id="iref-h3_settings_error-228" class="iref"></span>.<a href="#section-7.2.4.1-5" class="pilcrow">¶</a></p>
<p id="section-7.2.4.1-6">Additional settings can be defined by extensions to HTTP/3; see <a href="#extensions" class="xref">Section 9</a>
for more details.<a href="#section-7.2.4.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="settings-initialization">
<section id="section-7.2.4.2">
            <h5 id="name-initialization">
<a href="#section-7.2.4.2" class="section-number selfRef">7.2.4.2. </a><a href="#name-initialization" class="section-name selfRef">Initialization</a>
            </h5>
<p id="section-7.2.4.2-1">An HTTP implementation <span class="bcp14">MUST NOT</span> send frames or requests that would be invalid
based on its current understanding of the peer's settings.<a href="#section-7.2.4.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2.4.2-2">All settings begin at an initial value.  Each endpoint <span class="bcp14">SHOULD</span> use these initial
values to send messages before the peer's SETTINGS frame has arrived, as packets
carrying the settings can be lost or delayed.  When the SETTINGS frame arrives,
any settings are changed to their new values.<a href="#section-7.2.4.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2.4.2-3">This removes the need to wait for the SETTINGS frame before sending messages.
Endpoints <span class="bcp14">MUST NOT</span> require any data to be received from the peer prior to
sending the SETTINGS frame; settings <span class="bcp14">MUST</span> be sent as soon as the transport is
ready to send data.<a href="#section-7.2.4.2-3" class="pilcrow">¶</a></p>
<p id="section-7.2.4.2-4">For servers, the initial value of each client setting is the default value.<a href="#section-7.2.4.2-4" class="pilcrow">¶</a></p>
<p id="section-7.2.4.2-5">For clients using a 1-RTT QUIC connection, the initial value of each server
setting is the default value.  1-RTT keys will always become available prior to
the packet containing SETTINGS being processed by QUIC, even if the server sends
SETTINGS immediately.  Clients <span class="bcp14">SHOULD NOT</span> wait indefinitely for SETTINGS to
arrive before sending requests, but they <span class="bcp14">SHOULD</span> process received datagrams in
order to increase the likelihood of processing SETTINGS before sending the first
request.<a href="#section-7.2.4.2-5" class="pilcrow">¶</a></p>
<p id="section-7.2.4.2-6">When a 0-RTT QUIC connection is being used, the initial value of each server
setting is the value used in the previous session. Clients <span class="bcp14">SHOULD</span> store the
settings the server provided in the HTTP/3 connection where resumption
information was provided, but they <span class="bcp14">MAY</span> opt not to store settings in certain
cases (e.g., if the session ticket is received before the SETTINGS frame). A
client <span class="bcp14">MUST</span> comply with stored settings -- or default values if no values are
stored -- when attempting 0-RTT. Once a server has provided new settings,
clients <span class="bcp14">MUST</span> comply with those values.<a href="#section-7.2.4.2-6" class="pilcrow">¶</a></p>
<p id="section-7.2.4.2-7">A server can remember the settings that it advertised or store an
integrity-protected copy of the values in the ticket and recover the information
when accepting 0-RTT data. A server uses the HTTP/3 settings values in
determining whether to accept 0-RTT data.  If the server cannot determine that
the settings remembered by a client are compatible with its current settings, it
<span class="bcp14">MUST NOT</span> accept 0-RTT data.  Remembered settings are compatible if a client
complying with those settings would not violate the server's current settings.<a href="#section-7.2.4.2-7" class="pilcrow">¶</a></p>
<p id="section-7.2.4.2-8">A server <span class="bcp14">MAY</span> accept 0-RTT and subsequently provide different settings in its
SETTINGS frame. If 0-RTT data is accepted by the server, its SETTINGS frame <span class="bcp14">MUST NOT</span> reduce any limits or alter any values that might be violated by the client
with its 0-RTT data.  The server <span class="bcp14">MUST</span> include all settings that differ from
their default values.  If a server accepts 0-RTT but then sends settings that
are not compatible with the previously specified settings, this <span class="bcp14">MUST</span> be treated
as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-229" class="iref"></span> of type <a href="#H3_SETTINGS_ERROR" class="xref">H3_SETTINGS_ERROR</a><span id="iref-h3_settings_error-230" class="iref"></span>. If a server accepts 0-RTT but
then sends a SETTINGS frame that omits a setting value that the client
understands (apart from reserved setting identifiers) that was previously
specified to have a non-default value, this <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection
error</a><span id="iref-connection-error-231" class="iref"></span> of type <a href="#H3_SETTINGS_ERROR" class="xref">H3_SETTINGS_ERROR</a><span id="iref-h3_settings_error-232" class="iref"></span>.<a href="#section-7.2.4.2-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="frame-push-promise">
<section id="section-7.2.5">
          <h4 id="name-push_promise">
<a href="#section-7.2.5" class="section-number selfRef">7.2.5. </a><a href="#name-push_promise" class="section-name selfRef">PUSH_PROMISE</a>
          </h4>
<span id="iref-push_promise-233" class="iref"></span>
          <p id="section-7.2.5-1">The PUSH_PROMISE frame (type=0x05) is used to carry a promised request header
section from server to client on a <a href="#request-streams" class="xref">request stream</a><span id="iref-request-stream-234" class="iref"></span>.<a href="#section-7.2.5-1" class="pilcrow">¶</a></p>
<span id="name-push_promise-frame"></span><figure id="figure-8">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-7.2.5-2.1">
<pre>
PUSH_PROMISE Frame {
  Type (i) = 0x05,
  Length (i),
  Push ID (i),
  Encoded Field Section (..),
}
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-push_promise-frame" class="selfRef">PUSH_PROMISE Frame</a>
            </figcaption></figure>
<p id="section-7.2.5-3">The payload consists of:<a href="#section-7.2.5-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2.5-4">
            <dt id="section-7.2.5-4.1">Push ID:</dt>
            <dd style="margin-left: 1.5em" id="section-7.2.5-4.2">
              <p id="section-7.2.5-4.2.1">A variable-length integer that identifies the server push operation.  A <a href="#server-push" class="xref">push
ID</a><span id="iref-push-id-235" class="iref"></span> is used in <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-236" class="iref"></span> headers (<a href="#server-push" class="xref">Section 4.6</a>) and <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-237" class="iref"></span> frames.<a href="#section-7.2.5-4.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-7.2.5-4.3">Encoded Field Section:</dt>
            <dd style="margin-left: 1.5em" id="section-7.2.5-4.4">
              <p id="section-7.2.5-4.4.1">QPACK-encoded request header fields for the promised response.  See
<span>[<a href="#RFC9204" class="xref">QPACK</a>]</span> for more details.<a href="#section-7.2.5-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-7.2.5-5">A server <span class="bcp14">MUST NOT</span> use a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-238" class="iref"></span> that is larger than the client has provided in a
<a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-239" class="iref"></span> frame (<a href="#frame-max-push-id" class="xref">Section 7.2.7</a>). A client <span class="bcp14">MUST</span> treat receipt of a
PUSH_PROMISE frame that contains a larger <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-240" class="iref"></span> than the client has advertised
as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-241" class="iref"></span> of <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-242" class="iref"></span>.<a href="#section-7.2.5-5" class="pilcrow">¶</a></p>
<p id="section-7.2.5-6">A server <span class="bcp14">MAY</span> use the same <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-243" class="iref"></span> in multiple PUSH_PROMISE frames. If so, the
decompressed request header sets <span class="bcp14">MUST</span> contain the same fields in the same order,
and both the name and the value in each field <span class="bcp14">MUST</span> be exact matches. Clients
<span class="bcp14">SHOULD</span> compare the request header sections for resources promised multiple
times. If a client receives a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-244" class="iref"></span> that has already been promised and detects
a mismatch, it <span class="bcp14">MUST</span> respond with a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-245" class="iref"></span> of type
<a href="#H3_GENERAL_PROTOCOL_ERROR" class="xref">H3_GENERAL_PROTOCOL_ERROR</a><span id="iref-h3_general_protocol_error-2" class="iref"></span>. If the decompressed field sections match exactly, the
client <span class="bcp14">SHOULD</span> associate the pushed content with each stream on which a
PUSH_PROMISE frame was received.<a href="#section-7.2.5-6" class="pilcrow">¶</a></p>
<p id="section-7.2.5-7">Allowing duplicate references to the same <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-247" class="iref"></span> is primarily to reduce
duplication caused by concurrent requests.  A server <span class="bcp14">SHOULD</span> avoid reusing a <a href="#server-push" class="xref">push
ID</a><span id="iref-push-id-248" class="iref"></span> over a long period.  Clients are likely to consume server push responses and
not retain them for reuse over time.  Clients that see a PUSH_PROMISE frame that
uses a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-249" class="iref"></span> that they have already consumed and discarded are forced to
ignore the promise.<a href="#section-7.2.5-7" class="pilcrow">¶</a></p>
<p id="section-7.2.5-8">If a PUSH_PROMISE frame is received on the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-250" class="iref"></span>, the client <span class="bcp14">MUST</span>
respond with a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-251" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-252" class="iref"></span>.<a href="#section-7.2.5-8" class="pilcrow">¶</a></p>
<p id="section-7.2.5-9">A client <span class="bcp14">MUST NOT</span> send a PUSH_PROMISE frame.  A server <span class="bcp14">MUST</span> treat the receipt of
a PUSH_PROMISE frame as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-253" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-254" class="iref"></span>.<a href="#section-7.2.5-9" class="pilcrow">¶</a></p>
<p id="section-7.2.5-10">See <a href="#server-push" class="xref">Section 4.6</a> for a description of the overall server push mechanism.<a href="#section-7.2.5-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frame-goaway">
<section id="section-7.2.6">
          <h4 id="name-goaway">
<a href="#section-7.2.6" class="section-number selfRef">7.2.6. </a><a href="#name-goaway" class="section-name selfRef">GOAWAY</a>
          </h4>
<span id="iref-goaway-255" class="iref"></span>
          <p id="section-7.2.6-1">The GOAWAY frame (type=0x07) is used to initiate graceful shutdown of an HTTP/3
connection by either endpoint.  GOAWAY allows an endpoint to stop accepting new
requests or pushes while still finishing processing of previously received
requests and pushes.  This enables administrative actions, like server
maintenance.  GOAWAY by itself does not close a connection.<a href="#section-7.2.6-1" class="pilcrow">¶</a></p>
<span id="name-goaway-frame"></span><figure id="figure-9">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-7.2.6-2.1">
<pre>
GOAWAY Frame {
  Type (i) = 0x07,
  Length (i),
  Stream ID/Push ID (i),
}
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-goaway-frame" class="selfRef">GOAWAY Frame</a>
            </figcaption></figure>
<p id="section-7.2.6-3">The GOAWAY frame is always sent on the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-256" class="iref"></span>.  In the server-to-client
direction, it carries a QUIC stream ID for a client-initiated bidirectional
stream encoded as a variable-length integer.  A client <span class="bcp14">MUST</span> treat receipt of a
GOAWAY frame containing a stream ID of any other type as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-257" class="iref"></span> of
type <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-258" class="iref"></span>.<a href="#section-7.2.6-3" class="pilcrow">¶</a></p>
<p id="section-7.2.6-4">In the client-to-server direction, the GOAWAY frame carries a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-259" class="iref"></span> encoded as
a variable-length integer.<a href="#section-7.2.6-4" class="pilcrow">¶</a></p>
<p id="section-7.2.6-5">The GOAWAY frame applies to the entire connection, not a specific stream.  A
client <span class="bcp14">MUST</span> treat a GOAWAY frame on a stream other than the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-260" class="iref"></span> as a
<a href="#errors" class="xref">connection error</a><span id="iref-connection-error-261" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-262" class="iref"></span>.<a href="#section-7.2.6-5" class="pilcrow">¶</a></p>
<p id="section-7.2.6-6">See <a href="#connection-shutdown" class="xref">Section 5.2</a> for more information on the use of the GOAWAY frame.<a href="#section-7.2.6-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frame-max-push-id">
<section id="section-7.2.7">
          <h4 id="name-max_push_id">
<a href="#section-7.2.7" class="section-number selfRef">7.2.7. </a><a href="#name-max_push_id" class="section-name selfRef">MAX_PUSH_ID</a>
          </h4>
<span id="iref-max_push_id-263" class="iref"></span>
          <p id="section-7.2.7-1">The MAX_PUSH_ID frame (type=0x0d) is used by clients to control the number of
server pushes that the server can initiate.  This sets the maximum value for a
<a href="#server-push" class="xref">push ID</a><span id="iref-push-id-264" class="iref"></span> that the server can use in <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-265" class="iref"></span> and <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-266" class="iref"></span> frames.
Consequently, this also limits the number of <a href="#push-streams" class="xref">push streams</a><span id="iref-push-stream-267" class="iref"></span> that the server can
initiate in addition to the limit maintained by the QUIC transport.<a href="#section-7.2.7-1" class="pilcrow">¶</a></p>
<p id="section-7.2.7-2">The MAX_PUSH_ID frame is always sent on the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-268" class="iref"></span>.  Receipt of a
MAX_PUSH_ID frame on any other stream <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-269" class="iref"></span> of
type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-270" class="iref"></span>.<a href="#section-7.2.7-2" class="pilcrow">¶</a></p>
<p id="section-7.2.7-3">A server <span class="bcp14">MUST NOT</span> send a MAX_PUSH_ID frame.  A client <span class="bcp14">MUST</span> treat the receipt of
a MAX_PUSH_ID frame as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-271" class="iref"></span> of type <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-272" class="iref"></span>.<a href="#section-7.2.7-3" class="pilcrow">¶</a></p>
<p id="section-7.2.7-4">The maximum <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-273" class="iref"></span> is unset when an HTTP/3 connection is created, meaning that
a server cannot push until it receives a MAX_PUSH_ID frame.  A client that
wishes to manage the number of promised server pushes can increase the maximum
<a href="#server-push" class="xref">push ID</a><span id="iref-push-id-274" class="iref"></span> by sending MAX_PUSH_ID frames as the server fulfills or cancels server
pushes.<a href="#section-7.2.7-4" class="pilcrow">¶</a></p>
<span id="name-max_push_id-frame"></span><figure id="figure-10">
            <div class="alignLeft art-ascii-art art-text artwork" id="section-7.2.7-5.1">
<pre>
MAX_PUSH_ID Frame {
  Type (i) = 0x0d,
  Length (i),
  Push ID (i),
}
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-max_push_id-frame" class="selfRef">MAX_PUSH_ID Frame</a>
            </figcaption></figure>
<p id="section-7.2.7-6">The MAX_PUSH_ID frame carries a single variable-length integer that identifies
the maximum value for a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-275" class="iref"></span> that the server can use; see <a href="#server-push" class="xref">Section 4.6</a>.  A
MAX_PUSH_ID frame cannot reduce the maximum <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-276" class="iref"></span>; receipt of a MAX_PUSH_ID
frame that contains a smaller value than previously received <span class="bcp14">MUST</span> be treated as
a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-277" class="iref"></span> of type <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-278" class="iref"></span>.<a href="#section-7.2.7-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frame-reserved">
<section id="section-7.2.8">
          <h4 id="name-reserved-frame-types">
<a href="#section-7.2.8" class="section-number selfRef">7.2.8. </a><a href="#name-reserved-frame-types" class="section-name selfRef">Reserved Frame Types</a>
          </h4>
<p id="section-7.2.8-1">Frame types of the format <code>0x1f * N + 0x21</code> for non-negative integer values of
<code>N</code> are reserved to exercise the requirement that unknown types be ignored
(<a href="#extensions" class="xref">Section 9</a>).  These frames have no semantics, and they <span class="bcp14">MAY</span> be sent on any
stream where frames are allowed to be sent. This enables their use for
application-layer padding.  Endpoints <span class="bcp14">MUST NOT</span> consider these frames to have any
meaning upon receipt.<a href="#section-7.2.8-1" class="pilcrow">¶</a></p>
<p id="section-7.2.8-2">The payload and length of the frames are selected in any manner the
implementation chooses.<a href="#section-7.2.8-2" class="pilcrow">¶</a></p>
<p id="section-7.2.8-3">Frame types that were used in HTTP/2 where there is no corresponding HTTP/3
frame have also been reserved (<a href="#iana-frames" class="xref">Section 11.2.1</a>).  These frame types <span class="bcp14">MUST NOT</span> be
sent, and their receipt <span class="bcp14">MUST</span> be treated as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-279" class="iref"></span> of type
<a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-280" class="iref"></span>.<a href="#section-7.2.8-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="errors">
<section id="section-8">
      <h2 id="name-error-handling">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-error-handling" class="section-name selfRef">Error Handling</a>
      </h2>
<span id="iref-connection-error-281" class="iref"></span><span id="iref-stream-error-282" class="iref"></span>
      <p id="section-8-1">When a stream cannot be completed successfully, QUIC allows the application to
abruptly terminate (reset) that stream and communicate a reason; see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-2.4" class="relref">Section 2.4</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>. This is referred to as a "stream error". An HTTP/3
implementation can decide to close a QUIC stream and communicate the type of
error. Wire encodings of error codes are defined in <a href="#http-error-codes" class="xref">Section 8.1</a>.
Stream errors are distinct from HTTP status codes that indicate error
conditions. Stream errors indicate that the sender did not transfer or consume
the full request or response, while HTTP status codes indicate the result of a
request that was successfully received.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">If an entire connection needs to be terminated, QUIC similarly provides
mechanisms to communicate a reason; see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-5.3" class="relref">Section 5.3</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.  This
is referred to as a "connection error".  Similar to stream errors, an HTTP/3
implementation can terminate a QUIC connection and communicate the reason using
an error code from <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">Although the reasons for closing streams and connections are called "errors",
these actions do not necessarily indicate a problem with the connection or
either implementation. For example, a stream can be reset if the requested
resource is no longer needed.<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">An endpoint <span class="bcp14">MAY</span> choose to treat a stream error as a connection error under
certain circumstances, closing the entire connection in response to a condition
on a single stream.  Implementations need to consider the impact on outstanding
requests before making this choice.<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">Because new error codes can be defined without negotiation (see <a href="#extensions" class="xref">Section 9</a>),
use of an error code in an unexpected context or receipt of an unknown error
code <span class="bcp14">MUST</span> be treated as equivalent to <a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-283" class="iref"></span>.  However, closing a stream
can have other effects regardless of the error code; for example, see
<a href="#request-response" class="xref">Section 4.1</a>.<a href="#section-8-5" class="pilcrow">¶</a></p>
<div id="http-error-codes">
<section id="section-8.1">
        <h3 id="name-http-3-error-codes">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-http-3-error-codes" class="section-name selfRef">HTTP/3 Error Codes</a>
        </h3>
<p id="section-8.1-1">The following error codes are defined for use when abruptly terminating streams,
aborting reading of streams, or immediately closing HTTP/3 connections.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8.1-2">
          <dt id="section-8.1-2.1">
<a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-284" class="iref"></span> (0x0100):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.2">
            <div id="H3_NO_ERROR">
<p id="section-8.1-2.2.1">No error.  This is used when the connection or stream needs to be closed, but
there is no error to signal.<a href="#section-8.1-2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.3">
<a href="#H3_GENERAL_PROTOCOL_ERROR" class="xref">H3_GENERAL_PROTOCOL_ERROR</a><span id="iref-h3_general_protocol_error-28" class="iref"></span> (0x0101):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.4">
            <div id="H3_GENERAL_PROTOCOL_ERROR">
<p id="section-8.1-2.4.1">Peer violated protocol requirements in a way that does not match a more
specific error code or endpoint declines to use the more specific error code.<a href="#section-8.1-2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.5">
<a href="#H3_INTERNAL_ERROR" class="xref">H3_INTERNAL_ERROR</a><span id="iref-h3_internal_error-286" class="iref"></span> (0x0102):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.6">
            <div id="H3_INTERNAL_ERROR">
<p id="section-8.1-2.6.1">An internal error has occurred in the HTTP stack.<a href="#section-8.1-2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.7">
<a href="#H3_STREAM_CREATION_ERROR" class="xref">H3_STREAM_CREATION_ERROR</a><span id="iref-h3_stream_creation_error-28" class="iref"></span> (0x0103):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.8">
            <div id="H3_STREAM_CREATION_ERROR">
<p id="section-8.1-2.8.1">The endpoint detected that its peer created a stream that it will not accept.<a href="#section-8.1-2.8.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.9">
<a href="#H3_CLOSED_CRITICAL_STREAM" class="xref">H3_CLOSED_CRITICAL_STREAM</a><span id="iref-h3_closed_critical_stream-2" class="iref"></span> (0x0104):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.10">
            <div id="H3_CLOSED_CRITICAL_STREAM">
<p id="section-8.1-2.10.1">A stream required by the HTTP/3 connection was closed or reset.<a href="#section-8.1-2.10.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.11">
<a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-289" class="iref"></span> (0x0105):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.12">
            <div id="H3_FRAME_UNEXPECTED">
<p id="section-8.1-2.12.1">A frame was received that was not permitted in the current state or on the
current stream.<a href="#section-8.1-2.12.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.13">
<a href="#H3_FRAME_ERROR" class="xref">H3_FRAME_ERROR</a><span id="iref-h3_frame_error-290" class="iref"></span> (0x0106):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.14">
            <div id="H3_FRAME_ERROR">
<p id="section-8.1-2.14.1">A frame that fails to satisfy layout requirements or with an invalid size
was received.<a href="#section-8.1-2.14.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.15">
<a href="#H3_EXCESSIVE_LOAD" class="xref">H3_EXCESSIVE_LOAD</a><span id="iref-h3_excessive_load-291" class="iref"></span> (0x0107):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.16">
            <div id="H3_EXCESSIVE_LOAD">
<p id="section-8.1-2.16.1">The endpoint detected that its peer is exhibiting a behavior that might be
generating excessive load.<a href="#section-8.1-2.16.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.17">
<a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-292" class="iref"></span> (0x0108):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.18">
            <div id="H3_ID_ERROR">
<p id="section-8.1-2.18.1">A stream ID or <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-293" class="iref"></span> was used incorrectly, such as exceeding a limit,
reducing a limit, or being reused.<a href="#section-8.1-2.18.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.19">
<a href="#H3_SETTINGS_ERROR" class="xref">H3_SETTINGS_ERROR</a><span id="iref-h3_settings_error-294" class="iref"></span> (0x0109):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.20">
            <div id="H3_SETTINGS_ERROR">
<p id="section-8.1-2.20.1">An endpoint detected an error in the payload of a <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-295" class="iref"></span> frame.<a href="#section-8.1-2.20.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.21">
<a href="#H3_MISSING_SETTINGS" class="xref">H3_MISSING_SETTINGS</a><span id="iref-h3_missing_settings-296" class="iref"></span> (0x010a):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.22">
            <div id="H3_MISSING_SETTINGS">
<p id="section-8.1-2.22.1">No <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-297" class="iref"></span> frame was received at the beginning of the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-298" class="iref"></span>.<a href="#section-8.1-2.22.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.23">
<a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-299" class="iref"></span> (0x010b):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.24">
            <div id="H3_REQUEST_REJECTED">
<p id="section-8.1-2.24.1">A server rejected a request without performing any application processing.<a href="#section-8.1-2.24.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.25">
<a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-300" class="iref"></span> (0x010c):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.26">
            <div id="H3_REQUEST_CANCELLED">
<p id="section-8.1-2.26.1">The request or its response (including pushed response) is cancelled.<a href="#section-8.1-2.26.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.27">
<a href="#H3_REQUEST_INCOMPLETE" class="xref">H3_REQUEST_INCOMPLETE</a><span id="iref-h3_request_incomplete-301" class="iref"></span> (0x010d):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.28">
            <div id="H3_REQUEST_INCOMPLETE">
<p id="section-8.1-2.28.1">The client's stream terminated without containing a fully formed request.<a href="#section-8.1-2.28.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.29">
<a href="#H3_MESSAGE_ERROR" class="xref">H3_MESSAGE_ERROR</a><span id="iref-h3_message_error-302" class="iref"></span> (0x010e):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.30">
            <div id="H3_MESSAGE_ERROR">
<p id="section-8.1-2.30.1">An HTTP message was <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-303" class="iref"></span> and cannot be processed.<a href="#section-8.1-2.30.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.31">
<a href="#H3_CONNECT_ERROR" class="xref">H3_CONNECT_ERROR</a><span id="iref-h3_connect_error-304" class="iref"></span> (0x010f):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.32">
            <div id="H3_CONNECT_ERROR">
<p id="section-8.1-2.32.1">The TCP connection established in response to a CONNECT request was reset or
abnormally closed.<a href="#section-8.1-2.32.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.33">
<a href="#H3_VERSION_FALLBACK" class="xref">H3_VERSION_FALLBACK</a><span id="iref-h3_version_fallback-305" class="iref"></span> (0x0110):</dt>
          <dd style="margin-left: 1.5em" id="section-8.1-2.34">
            <div id="H3_VERSION_FALLBACK">
<p id="section-8.1-2.34.1">The requested operation cannot be served over HTTP/3.  The peer should
retry over HTTP/1.1.<a href="#section-8.1-2.34.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-8.1-3">Error codes of the format <code>0x1f * N + 0x21</code> for non-negative integer values of
<code>N</code> are reserved to exercise the requirement that unknown error codes be treated
as equivalent to <a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-306" class="iref"></span> (<a href="#extensions" class="xref">Section 9</a>). Implementations <span class="bcp14">SHOULD</span> select an
error code from this space with some probability when they would have sent
<a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-307" class="iref"></span>.<a href="#section-8.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="extensions">
<section id="section-9">
      <h2 id="name-extensions-to-http-3">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-extensions-to-http-3" class="section-name selfRef">Extensions to HTTP/3</a>
      </h2>
<p id="section-9-1">HTTP/3 permits extension of the protocol.  Within the limitations described in
this section, protocol extensions can be used to provide additional services or
alter any aspect of the protocol.  Extensions are effective only within the
scope of a single HTTP/3 connection.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">This applies to the protocol elements defined in this document.  This does not
affect the existing options for extending HTTP, such as defining new methods,
status codes, or fields.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">Extensions are permitted to use new frame types (<a href="#frames" class="xref">Section 7.2</a>), new settings
(<a href="#settings-parameters" class="xref">Section 7.2.4.1</a>), new error codes (<a href="#errors" class="xref">Section 8</a>), or new unidirectional
stream types (<a href="#unidirectional-streams" class="xref">Section 6.2</a>).  Registries are established for
managing these extension points: frame types (<a href="#iana-frames" class="xref">Section 11.2.1</a>), settings
(<a href="#iana-settings" class="xref">Section 11.2.2</a>), error codes (<a href="#iana-error-codes" class="xref">Section 11.2.3</a>), and stream types
(<a href="#iana-stream-types" class="xref">Section 11.2.4</a>).<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">Implementations <span class="bcp14">MUST</span> ignore unknown or unsupported values in all extensible
protocol elements.  Implementations <span class="bcp14">MUST</span> discard data or abort reading on
unidirectional streams that have unknown or unsupported types.  This means that
any of these extension points can be safely used by extensions without prior
arrangement or negotiation.  However, where a known frame type is required to be
in a specific location, such as the <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-308" class="iref"></span> frame as the first frame of the
<a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-309" class="iref"></span> (see <a href="#control-streams" class="xref">Section 6.2.1</a>), an unknown frame type does not satisfy
that requirement and <span class="bcp14">SHOULD</span> be treated as an error.<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">Extensions that could change the semantics of existing protocol components <span class="bcp14">MUST</span>
be negotiated before being used.  For example, an extension that changes the
layout of the <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-310" class="iref"></span> frame cannot be used until the peer has given a positive
signal that this is acceptable.  Coordinating when such a revised layout comes
into effect could prove complex.  As such, allocating new identifiers for
new definitions of existing protocol elements is likely to be more effective.<a href="#section-9-5" class="pilcrow">¶</a></p>
<p id="section-9-6">This document does not mandate a specific method for negotiating the use of an
extension, but it notes that a setting (<a href="#settings-parameters" class="xref">Section 7.2.4.1</a>) could be used
for that purpose.  If both peers set a value that indicates willingness to use
the extension, then the extension can be used.  If a setting is used for
extension negotiation, the default value <span class="bcp14">MUST</span> be defined in such a fashion that
the extension is disabled if the setting is omitted.<a href="#section-9-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">The security considerations of HTTP/3 should be comparable to those of HTTP/2
with TLS.  However, many of the considerations from <span><a href="https://rfc-editor.org/rfc/rfc9113#section-10" class="relref">Section 10</a> of [<a href="#RFC9113" class="xref">HTTP/2</a>]</span>
apply to <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span> and are discussed in that document.<a href="#section-10-1" class="pilcrow">¶</a></p>
<div id="server-authority">
<section id="section-10.1">
        <h3 id="name-server-authority">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-server-authority" class="section-name selfRef">Server Authority</a>
        </h3>
<p id="section-10.1-1">HTTP/3 relies on the HTTP definition of authority. The security considerations
of establishing authority are discussed in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-17.1" class="relref">Section 17.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cross-protocol-attacks">
<section id="section-10.2">
        <h3 id="name-cross-protocol-attacks">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-cross-protocol-attacks" class="section-name selfRef">Cross-Protocol Attacks</a>
        </h3>
<p id="section-10.2-1">The use of ALPN in the TLS and QUIC handshakes establishes the target
application protocol before application-layer bytes are processed.  This ensures
that endpoints have strong assurances that peers are using the same protocol.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<p id="section-10.2-2">This does not guarantee protection from all cross-protocol attacks. <span><a href="https://rfc-editor.org/rfc/rfc9000#section-21.5" class="relref">Section 21.5</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span> describes some ways in which the plaintext of QUIC
packets can be used to perform request forgery against endpoints that don't use
authenticated transports.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="intermediary-encapsulation-attacks">
<section id="section-10.3">
        <h3 id="name-intermediary-encapsulation-">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-intermediary-encapsulation-" class="section-name selfRef">Intermediary-Encapsulation Attacks</a>
        </h3>
<p id="section-10.3-1">The HTTP/3 field encoding allows the expression of names that are not valid
field names in the syntax used by HTTP (<span><a href="https://rfc-editor.org/rfc/rfc9110#section-5.1" class="relref">Section 5.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>). Requests or
responses containing invalid field names <span class="bcp14">MUST</span> be treated as <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-311" class="iref"></span>.
Therefore, an intermediary cannot translate an HTTP/3 request or response
containing an invalid field name into an HTTP/1.1 message.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<p id="section-10.3-2">Similarly, HTTP/3 can transport field values that are not valid. While most
values that can be encoded will not alter field parsing, carriage return (ASCII
0x0d), line feed (ASCII 0x0a), and the null character (ASCII 0x00) might be
exploited by an attacker if they are translated verbatim. Any request or
response that contains a character not permitted in a field value <span class="bcp14">MUST</span> be
treated as <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-312" class="iref"></span>.  Valid characters are defined by the
"field-content" ABNF rule in <span><a href="https://rfc-editor.org/rfc/rfc9110#section-5.5" class="relref">Section 5.5</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-10.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cacheability-of-pushed-responses">
<section id="section-10.4">
        <h3 id="name-cacheability-of-pushed-resp">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-cacheability-of-pushed-resp" class="section-name selfRef">Cacheability of Pushed Responses</a>
        </h3>
<p id="section-10.4-1">Pushed responses do not have an explicit request from the client; the request is
provided by the server in the <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-313" class="iref"></span> frame.<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<p id="section-10.4-2">Caching responses that are pushed is possible based on the guidance provided by
the origin server in the Cache-Control header field. However, this can cause
issues if a single server hosts more than one tenant.  For example, a server
might offer multiple users each a small portion of its URI space.<a href="#section-10.4-2" class="pilcrow">¶</a></p>
<p id="section-10.4-3">Where multiple tenants share space on the same server, that server <span class="bcp14">MUST</span> ensure
that tenants are not able to push representations of resources that they do not
have authority over.  Failure to enforce this would allow a tenant to provide a
representation that would be served out of cache, overriding the actual
representation that the authoritative tenant provides.<a href="#section-10.4-3" class="pilcrow">¶</a></p>
<p id="section-10.4-4">Clients are required to reject pushed responses for which an origin server is
not authoritative; see <a href="#server-push" class="xref">Section 4.6</a>.<a href="#section-10.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="denial-of-service-considerations">
<section id="section-10.5">
        <h3 id="name-denial-of-service-considera">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-denial-of-service-considera" class="section-name selfRef">Denial-of-Service Considerations</a>
        </h3>
<p id="section-10.5-1">An HTTP/3 connection can demand a greater commitment of resources to operate
than an HTTP/1.1 or HTTP/2 connection.  The use of field compression and flow
control depend on a commitment of resources for storing a greater amount of
state.  Settings for these features ensure that memory commitments for these
features are strictly bounded.<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<p id="section-10.5-2">The number of <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-314" class="iref"></span> frames is constrained in a similar fashion.  A client
that accepts server push <span class="bcp14">SHOULD</span> limit the number of push IDs it issues at a
time.<a href="#section-10.5-2" class="pilcrow">¶</a></p>
<p id="section-10.5-3">Processing capacity cannot be guarded as effectively as state capacity.<a href="#section-10.5-3" class="pilcrow">¶</a></p>
<p id="section-10.5-4">The ability to send undefined protocol elements that the peer is required to
ignore can be abused to cause a peer to expend additional processing time.  This
might be done by setting multiple undefined <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-315" class="iref"></span> parameters, unknown frame
types, or unknown stream types.  Note, however, that some uses are entirely
legitimate, such as optional-to-understand extensions and padding to increase
resistance to traffic analysis.<a href="#section-10.5-4" class="pilcrow">¶</a></p>
<p id="section-10.5-5">Compression of field sections also offers some opportunities to waste processing
resources; see <span><a href="https://rfc-editor.org/rfc/rfc9204#section-7" class="relref">Section 7</a> of [<a href="#RFC9204" class="xref">QPACK</a>]</span> for more details on potential abuses.<a href="#section-10.5-5" class="pilcrow">¶</a></p>
<p id="section-10.5-6">All these features -- i.e., server push, unknown protocol elements, field
compression -- have legitimate uses.  These features become a burden only when
they are used unnecessarily or to excess.<a href="#section-10.5-6" class="pilcrow">¶</a></p>
<p id="section-10.5-7">An endpoint that does not monitor such behavior exposes itself to a risk of
denial-of-service attack.  Implementations <span class="bcp14">SHOULD</span> track the use of these
features and set limits on their use.  An endpoint <span class="bcp14">MAY</span> treat activity that is
suspicious as a <a href="#errors" class="xref">connection error</a><span id="iref-connection-error-316" class="iref"></span> of type <a href="#H3_EXCESSIVE_LOAD" class="xref">H3_EXCESSIVE_LOAD</a><span id="iref-h3_excessive_load-317" class="iref"></span>, but
false positives will result in disrupting valid connections and requests.<a href="#section-10.5-7" class="pilcrow">¶</a></p>
<div id="limits-on-field-section-size">
<section id="section-10.5.1">
          <h4 id="name-limits-on-field-section-siz">
<a href="#section-10.5.1" class="section-number selfRef">10.5.1. </a><a href="#name-limits-on-field-section-siz" class="section-name selfRef">Limits on Field Section Size</a>
          </h4>
<p id="section-10.5.1-1">A large field section (<a href="#request-response" class="xref">Section 4.1</a>) can cause an implementation to
commit a large amount of state.  Header fields that are critical for routing can
appear toward the end of a header section, which prevents streaming of the
header section to its ultimate destination.  This ordering and other reasons,
such as ensuring cache correctness, mean that an endpoint likely needs to buffer
the entire header section.  Since there is no hard limit to the size of a field
section, some endpoints could be forced to commit a large amount of available
memory for header fields.<a href="#section-10.5.1-1" class="pilcrow">¶</a></p>
<p id="section-10.5.1-2">An endpoint can use the <a href="#SETTINGS_MAX_FIELD_SECTION_SIZE" class="xref">SETTINGS_MAX_FIELD_SECTION_SIZE</a><span id="iref-settings_max_field_section_si" class="iref"></span>
(<a href="#header-size-constraints" class="xref">Section 4.2.2</a>) setting to advise peers of limits that might apply
on the size of field sections. This setting is only advisory, so endpoints <span class="bcp14">MAY</span>
choose to send field sections that exceed this limit and risk having the request
or response being treated as <a href="#malformed" class="xref">malformed</a><span id="iref-malformed-319" class="iref"></span>.  This setting is specific to an HTTP/3
connection, so any request or response could encounter a hop with a lower,
unknown limit.  An intermediary can attempt to avoid this problem by passing on
values presented by different peers, but they are not obligated to do so.<a href="#section-10.5.1-2" class="pilcrow">¶</a></p>
<p id="section-10.5.1-3">A server that receives a larger field section than it is willing to handle can
send an HTTP 431 (Request Header Fields Too Large) status code (<span>[<a href="#RFC6585" class="xref">RFC6585</a>]</span>).
A client can discard responses that it cannot process.<a href="#section-10.5.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="connect-issues">
<section id="section-10.5.2">
          <h4 id="name-connect-issues">
<a href="#section-10.5.2" class="section-number selfRef">10.5.2. </a><a href="#name-connect-issues" class="section-name selfRef">CONNECT Issues</a>
          </h4>
<p id="section-10.5.2-1">The CONNECT method can be used to create disproportionate load on a proxy, since
stream creation is relatively inexpensive when compared to the creation and
maintenance of a TCP connection.  Therefore, a proxy that supports CONNECT might
be more conservative in the number of simultaneous requests it accepts.<a href="#section-10.5.2-1" class="pilcrow">¶</a></p>
<p id="section-10.5.2-2">A proxy might also maintain some resources for a TCP connection beyond the
closing of the stream that carries the CONNECT request, since the outgoing TCP
connection remains in the TIME_WAIT state.  To account for this, a proxy might
delay increasing the QUIC stream limits for some time after a TCP connection
terminates.<a href="#section-10.5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="use-of-compression">
<section id="section-10.6">
        <h3 id="name-use-of-compression">
<a href="#section-10.6" class="section-number selfRef">10.6. </a><a href="#name-use-of-compression" class="section-name selfRef">Use of Compression</a>
        </h3>
<p id="section-10.6-1">Compression can allow an attacker to recover secret data when it is compressed
in the same context as data under attacker control. HTTP/3 enables compression
of fields (<a href="#header-formatting" class="xref">Section 4.2</a>); the following concerns also apply to the use
of HTTP compressed content-codings; see <span><a href="https://rfc-editor.org/rfc/rfc9110#section-8.4.1" class="relref">Section 8.4.1</a> of [<a href="#RFC9110" class="xref">HTTP</a>]</span>.<a href="#section-10.6-1" class="pilcrow">¶</a></p>
<p id="section-10.6-2">There are demonstrable attacks on compression that exploit the characteristics
of the web (e.g., <span>[<a href="#BREACH" class="xref">BREACH</a>]</span>).  The attacker induces multiple requests
containing varying plaintext, observing the length of the resulting ciphertext
in each, which reveals a shorter length when a guess about the secret is
correct.<a href="#section-10.6-2" class="pilcrow">¶</a></p>
<p id="section-10.6-3">Implementations communicating on a secure channel <span class="bcp14">MUST NOT</span> compress content that
includes both confidential and attacker-controlled data unless separate
compression contexts are used for each source of data.  Compression <span class="bcp14">MUST NOT</span> be
used if the source of data cannot be reliably determined.<a href="#section-10.6-3" class="pilcrow">¶</a></p>
<p id="section-10.6-4">Further considerations regarding the compression of field sections are
described in <span>[<a href="#RFC9204" class="xref">QPACK</a>]</span>.<a href="#section-10.6-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="padding-and-traffic-analysis">
<section id="section-10.7">
        <h3 id="name-padding-and-traffic-analysi">
<a href="#section-10.7" class="section-number selfRef">10.7. </a><a href="#name-padding-and-traffic-analysi" class="section-name selfRef">Padding and Traffic Analysis</a>
        </h3>
<p id="section-10.7-1">Padding can be used to obscure the exact size of frame content and is provided
to mitigate specific attacks within HTTP, for example, attacks where compressed
content includes both attacker-controlled plaintext and secret data (e.g.,
<span>[<a href="#BREACH" class="xref">BREACH</a>]</span>).<a href="#section-10.7-1" class="pilcrow">¶</a></p>
<p id="section-10.7-2">Where HTTP/2 employs PADDING frames and Padding fields in other frames to make a
connection more resistant to traffic analysis, HTTP/3 can either rely on
transport-layer padding or employ the reserved frame and stream types discussed
in Sections <a href="#frame-reserved" class="xref">7.2.8</a> and <a href="#stream-grease" class="xref">6.2.3</a>.  These methods of
padding produce different results in terms of the granularity of padding, how
padding is arranged in relation to the information that is being protected,
whether padding is applied in the case of packet loss, and how an implementation
might control padding.<a href="#section-10.7-2" class="pilcrow">¶</a></p>
<p id="section-10.7-3">Reserved stream types can be used to give the appearance of sending traffic even
when the connection is idle.  Because HTTP traffic often occurs in bursts,
apparent traffic can be used to obscure the timing or duration of such bursts,
even to the point of appearing to send a constant stream of data.  However, as
such traffic is still flow controlled by the receiver, a failure to promptly
drain such streams and provide additional flow-control credit can limit the
sender's ability to send real traffic.<a href="#section-10.7-3" class="pilcrow">¶</a></p>
<p id="section-10.7-4">To mitigate attacks that rely on compression, disabling or limiting compression
might be preferable to padding as a countermeasure.<a href="#section-10.7-4" class="pilcrow">¶</a></p>
<p id="section-10.7-5">Use of padding can result in less protection than might seem immediately
obvious.  Redundant padding could even be counterproductive.  At best, padding
only makes it more difficult for an attacker to infer length information by
increasing the number of frames an attacker has to observe.  Incorrectly
implemented padding schemes can be easily defeated.  In particular, randomized
padding with a predictable distribution provides very little protection;
similarly, padding payloads to a fixed size exposes information as payload sizes
cross the fixed-sized boundary, which could be possible if an attacker can
control plaintext.<a href="#section-10.7-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="frame-parsing">
<section id="section-10.8">
        <h3 id="name-frame-parsing">
<a href="#section-10.8" class="section-number selfRef">10.8. </a><a href="#name-frame-parsing" class="section-name selfRef">Frame Parsing</a>
        </h3>
<p id="section-10.8-1">Several protocol elements contain nested length elements, typically in the form
of frames with an explicit length containing variable-length integers.  This
could pose a security risk to an incautious implementer.  An implementation <span class="bcp14">MUST</span>
ensure that the length of a frame exactly matches the length of the fields it
contains.<a href="#section-10.8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="early-data">
<section id="section-10.9">
        <h3 id="name-early-data">
<a href="#section-10.9" class="section-number selfRef">10.9. </a><a href="#name-early-data" class="section-name selfRef">Early Data</a>
        </h3>
<p id="section-10.9-1">The use of 0-RTT with HTTP/3 creates an exposure to replay attack.  The
anti-replay mitigations in <span>[<a href="#HTTP-REPLAY" class="xref">HTTP-REPLAY</a>]</span> <span class="bcp14">MUST</span> be applied when using
HTTP/3 with 0-RTT.  When applying <span>[<a href="#HTTP-REPLAY" class="xref">HTTP-REPLAY</a>]</span> to HTTP/3, references to the
TLS layer refer to the handshake performed within QUIC, while all references to
application data refer to the contents of streams.<a href="#section-10.9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="migration">
<section id="section-10.10">
        <h3 id="name-migration">
<a href="#section-10.10" class="section-number selfRef">10.10. </a><a href="#name-migration" class="section-name selfRef">Migration</a>
        </h3>
<p id="section-10.10-1">Certain HTTP implementations use the client address for logging or
access-control purposes.  Since a QUIC client's address might change during a
connection (and future versions might support simultaneous use of multiple
addresses), such implementations will need to either actively retrieve the
client's current address or addresses when they are relevant or explicitly
accept that the original address might change.<a href="#section-10.10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privacy-considerations">
<section id="section-10.11">
        <h3 id="name-privacy-considerations">
<a href="#section-10.11" class="section-number selfRef">10.11. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
        </h3>
<p id="section-10.11-1">Several characteristics of HTTP/3 provide an observer an opportunity to
correlate actions of a single client or server over time.  These include the
value of settings, the timing of reactions to stimulus, and the handling of any
features that are controlled by settings.<a href="#section-10.11-1" class="pilcrow">¶</a></p>
<p id="section-10.11-2">As far as these create observable differences in behavior, they could be used as
a basis for fingerprinting a specific client.<a href="#section-10.11-2" class="pilcrow">¶</a></p>
<p id="section-10.11-3">HTTP/3's preference for using a single QUIC connection allows correlation of a
user's activity on a site.  Reusing connections for different origins allows
for correlation of activity across those origins.<a href="#section-10.11-3" class="pilcrow">¶</a></p>
<p id="section-10.11-4">Several features of QUIC solicit immediate responses and can be used by an
endpoint to measure latency to their peer; this might have privacy implications
in certain scenarios.<a href="#section-10.11-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">This document registers a new ALPN protocol ID (<a href="#iana-alpn" class="xref">Section 11.1</a>) and creates new
registries that manage the assignment of code points in HTTP/3.<a href="#section-11-1" class="pilcrow">¶</a></p>
<div id="iana-alpn">
<section id="section-11.1">
        <h3 id="name-registration-of-http-3-iden">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-registration-of-http-3-iden" class="section-name selfRef">Registration of HTTP/3 Identification String</a>
        </h3>
<p id="section-11.1-1">This document creates a new registration for the identification of
HTTP/3 in the "TLS Application-Layer Protocol Negotiation (ALPN)
Protocol IDs" registry established in <span>[<a href="#RFC7301" class="xref">RFC7301</a>]</span>.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<p id="section-11.1-2">The "h3" string identifies HTTP/3:<a href="#section-11.1-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-11.1-3">
          <dt id="section-11.1-3.1">Protocol:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-3.2">
            <p id="section-11.1-3.2.1">HTTP/3<a href="#section-11.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-3.3">Identification Sequence:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-3.4">
            <p id="section-11.1-3.4.1">0x68 0x33 ("h3")<a href="#section-11.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-3.5">Specification:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-3.6">
            <p id="section-11.1-3.6.1">This document<a href="#section-11.1-3.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="iana-policy">
<section id="section-11.2">
        <h3 id="name-new-registries">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-new-registries" class="section-name selfRef">New Registries</a>
        </h3>
<p id="section-11.2-1">New registries created in this document operate under the QUIC registration
policy documented in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-22.1" class="relref">Section 22.1</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.  These registries all
include the common set of fields listed in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-22.1.1" class="relref">Section 22.1.1</a> of [<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.
These registries are collected under the "Hypertext Transfer Protocol version 3
(HTTP/3)" heading.<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2-2">The initial allocations in these registries are all assigned permanent status
and list a change controller of the IETF and a contact of the HTTP working group
(ietf-http-wg@w3.org).<a href="#section-11.2-2" class="pilcrow">¶</a></p>
<div id="iana-frames">
<section id="section-11.2.1">
          <h4 id="name-frame-types">
<a href="#section-11.2.1" class="section-number selfRef">11.2.1. </a><a href="#name-frame-types" class="section-name selfRef">Frame Types</a>
          </h4>
<p id="section-11.2.1-1">This document establishes a registry for HTTP/3 frame type codes. The "HTTP/3
Frame Types" registry governs a 62-bit space.  This registry follows the QUIC
registry policy; see <a href="#iana-policy" class="xref">Section 11.2</a>.  Permanent registrations in this registry
are assigned using the Specification Required policy (<span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>), except for
values between 0x00 and 0x3f (in hexadecimal; inclusive), which are assigned
using Standards Action or IESG Approval as defined in
Sections <a href="https://rfc-editor.org/rfc/rfc8126#section-4.9" class="relref">4.9</a> and <a href="https://rfc-editor.org/rfc/rfc8126#section-4.10" class="relref">4.10</a> of <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-11.2.1-1" class="pilcrow">¶</a></p>
<p id="section-11.2.1-2">While this registry is separate from the "HTTP/2 Frame Type" registry defined in
<span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span>, it is preferable that the assignments parallel each other where the
code spaces overlap.  If an entry is present in only one registry, every effort
<span class="bcp14">SHOULD</span> be made to avoid assigning the corresponding value to an unrelated
operation.  Expert reviewers <span class="bcp14">MAY</span> reject unrelated registrations that would
conflict with the same value in the corresponding registry.<a href="#section-11.2.1-2" class="pilcrow">¶</a></p>
<p id="section-11.2.1-3">In addition to common fields as described in <a href="#iana-policy" class="xref">Section 11.2</a>, permanent
registrations in this registry <span class="bcp14">MUST</span> include the following field:<a href="#section-11.2.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-11.2.1-4">
            <dt id="section-11.2.1-4.1">Frame Type:</dt>
            <dd style="margin-left: 1.5em" id="section-11.2.1-4.2">
              <p id="section-11.2.1-4.2.1">A name or label for the frame type.<a href="#section-11.2.1-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-11.2.1-5">Specifications of frame types <span class="bcp14">MUST</span> include a description of the frame layout and
its semantics, including any parts of the frame that are conditionally present.<a href="#section-11.2.1-5" class="pilcrow">¶</a></p>
<p id="section-11.2.1-6">The entries in <a href="#iana-frame-table" class="xref">Table 2</a> are registered by this document.<a href="#section-11.2.1-6" class="pilcrow">¶</a></p>
<span id="name-initial-http-3-frame-types"></span><div id="iana-frame-table">
<table class="center" id="table-2">
            <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-initial-http-3-frame-types" class="selfRef">Initial HTTP/3 Frame Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Frame Type</th>
                <th class="text-center" rowspan="1" colspan="1">Value</th>
                <th class="text-left" rowspan="1" colspan="1">Specification</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-data" class="xref">DATA</a><span id="iref-data-320" class="iref"></span>
</td>
                <td class="text-center" rowspan="1" colspan="1">0x00</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-data" class="xref">Section 7.2.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-321" class="iref"></span>
</td>
                <td class="text-center" rowspan="1" colspan="1">0x01</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-headers" class="xref">Section 7.2.2</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x02</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-322" class="iref"></span>
</td>
                <td class="text-center" rowspan="1" colspan="1">0x03</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-cancel-push" class="xref">Section 7.2.3</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-323" class="iref"></span>
</td>
                <td class="text-center" rowspan="1" colspan="1">0x04</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-settings" class="xref">Section 7.2.4</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-324" class="iref"></span>
</td>
                <td class="text-center" rowspan="1" colspan="1">0x05</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-push-promise" class="xref">Section 7.2.5</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x06</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-325" class="iref"></span>
</td>
                <td class="text-center" rowspan="1" colspan="1">0x07</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-goaway" class="xref">Section 7.2.6</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x08</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x09</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-326" class="iref"></span>
</td>
                <td class="text-center" rowspan="1" colspan="1">0x0d</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-max-push-id" class="xref">Section 7.2.7</a>
</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-11.2.1-8">Each code of the format <code>0x1f * N + 0x21</code> for non-negative integer values of <code>N</code>
(that is, 0x21, 0x40, ..., through 0x3ffffffffffffffe) <span class="bcp14">MUST NOT</span> be assigned by
IANA and <span class="bcp14">MUST NOT</span> appear in the listing of assigned values.<a href="#section-11.2.1-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-settings">
<section id="section-11.2.2">
          <h4 id="name-settings-parameters">
<a href="#section-11.2.2" class="section-number selfRef">11.2.2. </a><a href="#name-settings-parameters" class="section-name selfRef">Settings Parameters</a>
          </h4>
<p id="section-11.2.2-1">This document establishes a registry for HTTP/3 settings.  The "HTTP/3 Settings"
registry governs a 62-bit space.  This registry follows the QUIC registry
policy; see <a href="#iana-policy" class="xref">Section 11.2</a>.  Permanent registrations in this registry are
assigned using the Specification Required policy (<span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>), except for
values between 0x00 and 0x3f (in hexadecimal; inclusive), which are assigned
using Standards Action or IESG Approval as defined in
Sections <a href="https://rfc-editor.org/rfc/rfc8126#section-4.9" class="relref">4.9</a> and <a href="https://rfc-editor.org/rfc/rfc8126#section-4.10" class="relref">4.10</a> of <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-11.2.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2.2-2">While this registry is separate from the "HTTP/2 Settings" registry defined in
<span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span>, it is preferable that the assignments parallel each other.  If an
entry is present in only one registry, every effort <span class="bcp14">SHOULD</span> be made to avoid
assigning the corresponding value to an unrelated operation. Expert reviewers
<span class="bcp14">MAY</span> reject unrelated registrations that would conflict with the same value in
the corresponding registry.<a href="#section-11.2.2-2" class="pilcrow">¶</a></p>
<p id="section-11.2.2-3">In addition to common fields as described in <a href="#iana-policy" class="xref">Section 11.2</a>, permanent
registrations in this registry <span class="bcp14">MUST</span> include the following fields:<a href="#section-11.2.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-11.2.2-4">
            <dt id="section-11.2.2-4.1">Setting Name:</dt>
            <dd style="margin-left: 1.5em" id="section-11.2.2-4.2">
              <p id="section-11.2.2-4.2.1">A symbolic name for the setting.  Specifying a setting name is optional.<a href="#section-11.2.2-4.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-11.2.2-4.3">Default:</dt>
            <dd style="margin-left: 1.5em" id="section-11.2.2-4.4">
              <p id="section-11.2.2-4.4.1">The value of the setting unless otherwise indicated. A default <span class="bcp14">SHOULD</span> be the
most restrictive possible value.<a href="#section-11.2.2-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-11.2.2-5">The entries in <a href="#iana-setting-table" class="xref">Table 3</a> are registered by this document.<a href="#section-11.2.2-5" class="pilcrow">¶</a></p>
<span id="name-initial-http-3-settings"></span><div id="iana-setting-table">
<table class="center" id="table-3">
            <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-initial-http-3-settings" class="selfRef">Initial HTTP/3 Settings</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Setting Name</th>
                <th class="text-center" rowspan="1" colspan="1">Value</th>
                <th class="text-left" rowspan="1" colspan="1">Specification</th>
                <th class="text-left" rowspan="1" colspan="1">Default</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x00</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
                <td class="text-left" rowspan="1" colspan="1">N/A</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x02</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
                <td class="text-left" rowspan="1" colspan="1">N/A</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x03</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
                <td class="text-left" rowspan="1" colspan="1">N/A</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x04</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
                <td class="text-left" rowspan="1" colspan="1">N/A</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-center" rowspan="1" colspan="1">0x05</td>
                <td class="text-left" rowspan="1" colspan="1">This document</td>
                <td class="text-left" rowspan="1" colspan="1">N/A</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">MAX_FIELD_SECTION_SIZE</td>
                <td class="text-center" rowspan="1" colspan="1">0x06</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#settings-parameters" class="xref">Section 7.2.4.1</a>
</td>
                <td class="text-left" rowspan="1" colspan="1">Unlimited</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-11.2.2-7">For formatting reasons, setting names can be abbreviated by removing the
'SETTINGS_' prefix.<a href="#section-11.2.2-7" class="pilcrow">¶</a></p>
<p id="section-11.2.2-8">Each code of the format <code>0x1f * N + 0x21</code> for non-negative integer values of <code>N</code>
(that is, 0x21, 0x40, ..., through 0x3ffffffffffffffe) <span class="bcp14">MUST NOT</span> be assigned by
IANA and <span class="bcp14">MUST NOT</span> appear in the listing of assigned values.<a href="#section-11.2.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-error-codes">
<section id="section-11.2.3">
          <h4 id="name-error-codes">
<a href="#section-11.2.3" class="section-number selfRef">11.2.3. </a><a href="#name-error-codes" class="section-name selfRef">Error Codes</a>
          </h4>
<p id="section-11.2.3-1">This document establishes a registry for HTTP/3 error codes. The "HTTP/3 Error
Codes" registry manages a 62-bit space.  This registry follows the QUIC registry
policy; see <a href="#iana-policy" class="xref">Section 11.2</a>.  Permanent registrations in this registry are
assigned using the Specification Required policy (<span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>), except for
values between 0x00 and 0x3f (in hexadecimal; inclusive), which are assigned
using Standards Action or IESG Approval as defined in
Sections <a href="https://rfc-editor.org/rfc/rfc8126#section-4.9" class="relref">4.9</a> and <a href="https://rfc-editor.org/rfc/rfc8126#section-4.10" class="relref">4.10</a> of <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-11.2.3-1" class="pilcrow">¶</a></p>
<p id="section-11.2.3-2">Registrations for error codes are required to include a description of the error
code.  An expert reviewer is advised to examine new registrations for possible
duplication with existing error codes.  Use of existing registrations is to be
encouraged, but not mandated.  Use of values that are registered in the "HTTP/2
Error Code" registry is discouraged, and expert reviewers <span class="bcp14">MAY</span> reject such
registrations.<a href="#section-11.2.3-2" class="pilcrow">¶</a></p>
<p id="section-11.2.3-3">In addition to common fields as described in <a href="#iana-policy" class="xref">Section 11.2</a>, this registry
includes two additional fields.  Permanent registrations in this registry <span class="bcp14">MUST</span>
include the following field:<a href="#section-11.2.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-11.2.3-4">
            <dt id="section-11.2.3-4.1">Name:</dt>
            <dd style="margin-left: 1.5em" id="section-11.2.3-4.2">
              <p id="section-11.2.3-4.2.1">A name for the error code.<a href="#section-11.2.3-4.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-11.2.3-4.3">Description:</dt>
            <dd style="margin-left: 1.5em" id="section-11.2.3-4.4">
              <p id="section-11.2.3-4.4.1">A brief description of the error code semantics.<a href="#section-11.2.3-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-11.2.3-5">The entries in <a href="#iana-error-table" class="xref">Table 4</a> are registered by this document. These
error codes were selected from the range that operates on a Specification
Required policy to avoid collisions with HTTP/2 error codes.<a href="#section-11.2.3-5" class="pilcrow">¶</a></p>
<span id="name-initial-http-3-error-codes"></span><div id="iana-error-table">
<table class="center" id="table-4">
            <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-initial-http-3-error-codes" class="selfRef">Initial HTTP/3 Error Codes</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Name</th>
                <th class="text-left" rowspan="1" colspan="1">Value</th>
                <th class="text-left" rowspan="1" colspan="1">Description</th>
                <th class="text-left" rowspan="1" colspan="1">Specification</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-327" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0100</td>
                <td class="text-left" rowspan="1" colspan="1">No error</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_GENERAL_PROTOCOL_ERROR" class="xref">H3_GENERAL_PROTOCOL_ERROR</a><span id="iref-h3_general_protocol_error-3" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0101</td>
                <td class="text-left" rowspan="1" colspan="1">General protocol error</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_INTERNAL_ERROR" class="xref">H3_INTERNAL_ERROR</a><span id="iref-h3_internal_error-329" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0102</td>
                <td class="text-left" rowspan="1" colspan="1">Internal error</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_STREAM_CREATION_ERROR" class="xref">H3_STREAM_CREATION_ERROR</a><span id="iref-h3_stream_creation_error-33" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0103</td>
                <td class="text-left" rowspan="1" colspan="1">Stream creation error</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_CLOSED_CRITICAL_STREAM" class="xref">H3_CLOSED_CRITICAL_STREAM</a><span id="iref-h3_closed_critical_stream-3" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0104</td>
                <td class="text-left" rowspan="1" colspan="1">Critical stream was closed</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-332" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0105</td>
                <td class="text-left" rowspan="1" colspan="1">Frame not permitted in the current state</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_FRAME_ERROR" class="xref">H3_FRAME_ERROR</a><span id="iref-h3_frame_error-333" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0106</td>
                <td class="text-left" rowspan="1" colspan="1">Frame violated layout or size rules</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_EXCESSIVE_LOAD" class="xref">H3_EXCESSIVE_LOAD</a><span id="iref-h3_excessive_load-334" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0107</td>
                <td class="text-left" rowspan="1" colspan="1">Peer generating excessive load</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_ID_ERROR" class="xref">H3_ID_ERROR</a><span id="iref-h3_id_error-335" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0108</td>
                <td class="text-left" rowspan="1" colspan="1">An identifier was used incorrectly</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_SETTINGS_ERROR" class="xref">H3_SETTINGS_ERROR</a><span id="iref-h3_settings_error-336" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0109</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-337" class="iref"></span> frame contained invalid values</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_MISSING_SETTINGS" class="xref">H3_MISSING_SETTINGS</a><span id="iref-h3_missing_settings-338" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x010a</td>
                <td class="text-left" rowspan="1" colspan="1">No <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-339" class="iref"></span> frame received</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-340" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x010b</td>
                <td class="text-left" rowspan="1" colspan="1">Request not processed</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-341" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x010c</td>
                <td class="text-left" rowspan="1" colspan="1">Data no longer needed</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_REQUEST_INCOMPLETE" class="xref">H3_REQUEST_INCOMPLETE</a><span id="iref-h3_request_incomplete-342" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x010d</td>
                <td class="text-left" rowspan="1" colspan="1">Stream terminated early</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_MESSAGE_ERROR" class="xref">H3_MESSAGE_ERROR</a><span id="iref-h3_message_error-343" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x010e</td>
                <td class="text-left" rowspan="1" colspan="1">Malformed message</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_CONNECT_ERROR" class="xref">H3_CONNECT_ERROR</a><span id="iref-h3_connect_error-344" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x010f</td>
                <td class="text-left" rowspan="1" colspan="1">TCP reset or error on CONNECT request</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#H3_VERSION_FALLBACK" class="xref">H3_VERSION_FALLBACK</a><span id="iref-h3_version_fallback-345" class="iref"></span>
</td>
                <td class="text-left" rowspan="1" colspan="1">0x0110</td>
                <td class="text-left" rowspan="1" colspan="1">Retry over HTTP/1.1</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#http-error-codes" class="xref">Section 8.1</a>
</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-11.2.3-7">Each code of the format <code>0x1f * N + 0x21</code> for non-negative integer values of <code>N</code>
(that is, 0x21, 0x40, ..., through 0x3ffffffffffffffe) <span class="bcp14">MUST NOT</span> be assigned by
IANA and <span class="bcp14">MUST NOT</span> appear in the listing of assigned values.<a href="#section-11.2.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-stream-types">
<section id="section-11.2.4">
          <h4 id="name-stream-types">
<a href="#section-11.2.4" class="section-number selfRef">11.2.4. </a><a href="#name-stream-types" class="section-name selfRef">Stream Types</a>
          </h4>
<p id="section-11.2.4-1">This document establishes a registry for HTTP/3 unidirectional stream types. The
"HTTP/3 Stream Types" registry governs a 62-bit space.  This registry follows
the QUIC registry policy; see <a href="#iana-policy" class="xref">Section 11.2</a>.  Permanent registrations in this
registry are assigned using the Specification Required policy (<span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>),
except for values between 0x00 and 0x3f (in hexadecimal; inclusive), which are
assigned using Standards Action or IESG Approval as defined in Sections <a href="https://rfc-editor.org/rfc/rfc8126#section-4.9" class="relref">4.9</a> and <a href="https://rfc-editor.org/rfc/rfc8126#section-4.10" class="relref">4.10</a> of <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-11.2.4-1" class="pilcrow">¶</a></p>
<p id="section-11.2.4-2">In addition to common fields as described in <a href="#iana-policy" class="xref">Section 11.2</a>, permanent
registrations in this registry <span class="bcp14">MUST</span> include the following fields:<a href="#section-11.2.4-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-11.2.4-3">
            <dt id="section-11.2.4-3.1">Stream Type:</dt>
            <dd style="margin-left: 1.5em" id="section-11.2.4-3.2">
              <p id="section-11.2.4-3.2.1">A name or label for the stream type.<a href="#section-11.2.4-3.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-11.2.4-3.3">Sender:</dt>
            <dd style="margin-left: 1.5em" id="section-11.2.4-3.4">
              <p id="section-11.2.4-3.4.1">Which endpoint on an HTTP/3 connection may initiate a stream of this type.
Values are "Client", "Server", or "Both".<a href="#section-11.2.4-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-11.2.4-4">Specifications for permanent registrations <span class="bcp14">MUST</span> include a description of the
stream type, including the layout and semantics of the stream contents.<a href="#section-11.2.4-4" class="pilcrow">¶</a></p>
<p id="section-11.2.4-5">The entries in <a href="#iana-stream-type-table" class="xref">Table 5</a> are registered by this document.<a href="#section-11.2.4-5" class="pilcrow">¶</a></p>
<span id="name-initial-stream-types"></span><div id="iana-stream-type-table">
<table class="center" id="table-5">
            <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-initial-stream-types" class="selfRef">Initial Stream Types</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Stream Type</th>
                <th class="text-center" rowspan="1" colspan="1">Value</th>
                <th class="text-left" rowspan="1" colspan="1">Specification</th>
                <th class="text-left" rowspan="1" colspan="1">Sender</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Control Stream</td>
                <td class="text-center" rowspan="1" colspan="1">0x00</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#control-streams" class="xref">Section 6.2.1</a>
</td>
                <td class="text-left" rowspan="1" colspan="1">Both</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Push Stream</td>
                <td class="text-center" rowspan="1" colspan="1">0x01</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <a href="#server-push" class="xref">Section 4.6</a>
</td>
                <td class="text-left" rowspan="1" colspan="1">Server</td>
              </tr>
            </tbody>
          </table>
</div>
<p id="section-11.2.4-7">Each code of the format <code>0x1f * N + 0x21</code> for non-negative integer values of <code>N</code>
(that is, 0x21, 0x40, ..., through 0x3ffffffffffffffe) <span class="bcp14">MUST NOT</span> be assigned by
IANA and <span class="bcp14">MUST NOT</span> appear in the listing of assigned values.<a href="#section-11.2.4-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="ALTSVC">[ALTSVC]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refAuthor">McManus, P.</span>, and <span class="refAuthor">J. Reschke</span>, <span class="refTitle">"HTTP Alternative Services"</span>, <span class="seriesInfo">RFC 7838</span>, <span class="seriesInfo">DOI 10.17487/RFC7838</span>, <time datetime="2016-04" class="refDate">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7838">https://www.rfc-editor.org/rfc/rfc7838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="COOKIES">[COOKIES]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"HTTP State Management Mechanism"</span>, <span class="seriesInfo">RFC 6265</span>, <span class="seriesInfo">DOI 10.17487/RFC6265</span>, <time datetime="2011-04" class="refDate">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6265">https://www.rfc-editor.org/rfc/rfc6265</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9110">[HTTP]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="seriesInfo">RFC 9110</span>, <span class="seriesInfo">DOI 10.17487/RFC9110</span>, <time datetime="1970-01-01" class="refDate">1 January 1970</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9110">https://www.rfc-editor.org/rfc/rfc9110</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9111">[HTTP-CACHING]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP Caching"</span>, <span class="seriesInfo">RFC 9111</span>, <span class="seriesInfo">DOI 10.17487/RFC9111</span>, <time datetime="1970-01-01" class="refDate">1 January 1970</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9111">https://www.rfc-editor.org/rfc/rfc9111</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HTTP-REPLAY">[HTTP-REPLAY]</dt>
        <dd>
<span class="refAuthor">Thomson, M.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">W. Tarreau</span>, <span class="refTitle">"Using Early Data in HTTP"</span>, <span class="seriesInfo">RFC 8470</span>, <span class="seriesInfo">DOI 10.17487/RFC8470</span>, <time datetime="2018-09" class="refDate">September 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8470">https://www.rfc-editor.org/rfc/rfc8470</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9204">[QPACK]</dt>
        <dd>
<span class="refAuthor">Krasic, C.</span>, <span class="refAuthor">Bishop, M.</span>, and <span class="refAuthor">A. Frindell, Ed.</span>, <span class="refTitle">"QPACK: Header Compression for HTTP over QUIC"</span>, <span class="seriesInfo">RFC 9204</span>, <span class="seriesInfo">DOI 10.17487/RFC9204</span>, <time datetime="1970-01-01" class="refDate">1 January 1970</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9204">https://www.rfc-editor.org/rfc/rfc9204</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-TRANSPORT">[QUIC-TRANSPORT]</dt>
        <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0793">[RFC0793]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Transmission Control Protocol"</span>, <span class="seriesInfo">STD 7</span>, <span class="seriesInfo">RFC 793</span>, <span class="seriesInfo">DOI 10.17487/RFC0793</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc793">https://www.rfc-editor.org/rfc/rfc793</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6066">[RFC6066]</dt>
        <dd>
<span class="refAuthor">Eastlake 3rd, D.</span>, <span class="refTitle">"Transport Layer Security (TLS) Extensions: Extension Definitions"</span>, <span class="seriesInfo">RFC 6066</span>, <span class="seriesInfo">DOI 10.17487/RFC6066</span>, <time datetime="2011-01" class="refDate">January 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6066">https://www.rfc-editor.org/rfc/rfc6066</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7301">[RFC7301]</dt>
        <dd>
<span class="refAuthor">Friedl, S.</span>, <span class="refAuthor">Popov, A.</span>, <span class="refAuthor">Langley, A.</span>, and <span class="refAuthor">E. Stephan</span>, <span class="refTitle">"Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension"</span>, <span class="seriesInfo">RFC 7301</span>, <span class="seriesInfo">DOI 10.17487/RFC7301</span>, <time datetime="2014-07" class="refDate">July 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7301">https://www.rfc-editor.org/rfc/rfc7301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8126">https://www.rfc-editor.org/rfc/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="URI">[URI]</dt>
      <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="BREACH">[BREACH]</dt>
        <dd>
<span class="refAuthor">Gluck, Y.</span>, <span class="refAuthor">Harris, N.</span>, and <span class="refAuthor">A. Prado</span>, <span class="refTitle">"BREACH: Reviving the CRIME Attack"</span>, <time datetime="2013-07" class="refDate">July 2013</time>, <span>&lt;<a href="http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf">http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DNS-TERMS">[DNS-TERMS]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span>, <span class="refAuthor">Sullivan, A.</span>, and <span class="refAuthor">K. Fujiwara</span>, <span class="refTitle">"DNS Terminology"</span>, <span class="seriesInfo">BCP 219</span>, <span class="seriesInfo">RFC 8499</span>, <span class="seriesInfo">DOI 10.17487/RFC8499</span>, <time datetime="2019-01" class="refDate">January 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8499">https://www.rfc-editor.org/rfc/rfc8499</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HPACK">[HPACK]</dt>
        <dd>
<span class="refAuthor">Peon, R.</span> and <span class="refAuthor">H. Ruellan</span>, <span class="refTitle">"HPACK: Header Compression for HTTP/2"</span>, <span class="seriesInfo">RFC 7541</span>, <span class="seriesInfo">DOI 10.17487/RFC7541</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7541">https://www.rfc-editor.org/rfc/rfc7541</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9112">[HTTP/1.1]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP/1.1"</span>, <span class="seriesInfo">RFC 9112</span>, <span class="seriesInfo">DOI 10.17487/RFC9112</span>, <time datetime="1970-01-01" class="refDate">1 January 1970</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9112">https://www.rfc-editor.org/rfc/rfc9112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9113">[HTTP/2]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time datetime="1970-01-01" class="refDate">1 January 1970</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9113">https://www.rfc-editor.org/rfc/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6585">[RFC6585]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">R. Fielding</span>, <span class="refTitle">"Additional HTTP Status Codes"</span>, <span class="seriesInfo">RFC 6585</span>, <span class="seriesInfo">DOI 10.17487/RFC6585</span>, <time datetime="2012-04" class="refDate">April 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6585">https://www.rfc-editor.org/rfc/rfc6585</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8164">[RFC8164]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">M. Thomson</span>, <span class="refTitle">"Opportunistic Security for HTTP/2"</span>, <span class="seriesInfo">RFC 8164</span>, <span class="seriesInfo">DOI 10.17487/RFC8164</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8164">https://www.rfc-editor.org/rfc/rfc8164</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TFO">[TFO]</dt>
        <dd>
<span class="refAuthor">Cheng, Y.</span>, <span class="refAuthor">Chu, J.</span>, <span class="refAuthor">Radhakrishnan, S.</span>, and <span class="refAuthor">A. Jain</span>, <span class="refTitle">"TCP Fast Open"</span>, <span class="seriesInfo">RFC 7413</span>, <span class="seriesInfo">DOI 10.17487/RFC7413</span>, <time datetime="2014-12" class="refDate">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7413">https://www.rfc-editor.org/rfc/rfc7413</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TLS">[TLS]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8446">https://www.rfc-editor.org/rfc/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="h2-considerations">
<section id="appendix-A">
      <h2 id="name-considerations-for-transiti">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-considerations-for-transiti" class="section-name selfRef">Considerations for Transitioning from HTTP/2</a>
      </h2>
<p id="appendix-A-1">HTTP/3 is strongly informed by HTTP/2, and it bears many similarities.  This
section describes the approach taken to design HTTP/3, points out important
differences from HTTP/2, and describes how to map HTTP/2 extensions into HTTP/3.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">HTTP/3 begins from the premise that similarity to HTTP/2 is preferable, but not
a hard requirement.  HTTP/3 departs from HTTP/2 where QUIC differs from TCP,
either to take advantage of QUIC features (like streams) or to accommodate
important shortcomings (such as a lack of total ordering). While HTTP/3 is
similar to HTTP/2 in key aspects, such as the relationship of requests and
responses to streams, the details of the HTTP/3 design are substantially
different from HTTP/2.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">Some important departures are noted in this section.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<div id="h2-streams">
<section id="appendix-A.1">
        <h3 id="name-streams">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-streams" class="section-name selfRef">Streams</a>
        </h3>
<p id="appendix-A.1-1">HTTP/3 permits use of a larger number of streams (2<sup>62</sup>-1) than HTTP/2.
The same considerations about exhaustion of stream identifier space apply,
though the space is significantly larger such that it is likely that other
limits in QUIC are reached first, such as the limit on the connection
flow-control window.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1-2">In contrast to HTTP/2, stream concurrency in HTTP/3 is managed by QUIC.  QUIC
considers a stream closed when all data has been received and sent data has been
acknowledged by the peer.  HTTP/2 considers a stream closed when the frame
containing the END_STREAM bit has been committed to the transport. As a result,
the stream for an equivalent exchange could remain "active" for a longer period
of time.  HTTP/3 servers might choose to permit a larger number of concurrent
client-initiated bidirectional streams to achieve equivalent concurrency to
HTTP/2, depending on the expected usage patterns.<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
<p id="appendix-A.1-3">In HTTP/2, only request and response bodies (the frame payload of <a href="#frame-data" class="xref">DATA</a><span id="iref-data-346" class="iref"></span> frames)
are subject to flow control.  All HTTP/3 frames are sent on QUIC streams, so all
frames on all streams are flow controlled in HTTP/3.<a href="#appendix-A.1-3" class="pilcrow">¶</a></p>
<p id="appendix-A.1-4">Due to the presence of other unidirectional stream types, HTTP/3 does not rely
exclusively on the number of concurrent unidirectional streams to control the
number of concurrent in-flight pushes.  Instead, HTTP/3 clients use the
<a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-347" class="iref"></span> frame to control the number of pushes received from an HTTP/3
server.<a href="#appendix-A.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="h2-frames">
<section id="appendix-A.2">
        <h3 id="name-http-frame-types">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-http-frame-types" class="section-name selfRef">HTTP Frame Types</a>
        </h3>
<p id="appendix-A.2-1">Many framing concepts from HTTP/2 can be elided on QUIC, because the transport
deals with them. Because frames are already on a stream, they can omit the
stream number. Because frames do not block multiplexing (QUIC's multiplexing
occurs below this layer), the support for variable-maximum-length packets can be
removed. Because stream termination is handled by QUIC, an END_STREAM flag is
not required.  This permits the removal of the Flags field from the generic
frame layout.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2-2">Frame payloads are largely drawn from <span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span>. However, QUIC includes many
features (e.g., flow control) that are also present in HTTP/2. In these cases,
the HTTP mapping does not re-implement them. As a result, several HTTP/2 frame
types are not required in HTTP/3. Where an HTTP/2-defined frame is no longer
used, the frame ID has been reserved in order to maximize portability between
HTTP/2 and HTTP/3 implementations. However, even frame types that appear in
both mappings do not have identical semantics.<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
<p id="appendix-A.2-3">Many of the differences arise from the fact that HTTP/2 provides an absolute
ordering between frames across all streams, while QUIC provides this guarantee
on each stream only.  As a result, if a frame type makes assumptions that frames
from different streams will still be received in the order sent, HTTP/3 will
break them.<a href="#appendix-A.2-3" class="pilcrow">¶</a></p>
<p id="appendix-A.2-4">Some examples of feature adaptations are described below, as well as general
guidance to extension frame implementors converting an HTTP/2 extension to
HTTP/3.<a href="#appendix-A.2-4" class="pilcrow">¶</a></p>
<div id="h2-diff-priority">
<section id="appendix-A.2.1">
          <h4 id="name-prioritization-differences">
<a href="#appendix-A.2.1" class="section-number selfRef">A.2.1. </a><a href="#name-prioritization-differences" class="section-name selfRef">Prioritization Differences</a>
          </h4>
<p id="appendix-A.2.1-1">HTTP/2 specifies priority assignments in PRIORITY frames and (optionally) in
<a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-348" class="iref"></span> frames. HTTP/3 does not provide a means of signaling priority.<a href="#appendix-A.2.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.1-2">Note that, while there is no explicit signaling for priority, this does not mean
that prioritization is not important for achieving good performance.<a href="#appendix-A.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="field-compression-differences">
<section id="appendix-A.2.2">
          <h4 id="name-field-compression-differenc">
<a href="#appendix-A.2.2" class="section-number selfRef">A.2.2. </a><a href="#name-field-compression-differenc" class="section-name selfRef">Field Compression Differences</a>
          </h4>
<p id="appendix-A.2.2-1">HPACK was designed with the assumption of in-order delivery. A sequence of
encoded field sections must arrive (and be decoded) at an endpoint in the same
order in which they were encoded. This ensures that the dynamic state at the two
endpoints remains in sync.<a href="#appendix-A.2.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.2-2">Because this total ordering is not provided by QUIC, HTTP/3 uses a modified
version of HPACK, called QPACK.  QPACK uses a single unidirectional stream to
make all modifications to the dynamic table, ensuring a total order of updates.
All frames that contain encoded fields merely reference the table state at a
given time without modifying it.<a href="#appendix-A.2.2-2" class="pilcrow">¶</a></p>
<p id="appendix-A.2.2-3"><span>[<a href="#RFC9204" class="xref">QPACK</a>]</span> provides additional details.<a href="#appendix-A.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="flow-control-differences">
<section id="appendix-A.2.3">
          <h4 id="name-flow-control-differences">
<a href="#appendix-A.2.3" class="section-number selfRef">A.2.3. </a><a href="#name-flow-control-differences" class="section-name selfRef">Flow-Control Differences</a>
          </h4>
<p id="appendix-A.2.3-1">HTTP/2 specifies a stream flow-control mechanism. Although all HTTP/2 frames are
delivered on streams, only the <a href="#frame-data" class="xref">DATA</a><span id="iref-data-349" class="iref"></span> frame payload is subject to flow control.
QUIC provides flow control for stream data and all HTTP/3 frame types defined in
this document are sent on streams. Therefore, all frame headers and payload are
subject to flow control.<a href="#appendix-A.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="guidance-for-new-frame-type-definitions">
<section id="appendix-A.2.4">
          <h4 id="name-guidance-for-new-frame-type">
<a href="#appendix-A.2.4" class="section-number selfRef">A.2.4. </a><a href="#name-guidance-for-new-frame-type" class="section-name selfRef">Guidance for New Frame Type Definitions</a>
          </h4>
<p id="appendix-A.2.4-1">Frame type definitions in HTTP/3 often use the QUIC variable-length integer
encoding.  In particular, stream IDs use this encoding, which allows for a
larger range of possible values than the encoding used in HTTP/2.  Some frames
in HTTP/3 use an identifier other than a stream ID (e.g., push IDs).
Redefinition of the encoding of extension frame types might be necessary if the
encoding includes a stream ID.<a href="#appendix-A.2.4-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2.4-2">Because the Flags field is not present in generic HTTP/3 frames, those frames
that depend on the presence of flags need to allocate space for flags as part
of their frame payload.<a href="#appendix-A.2.4-2" class="pilcrow">¶</a></p>
<p id="appendix-A.2.4-3">Other than these issues, frame type HTTP/2 extensions are typically portable to
QUIC simply by replacing stream 0 in HTTP/2 with a <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-350" class="iref"></span> in HTTP/3.
HTTP/3 extensions will not assume ordering, but would not be harmed by ordering,
and are expected to be portable to HTTP/2.<a href="#appendix-A.2.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="comparison-of-http2-and-http3-frame-types">
<section id="appendix-A.2.5">
          <h4 id="name-comparison-of-http-2-and-ht">
<a href="#appendix-A.2.5" class="section-number selfRef">A.2.5. </a><a href="#name-comparison-of-http-2-and-ht" class="section-name selfRef">Comparison of HTTP/2 and HTTP/3 Frame Types</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="appendix-A.2.5-1">
            <dt id="appendix-A.2.5-1.1">
<a href="#frame-data" class="xref">DATA</a><span id="iref-data-351" class="iref"></span> (0x00):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.2">
              <p id="appendix-A.2.5-1.2.1">Padding is not defined in HTTP/3 frames.  See <a href="#frame-data" class="xref">Section 7.2.1</a>.<a href="#appendix-A.2.5-1.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.3">
<a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-352" class="iref"></span> (0x01):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.4">
              <p id="appendix-A.2.5-1.4.1">The PRIORITY region of <a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-353" class="iref"></span> is not defined in HTTP/3 frames. Padding is not
defined in HTTP/3 frames.  See <a href="#frame-headers" class="xref">Section 7.2.2</a>.<a href="#appendix-A.2.5-1.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.5">PRIORITY (0x02):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.6">
              <p id="appendix-A.2.5-1.6.1">As described in <a href="#h2-diff-priority" class="xref">Appendix A.2.1</a>, HTTP/3 does not provide a means of
signaling priority.<a href="#appendix-A.2.5-1.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.7">RST_STREAM (0x03):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.8">
              <p id="appendix-A.2.5-1.8.1">RST_STREAM frames do not exist in HTTP/3, since QUIC provides stream lifecycle
management.  The same code point is used for the <a href="#frame-cancel-push" class="xref">CANCEL_PUSH</a><span id="iref-cancel_push-354" class="iref"></span> frame
(<a href="#frame-cancel-push" class="xref">Section 7.2.3</a>).<a href="#appendix-A.2.5-1.8.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.9">
<a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-355" class="iref"></span> (0x04):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.10">
              <p id="appendix-A.2.5-1.10.1"><a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-356" class="iref"></span> frames are sent only at the beginning of the connection.  See
<a href="#frame-settings" class="xref">Section 7.2.4</a> and <a href="#h2-settings" class="xref">Appendix A.3</a>.<a href="#appendix-A.2.5-1.10.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.11">
<a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-357" class="iref"></span> (0x05):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.12">
              <p id="appendix-A.2.5-1.12.1">The <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-358" class="iref"></span> frame does not reference a stream; instead, the <a href="#push-streams" class="xref">push stream</a><span id="iref-push-stream-359" class="iref"></span>
references the <a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-360" class="iref"></span> frame using a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-361" class="iref"></span>.  See
<a href="#frame-push-promise" class="xref">Section 7.2.5</a>.<a href="#appendix-A.2.5-1.12.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.13">PING (0x06):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.14">
              <p id="appendix-A.2.5-1.14.1">PING frames do not exist in HTTP/3, as QUIC provides equivalent
functionality.<a href="#appendix-A.2.5-1.14.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.15">
<a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-362" class="iref"></span> (0x07):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.16">
              <p id="appendix-A.2.5-1.16.1"><a href="#frame-goaway" class="xref">GOAWAY</a><span id="iref-goaway-363" class="iref"></span> does not contain an error code.  In the client-to-server direction,
it carries a <a href="#server-push" class="xref">push ID</a><span id="iref-push-id-364" class="iref"></span> instead of a server-initiated stream ID.
See <a href="#frame-goaway" class="xref">Section 7.2.6</a>.<a href="#appendix-A.2.5-1.16.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.17">WINDOW_UPDATE (0x08):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.18">
              <p id="appendix-A.2.5-1.18.1">WINDOW_UPDATE frames do not exist in HTTP/3, since QUIC provides flow control.<a href="#appendix-A.2.5-1.18.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="appendix-A.2.5-1.19">CONTINUATION (0x09):</dt>
            <dd style="margin-left: 1.5em" id="appendix-A.2.5-1.20">
              <p id="appendix-A.2.5-1.20.1">CONTINUATION frames do not exist in HTTP/3; instead, larger
<a href="#frame-headers" class="xref">HEADERS</a><span id="iref-headers-365" class="iref"></span>/<a href="#frame-push-promise" class="xref">PUSH_PROMISE</a><span id="iref-push_promise-366" class="iref"></span> frames than HTTP/2 are permitted.<a href="#appendix-A.2.5-1.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="appendix-A.2.5-2">Frame types defined by extensions to HTTP/2 need to be separately registered for
HTTP/3 if still applicable.  The IDs of frames defined in <span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span> have been
reserved for simplicity.  Note that the frame type space in HTTP/3 is
substantially larger (62 bits versus 8 bits), so many HTTP/3 frame types have no
equivalent HTTP/2 code points.  See <a href="#iana-frames" class="xref">Section 11.2.1</a>.<a href="#appendix-A.2.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="h2-settings">
<section id="appendix-A.3">
        <h3 id="name-http-2-settings-parameters">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-http-2-settings-parameters" class="section-name selfRef">HTTP/2 SETTINGS Parameters</a>
        </h3>
<p id="appendix-A.3-1">An important difference from HTTP/2 is that settings are sent once, as the first
frame of the <a href="#control-streams" class="xref">control stream</a><span id="iref-control-stream-367" class="iref"></span>, and thereafter cannot change.  This eliminates many
corner cases around synchronization of changes.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3-2">Some transport-level options that HTTP/2 specifies via the <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-368" class="iref"></span> frame are
superseded by QUIC transport parameters in HTTP/3.  The HTTP-level setting that
is retained in HTTP/3 has the same value as in HTTP/2.  The superseded
settings are reserved, and their receipt is an error.  See
<a href="#settings-parameters" class="xref">Section 7.2.4.1</a> for discussion of both the retained and reserved values.<a href="#appendix-A.3-2" class="pilcrow">¶</a></p>
<p id="appendix-A.3-3">Below is a listing of how each HTTP/2 <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-369" class="iref"></span> parameter is mapped:<a href="#appendix-A.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A.3-4">
          <dt id="appendix-A.3-4.1">SETTINGS_HEADER_TABLE_SIZE (0x01):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-4.2">
            <p id="appendix-A.3-4.2.1">See <span>[<a href="#RFC9204" class="xref">QPACK</a>]</span>.<a href="#appendix-A.3-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.3-4.3">SETTINGS_ENABLE_PUSH (0x02):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-4.4">
            <p id="appendix-A.3-4.4.1">This is removed in favor of the <a href="#frame-max-push-id" class="xref">MAX_PUSH_ID</a><span id="iref-max_push_id-370" class="iref"></span> frame, which provides a more
granular control over server push.  Specifying a setting with the identifier
0x02 (corresponding to the SETTINGS_ENABLE_PUSH parameter) in the HTTP/3
<a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-371" class="iref"></span> frame is an error.<a href="#appendix-A.3-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.3-4.5">SETTINGS_MAX_CONCURRENT_STREAMS (0x03):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-4.6">
            <p id="appendix-A.3-4.6.1">QUIC controls the largest open stream ID as part of its flow-control logic.
Specifying a setting with the identifier 0x03 (corresponding to the
SETTINGS_MAX_CONCURRENT_STREAMS parameter) in the HTTP/3 <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-372" class="iref"></span> frame is an
error.<a href="#appendix-A.3-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.3-4.7">SETTINGS_INITIAL_WINDOW_SIZE (0x04):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-4.8">
            <p id="appendix-A.3-4.8.1">QUIC requires both stream and connection flow-control window sizes to be
specified in the initial transport handshake.  Specifying a setting with the
identifier 0x04 (corresponding to the SETTINGS_INITIAL_WINDOW_SIZE parameter)
in the HTTP/3 <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-373" class="iref"></span> frame is an error.<a href="#appendix-A.3-4.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.3-4.9">SETTINGS_MAX_FRAME_SIZE (0x05):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-4.10">
            <p id="appendix-A.3-4.10.1">This setting has no equivalent in HTTP/3.  Specifying a setting with the
identifier 0x05 (corresponding to the SETTINGS_MAX_FRAME_SIZE parameter) in
the HTTP/3 <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-374" class="iref"></span> frame is an error.<a href="#appendix-A.3-4.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.3-4.11">SETTINGS_MAX_HEADER_LIST_SIZE (0x06):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.3-4.12">
            <p id="appendix-A.3-4.12.1">This setting identifier has been renamed <a href="#SETTINGS_MAX_FIELD_SECTION_SIZE" class="xref">SETTINGS_MAX_FIELD_SECTION_SIZE</a><span id="iref-settings_max_field_section_siz" class="iref"></span>.<a href="#appendix-A.3-4.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="appendix-A.3-5">In HTTP/3, setting values are variable-length integers (6, 14, 30, or 62 bits
long) rather than fixed-length 32-bit fields as in HTTP/2.  This will often
produce a shorter encoding, but can produce a longer encoding for settings that
use the full 32-bit space.  Settings ported from HTTP/2 might choose to redefine
their value to limit it to 30 bits for more efficient encoding or to make use
of the 62-bit space if more than 30 bits are required.<a href="#appendix-A.3-5" class="pilcrow">¶</a></p>
<p id="appendix-A.3-6">Settings need to be defined separately for HTTP/2 and HTTP/3. The IDs of
settings defined in <span>[<a href="#RFC9113" class="xref">HTTP/2</a>]</span> have been reserved for simplicity.  Note that
the settings identifier space in HTTP/3 is substantially larger (62 bits versus
16 bits), so many HTTP/3 settings have no equivalent HTTP/2 code point. See
<a href="#iana-settings" class="xref">Section 11.2.2</a>.<a href="#appendix-A.3-6" class="pilcrow">¶</a></p>
<p id="appendix-A.3-7">As QUIC streams might arrive out of order, endpoints are advised not to wait for
the peers' settings to arrive before responding to other streams.  See
<a href="#settings-initialization" class="xref">Section 7.2.4.2</a>.<a href="#appendix-A.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="http2-error-codes">
<section id="appendix-A.4">
        <h3 id="name-http-2-error-codes">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-http-2-error-codes" class="section-name selfRef">HTTP/2 Error Codes</a>
        </h3>
<p id="appendix-A.4-1">QUIC has the same concepts of "stream" and "connection" errors that HTTP/2
provides. However, the differences between HTTP/2 and HTTP/3 mean that error
codes are not directly portable between versions.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<p id="appendix-A.4-2">The HTTP/2 error codes defined in <span><a href="https://rfc-editor.org/rfc/rfc9113#section-7" class="relref">Section 7</a> of [<a href="#RFC9113" class="xref">HTTP/2</a>]</span> logically map to
the HTTP/3 error codes as follows:<a href="#appendix-A.4-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A.4-3">
          <dt id="appendix-A.4-3.1">NO_ERROR (0x00):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.2">
            <p id="appendix-A.4-3.2.1"><a href="#H3_NO_ERROR" class="xref">H3_NO_ERROR</a><span id="iref-h3_no_error-376" class="iref"></span> in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.3">PROTOCOL_ERROR (0x01):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.4">
            <p id="appendix-A.4-3.4.1">This is mapped to <a href="#H3_GENERAL_PROTOCOL_ERROR" class="xref">H3_GENERAL_PROTOCOL_ERROR</a><span id="iref-h3_general_protocol_error-37" class="iref"></span> except in cases where more
specific error codes have been defined. Such cases include
<a href="#H3_FRAME_UNEXPECTED" class="xref">H3_FRAME_UNEXPECTED</a><span id="iref-h3_frame_unexpected-378" class="iref"></span>, <a href="#H3_MESSAGE_ERROR" class="xref">H3_MESSAGE_ERROR</a><span id="iref-h3_message_error-379" class="iref"></span>, and <a href="#H3_CLOSED_CRITICAL_STREAM" class="xref">H3_CLOSED_CRITICAL_STREAM</a><span id="iref-h3_closed_critical_stream-38" class="iref"></span> defined
in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.5">INTERNAL_ERROR (0x02):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.6">
            <p id="appendix-A.4-3.6.1"><a href="#H3_INTERNAL_ERROR" class="xref">H3_INTERNAL_ERROR</a><span id="iref-h3_internal_error-381" class="iref"></span> in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.7">FLOW_CONTROL_ERROR (0x03):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.8">
            <p id="appendix-A.4-3.8.1">Not applicable, since QUIC handles flow control.<a href="#appendix-A.4-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.9">SETTINGS_TIMEOUT (0x04):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.10">
            <p id="appendix-A.4-3.10.1">Not applicable, since no acknowledgment of <a href="#frame-settings" class="xref">SETTINGS</a><span id="iref-settings-382" class="iref"></span> is defined.<a href="#appendix-A.4-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.11">STREAM_CLOSED (0x05):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.12">
            <p id="appendix-A.4-3.12.1">Not applicable, since QUIC handles stream management.<a href="#appendix-A.4-3.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.13">FRAME_SIZE_ERROR (0x06):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.14">
            <p id="appendix-A.4-3.14.1"><a href="#H3_FRAME_ERROR" class="xref">H3_FRAME_ERROR</a><span id="iref-h3_frame_error-383" class="iref"></span> error code defined in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.15">REFUSED_STREAM (0x07):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.16">
            <p id="appendix-A.4-3.16.1"><a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-384" class="iref"></span> (in <a href="#http-error-codes" class="xref">Section 8.1</a>) is used to indicate that a
request was not processed. Otherwise, not applicable because QUIC handles
stream management.<a href="#appendix-A.4-3.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.17">CANCEL (0x08):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.18">
            <p id="appendix-A.4-3.18.1"><a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-385" class="iref"></span> in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.19">COMPRESSION_ERROR (0x09):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.20">
            <p id="appendix-A.4-3.20.1">Multiple error codes are defined in <span>[<a href="#RFC9204" class="xref">QPACK</a>]</span>.<a href="#appendix-A.4-3.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.21">CONNECT_ERROR (0x0a):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.22">
            <p id="appendix-A.4-3.22.1"><a href="#H3_CONNECT_ERROR" class="xref">H3_CONNECT_ERROR</a><span id="iref-h3_connect_error-386" class="iref"></span> in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.22.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.23">ENHANCE_YOUR_CALM (0x0b):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.24">
            <p id="appendix-A.4-3.24.1"><a href="#H3_EXCESSIVE_LOAD" class="xref">H3_EXCESSIVE_LOAD</a><span id="iref-h3_excessive_load-387" class="iref"></span> in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.24.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.25">INADEQUATE_SECURITY (0x0c):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.26">
            <p id="appendix-A.4-3.26.1">Not applicable, since QUIC is assumed to provide sufficient security on all
connections.<a href="#appendix-A.4-3.26.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="appendix-A.4-3.27">HTTP_1_1_REQUIRED (0x0d):</dt>
          <dd style="margin-left: 1.5em" id="appendix-A.4-3.28">
            <p id="appendix-A.4-3.28.1"><a href="#H3_VERSION_FALLBACK" class="xref">H3_VERSION_FALLBACK</a><span id="iref-h3_version_fallback-388" class="iref"></span> in <a href="#http-error-codes" class="xref">Section 8.1</a>.<a href="#appendix-A.4-3.28.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="appendix-A.4-4">Error codes need to be defined for HTTP/2 and HTTP/3 separately.  See
<a href="#iana-error-codes" class="xref">Section 11.2.3</a>.<a href="#appendix-A.4-4" class="pilcrow">¶</a></p>
<div id="mapping-between-http2-and-http3-errors">
<section id="appendix-A.4.1">
          <h4 id="name-mapping-between-http-2-and-">
<a href="#appendix-A.4.1" class="section-number selfRef">A.4.1. </a><a href="#name-mapping-between-http-2-and-" class="section-name selfRef">Mapping between HTTP/2 and HTTP/3 Errors</a>
          </h4>
<p id="appendix-A.4.1-1">An intermediary that converts between HTTP/2 and HTTP/3 may encounter error
conditions from either upstream. It is useful to communicate the occurrence of
errors to the downstream, but error codes largely reflect connection-local
problems that generally do not make sense to propagate.<a href="#appendix-A.4.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.4.1-2">An intermediary that encounters an error from an upstream origin can indicate
this by sending an HTTP status code such as 502 (Bad Gateway), which is suitable
for a broad class of errors.<a href="#appendix-A.4.1-2" class="pilcrow">¶</a></p>
<p id="appendix-A.4.1-3">There are some rare cases where it is beneficial to propagate the error by
mapping it to the closest matching error type to the receiver. For example, an
intermediary that receives an HTTP/2 <a href="#errors" class="xref">stream error</a><span id="iref-stream-error-389" class="iref"></span> of type REFUSED_STREAM from
the origin has a clear signal that the request was not processed and that the
request is safe to retry. Propagating this error condition to the client as an
HTTP/3 <a href="#errors" class="xref">stream error</a><span id="iref-stream-error-390" class="iref"></span> of type <a href="#H3_REQUEST_REJECTED" class="xref">H3_REQUEST_REJECTED</a><span id="iref-h3_request_rejected-391" class="iref"></span> allows the client to take the
action it deems most appropriate. In the reverse direction, the intermediary
might deem it beneficial to pass on client request cancellations that are
indicated by terminating a stream with <a href="#H3_REQUEST_CANCELLED" class="xref">H3_REQUEST_CANCELLED</a><span id="iref-h3_request_cancelled-392" class="iref"></span>; see
<a href="#request-cancellation" class="xref">Section 4.1.1</a>.<a href="#appendix-A.4.1-3" class="pilcrow">¶</a></p>
<p id="appendix-A.4.1-4">Conversion between errors is described in the logical mapping. The error codes
are defined in non-overlapping spaces in order to protect against accidental
conversion that could result in the use of inappropriate or unknown error codes
for the target version. An intermediary is permitted to promote <a href="#errors" class="xref">stream errors</a><span id="iref-stream-error-393" class="iref"></span> to
<a href="#errors" class="xref">connection errors</a><span id="iref-connection-error-394" class="iref"></span> but they should be aware of the cost to the HTTP/3 connection
for what might be a temporary or intermittent error.<a href="#appendix-A.4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-B">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-B-1"><span class="contact-name">Robbie Shade</span> and <span class="contact-name">Mike Warres</span> were the authors of
draft-shade-quic-http2-mapping, a precursor of this document.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">The IETF QUIC Working Group received an enormous amount of support from many
people. Among others, the following people provided substantial contributions to
this document:<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="appendix-B-3.1">{{{Bence Beky}}}<a href="#appendix-B-3.1" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.2">{{{Daan De Meyer}}}<a href="#appendix-B-3.2" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.3">{{{Martin Duke}}}<a href="#appendix-B-3.3" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.4">{{{Roy Fielding}}}<a href="#appendix-B-3.4" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.5">{{{Alan Frindell}}}<a href="#appendix-B-3.5" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.6">{{{Alessandro Ghedini}}}<a href="#appendix-B-3.6" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.7">{{{Nick Harper}}}<a href="#appendix-B-3.7" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.8">{{{Ryan Hamilton}}}<a href="#appendix-B-3.8" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.9">{{{Christian Huitema}}}<a href="#appendix-B-3.9" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.10">{{{Subodh Iyengar}}}<a href="#appendix-B-3.10" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.11">{{{Robin Marx}}}<a href="#appendix-B-3.11" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.12">{{{Patrick McManus}}}<a href="#appendix-B-3.12" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.13">{{{Luca Niccolini}}}<a href="#appendix-B-3.13" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.14">{{{Kazuho Oku}{&amp;#22885; &amp;#19968;&amp;#31298;}}}<a href="#appendix-B-3.14" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.15">{{{Lucas Pardue}}}<a href="#appendix-B-3.15" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.16">{{{Roberto Peon}}}<a href="#appendix-B-3.16" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.17">{{{Julian Reschke}}}<a href="#appendix-B-3.17" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.18">{{{Eric Rescorla}}}<a href="#appendix-B-3.18" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.19">{{{Martin Seemann}}}<a href="#appendix-B-3.19" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.20">{{{Ben Schwartz}}}<a href="#appendix-B-3.20" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.21">{{{Ian Swett}}}<a href="#appendix-B-3.21" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.22">{{{Willy Taureau}}}<a href="#appendix-B-3.22" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.23">{{{Martin Thomson}}}<a href="#appendix-B-3.23" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.24">{{{Dmitri Tikhonov}}}<a href="#appendix-B-3.24" class="pilcrow">¶</a>
</li>
        <li class="compact" id="appendix-B-3.25">{{{Tatsuhiro Tsujikawa}}}<a href="#appendix-B-3.25" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-B-4">A portion of <span class="contact-name">Mike Bishop</span>'s contribution was supported by Microsoft during
his employment there.<a href="#appendix-B-4" class="pilcrow">¶</a></p>
</section>
</div>
<section id="appendix-C">
      <h2 id="name-index">
<a href="#name-index" class="section-name selfRef">Index</a>
      </h2>
<div id="rfc.index.index">
<p id="appendix-C-1">
        <a href="#rfc.index.u67" class="xref">C</a>
        <a href="#rfc.index.u68" class="xref">D</a>
        <a href="#rfc.index.u71" class="xref">G</a>
        <a href="#rfc.index.u72" class="xref">H</a>
        <a href="#rfc.index.u77" class="xref">M</a>
        <a href="#rfc.index.u80" class="xref">P</a>
        <a href="#rfc.index.u82" class="xref">R</a>
        <a href="#rfc.index.u83" class="xref">S</a><a href="#appendix-C-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="appendix-C-2.1">
          <div id="rfc.index.u67">
<p id="appendix-C-2.1.1" class="keepWithNext">
            <a href="#rfc.index.u67" class="xref">C</a><a href="#appendix-C-2.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.1.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.1.2.1.1">
                <dt id="appendix-C-2.1.2.1.1.1">CANCEL_PUSH</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.1.2.1.1.2">
                  <p id="appendix-C-2.1.2.1.1.2.1">
                    <a href="#section-2-5" class="xref">Section 2, Paragraph 5</a>; 
<a href="#section-4.6-6" class="xref">Section 4.6, Paragraph 6</a>; 
<a href="#section-4.6-10" class="xref">Section 4.6, Paragraph 10</a>; 
<a href="#stream-frame-mapping" class="xref">Table 1</a>; 
<strong><em><a href="#frame-cancel-push" class="xref">Section 7.2.3</a></em></strong>; 
<a href="#section-7.2.5-4.2.1" class="xref">Section 7.2.5, Paragraph 4.2.1</a>; 
<a href="#section-7.2.7-1" class="xref">Section 7.2.7, Paragraph 1</a>; 
<a href="#iana-frame-table" class="xref">Table 2</a>; 
<a href="#appendix-A.2.5-1.8.1" class="xref">Appendix A.2.5, Paragraph 1.8.1</a><a href="#appendix-C-2.1.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.1.2.1.1.3">connection error</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.1.2.1.1.4">
                  <p id="appendix-C-2.1.2.1.1.4.1">
                    <a href="#section-2.2-4.7" class="xref">Section 2.2</a>; 
<a href="#section-4.1-7" class="xref">Section 4.1, Paragraph 7</a>; 
<a href="#section-4.1-8" class="xref">Section 4.1, Paragraph 8</a>; 
<a href="#section-4.4-8" class="xref">Section 4.4, Paragraph 8</a>; 
<a href="#section-4.4-10" class="xref">Section 4.4, Paragraph 10</a>; 
<a href="#section-4.6-3" class="xref">Section 4.6, Paragraph 3</a>; 
<a href="#section-5.2-7" class="xref">Section 5.2, Paragraph 7</a>; 
<a href="#section-6.1-3" class="xref">Section 6.1, Paragraph 3</a>; 
<a href="#section-6.2-7" class="xref">Section 6.2, Paragraph 7</a>; 
<a href="#section-6.2.1-2" class="xref">Section 6.2.1, Paragraph 2</a>; 
<a href="#section-6.2.1-2" class="xref">Section 6.2.1, Paragraph 2</a>; 
<a href="#section-6.2.1-2" class="xref">Section 6.2.1, Paragraph 2</a>; 
<a href="#section-6.2.2-3" class="xref">Section 6.2.2, Paragraph 3</a>; 
<a href="#section-6.2.2-6" class="xref">Section 6.2.2, Paragraph 6</a>; 
<a href="#section-7.1-5" class="xref">Section 7.1, Paragraph 5</a>; 
<a href="#section-7.1-6" class="xref">Section 7.1, Paragraph 6</a>; 
<a href="#section-7.2.1-2" class="xref">Section 7.2.1, Paragraph 2</a>; 
<a href="#section-7.2.2-3" class="xref">Section 7.2.2, Paragraph 3</a>; 
<a href="#section-7.2.3-5" class="xref">Section 7.2.3, Paragraph 5</a>; 
<a href="#section-7.2.3-7" class="xref">Section 7.2.3, Paragraph 7</a>; 
<a href="#section-7.2.3-8" class="xref">Section 7.2.3, Paragraph 8</a>; 
<a href="#section-7.2.4-2" class="xref">Section 7.2.4, Paragraph 2</a>; 
<a href="#section-7.2.4-3" class="xref">Section 7.2.4, Paragraph 3</a>; 
<a href="#section-7.2.4-6" class="xref">Section 7.2.4, Paragraph 6</a>; 
<a href="#section-7.2.4.1-5" class="xref">Section 7.2.4.1, Paragraph 5</a>; 
<a href="#section-7.2.4.2-8" class="xref">Section 7.2.4.2, Paragraph 8</a>; 
<a href="#section-7.2.4.2-8" class="xref">Section 7.2.4.2, Paragraph 8</a>; 
<a href="#section-7.2.5-5" class="xref">Section 7.2.5, Paragraph 5</a>; 
<a href="#section-7.2.5-6" class="xref">Section 7.2.5, Paragraph 6</a>; 
<a href="#section-7.2.5-8" class="xref">Section 7.2.5, Paragraph 8</a>; 
<a href="#section-7.2.5-9" class="xref">Section 7.2.5, Paragraph 9</a>; 
<a href="#section-7.2.6-3" class="xref">Section 7.2.6, Paragraph 3</a>; 
<a href="#section-7.2.6-5" class="xref">Section 7.2.6, Paragraph 5</a>; 
<a href="#section-7.2.7-2" class="xref">Section 7.2.7, Paragraph 2</a>; 
<a href="#section-7.2.7-3" class="xref">Section 7.2.7, Paragraph 3</a>; 
<a href="#section-7.2.7-6" class="xref">Section 7.2.7, Paragraph 6</a>; 
<a href="#section-7.2.8-3" class="xref">Section 7.2.8, Paragraph 3</a>; 
<strong><em><a href="#errors" class="xref">Section 8</a></em></strong>; 
<a href="#section-10.5-7" class="xref">Section 10.5, Paragraph 7</a>; 
<a href="#appendix-A.4.1-4" class="xref">Appendix A.4.1, Paragraph 4</a><a href="#appendix-C-2.1.2.1.1.4.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.1.2.1.1.5">control stream</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.1.2.1.1.6">
                  <p id="appendix-C-2.1.2.1.1.6.1">
                    <a href="#section-2-3" class="xref">Section 2, Paragraph 3</a>; 
<a href="#section-3.2-4" class="xref">Section 3.2, Paragraph 4</a>; 
<a href="#section-6.2-3" class="xref">Section 6.2, Paragraph 3</a>; 
<a href="#section-6.2-5" class="xref">Section 6.2, Paragraph 5</a>; 
<a href="#section-6.2-6" class="xref">Section 6.2, Paragraph 6</a>; 
<strong><em><a href="#control-streams" class="xref">Section 6.2.1</a></em></strong>; 
<strong><em><a href="#control-streams" class="xref">Section 6.2.1</a></em></strong>; 
<a href="#section-7-1" class="xref">Section 7, Paragraph 1</a>; 
<a href="#section-7.2.1-2" class="xref">Section 7.2.1, Paragraph 2</a>; 
<a href="#section-7.2.2-3" class="xref">Section 7.2.2, Paragraph 3</a>; 
<a href="#section-7.2.3-5" class="xref">Section 7.2.3, Paragraph 5</a>; 
<a href="#section-7.2.3-5" class="xref">Section 7.2.3, Paragraph 5</a>; 
<a href="#section-7.2.4-2" class="xref">Section 7.2.4, Paragraph 2</a>; 
<a href="#section-7.2.4-2" class="xref">Section 7.2.4, Paragraph 2</a>; 
<a href="#section-7.2.4-3" class="xref">Section 7.2.4, Paragraph 3</a>; 
<a href="#section-7.2.5-8" class="xref">Section 7.2.5, Paragraph 8</a>; 
<a href="#section-7.2.6-3" class="xref">Section 7.2.6, Paragraph 3</a>; 
<a href="#section-7.2.6-5" class="xref">Section 7.2.6, Paragraph 5</a>; 
<a href="#section-7.2.7-2" class="xref">Section 7.2.7, Paragraph 2</a>; 
<a href="#H3_MISSING_SETTINGS" class="xref">Section 8.1, Paragraph 2.22.1</a>; 
<a href="#section-9-4" class="xref">Section 9, Paragraph 4</a>; 
<a href="#appendix-A.2.4-3" class="xref">Appendix A.2.4, Paragraph 3</a>; 
<a href="#appendix-A.3-1" class="xref">Appendix A.3, Paragraph 1</a><a href="#appendix-C-2.1.2.1.1.6.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-C-2.2">
          <div id="rfc.index.u68">
<p id="appendix-C-2.2.1" class="keepWithNext">
            <a href="#rfc.index.u68" class="xref">D</a><a href="#appendix-C-2.2.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.2.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.2.2.1.1">
                <dt id="appendix-C-2.2.2.1.1.1">DATA</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.2.2.1.1.2">
                  <p id="appendix-C-2.2.2.1.1.2.1">
                    <a href="#section-2-3" class="xref">Section 2, Paragraph 3</a>; 
<a href="#section-4.1-5.2" class="xref">Section 4.1, Paragraph 5, Item 2</a>; 
<a href="#section-4.1-7" class="xref">Section 4.1, Paragraph 7</a>; 
<a href="#section-4.1-7" class="xref">Section 4.1, Paragraph 7</a>; 
<a href="#section-4.1.2-3" class="xref">Section 4.1.2, Paragraph 3</a>; 
<a href="#section-4.1.2-3" class="xref">Section 4.1.2, Paragraph 3</a>; 
<a href="#section-4.4-7" class="xref">Section 4.4, Paragraph 7</a>; 
<a href="#section-4.4-7" class="xref">Section 4.4, Paragraph 7</a>; 
<a href="#section-4.4-7" class="xref">Section 4.4, Paragraph 7</a>; 
<a href="#section-4.4-7" class="xref">Section 4.4, Paragraph 7</a>; 
<a href="#section-4.4-8" class="xref">Section 4.4, Paragraph 8</a>; 
<a href="#section-4.6-12" class="xref">Section 4.6, Paragraph 12</a>; 
<a href="#stream-frame-mapping" class="xref">Table 1</a>; 
<strong><em><a href="#frame-data" class="xref">Section 7.2.1</a></em></strong>; 
<a href="#iana-frame-table" class="xref">Table 2</a>; 
<a href="#appendix-A.1-3" class="xref">Appendix A.1, Paragraph 3</a>; 
<a href="#appendix-A.2.3-1" class="xref">Appendix A.2.3, Paragraph 1</a>; 
<a href="#appendix-A.2.5-1.1" class="xref">Appendix A.2.5</a><a href="#appendix-C-2.2.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-C-2.3">
          <div id="rfc.index.u71">
<p id="appendix-C-2.3.1" class="keepWithNext">
            <a href="#rfc.index.u71" class="xref">G</a><a href="#appendix-C-2.3.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.3.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.3.2.1.1">
                <dt id="appendix-C-2.3.2.1.1.1">GOAWAY</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.3.2.1.1.2">
                  <p id="appendix-C-2.3.2.1.1.2.1">
                    <a href="#section-3.3-5" class="xref">Section 3.3, Paragraph 5</a>; 
<a href="#section-5.2-1" class="xref">Section 5.2, Paragraph 1</a>; 
<a href="#section-5.2-1" class="xref">Section 5.2, Paragraph 1</a>; 
<a href="#section-5.2-1" class="xref">Section 5.2, Paragraph 1</a>; 
<a href="#section-5.2-2" class="xref">Section 5.2, Paragraph 2</a>; 
<a href="#section-5.2-2" class="xref">Section 5.2, Paragraph 2</a>; 
<a href="#section-5.2-3" class="xref">Section 5.2, Paragraph 3</a>; 
<a href="#section-5.2-5.1.1" class="xref">Section 5.2, Paragraph 5.1.1</a>; 
<a href="#section-5.2-5.1.1" class="xref">Section 5.2, Paragraph 5.1.1</a>; 
<a href="#section-5.2-5.1.2" class="xref">Section 5.2, Paragraph 5.1.2</a>; 
<a href="#section-5.2-5.1.2" class="xref">Section 5.2, Paragraph 5.1.2</a>; 
<a href="#section-5.2-5.2" class="xref">Section 5.2, Paragraph 5, Item 2</a>; 
<a href="#section-5.2-5.2" class="xref">Section 5.2, Paragraph 5, Item 2</a>; 
<a href="#section-5.2-6" class="xref">Section 5.2, Paragraph 6</a>; 
<a href="#section-5.2-6" class="xref">Section 5.2, Paragraph 6</a>; 
<a href="#section-5.2-7" class="xref">Section 5.2, Paragraph 7</a>; 
<a href="#section-5.2-7" class="xref">Section 5.2, Paragraph 7</a>; 
<a href="#section-5.2-8" class="xref">Section 5.2, Paragraph 8</a>; 
<a href="#section-5.2-8" class="xref">Section 5.2, Paragraph 8</a>; 
<a href="#section-5.2-9" class="xref">Section 5.2, Paragraph 9</a>; 
<a href="#section-5.2-9" class="xref">Section 5.2, Paragraph 9</a>; 
<a href="#section-5.2-10" class="xref">Section 5.2, Paragraph 10</a>; 
<a href="#section-5.2-12" class="xref">Section 5.2, Paragraph 12</a>; 
<a href="#section-5.3-2" class="xref">Section 5.3, Paragraph 2</a>; 
<a href="#section-5.3-2" class="xref">Section 5.3, Paragraph 2</a>; 
<a href="#section-5.4-2" class="xref">Section 5.4, Paragraph 2</a>; 
<a href="#stream-frame-mapping" class="xref">Table 1</a>; 
<strong><em><a href="#frame-goaway" class="xref">Section 7.2.6</a></em></strong>; 
<a href="#iana-frame-table" class="xref">Table 2</a>; 
<a href="#appendix-A.2.5-1.15" class="xref">Appendix A.2.5</a>; 
<a href="#appendix-A.2.5-1.16.1" class="xref">Appendix A.2.5, Paragraph 1.16.1</a><a href="#appendix-C-2.3.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-C-2.4">
          <div id="rfc.index.u72">
<p id="appendix-C-2.4.1" class="keepWithNext">
            <a href="#rfc.index.u72" class="xref">H</a><a href="#appendix-C-2.4.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.4.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.4.2.1.1">
                <dt id="appendix-C-2.4.2.1.1.1">H3_CLOSED_CRITICAL_STREAM</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.2">
                  <p id="appendix-C-2.4.2.1.1.2.1">
                    <a href="#section-6.2.1-2" class="xref">Section 6.2.1, Paragraph 2</a>; 
<a href="#section-8.1-2.9" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.4.1" class="xref">Appendix A.4, Paragraph 3.4.1</a><a href="#appendix-C-2.4.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.3">H3_CONNECT_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.4">
                  <p id="appendix-C-2.4.2.1.1.4.1">
                    <a href="#section-4.4-10" class="xref">Section 4.4, Paragraph 10</a>; 
<a href="#section-8.1-2.31" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.22.1" class="xref">Appendix A.4, Paragraph 3.22.1</a><a href="#appendix-C-2.4.2.1.1.4.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.5">H3_EXCESSIVE_LOAD</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.6">
                  <p id="appendix-C-2.4.2.1.1.6.1">
                    <a href="#section-8.1-2.15" class="xref">Section 8.1</a>; 
<a href="#section-10.5-7" class="xref">Section 10.5, Paragraph 7</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.24.1" class="xref">Appendix A.4, Paragraph 3.24.1</a><a href="#appendix-C-2.4.2.1.1.6.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.7">H3_FRAME_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.8">
                  <p id="appendix-C-2.4.2.1.1.8.1">
                    <a href="#section-7.1-5" class="xref">Section 7.1, Paragraph 5</a>; 
<a href="#section-7.1-6" class="xref">Section 7.1, Paragraph 6</a>; 
<a href="#section-8.1-2.13" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.14.1" class="xref">Appendix A.4, Paragraph 3.14.1</a><a href="#appendix-C-2.4.2.1.1.8.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.9">H3_FRAME_UNEXPECTED</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.10">
                  <p id="appendix-C-2.4.2.1.1.10.1">
                    <a href="#section-4.1-7" class="xref">Section 4.1, Paragraph 7</a>; 
<a href="#section-4.1-8" class="xref">Section 4.1, Paragraph 8</a>; 
<a href="#section-4.4-8" class="xref">Section 4.4, Paragraph 8</a>; 
<a href="#section-7.2.1-2" class="xref">Section 7.2.1, Paragraph 2</a>; 
<a href="#section-7.2.2-3" class="xref">Section 7.2.2, Paragraph 3</a>; 
<a href="#section-7.2.3-5" class="xref">Section 7.2.3, Paragraph 5</a>; 
<a href="#section-7.2.4-2" class="xref">Section 7.2.4, Paragraph 2</a>; 
<a href="#section-7.2.4-3" class="xref">Section 7.2.4, Paragraph 3</a>; 
<a href="#section-7.2.5-8" class="xref">Section 7.2.5, Paragraph 8</a>; 
<a href="#section-7.2.5-9" class="xref">Section 7.2.5, Paragraph 9</a>; 
<a href="#section-7.2.6-5" class="xref">Section 7.2.6, Paragraph 5</a>; 
<a href="#section-7.2.7-2" class="xref">Section 7.2.7, Paragraph 2</a>; 
<a href="#section-7.2.7-3" class="xref">Section 7.2.7, Paragraph 3</a>; 
<a href="#section-7.2.8-3" class="xref">Section 7.2.8, Paragraph 3</a>; 
<a href="#section-8.1-2.11" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.4.1" class="xref">Appendix A.4, Paragraph 3.4.1</a><a href="#appendix-C-2.4.2.1.1.10.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.11">H3_GENERAL_PROTOCOL_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.12">
                  <p id="appendix-C-2.4.2.1.1.12.1">
                    <a href="#section-7.2.5-6" class="xref">Section 7.2.5, Paragraph 6</a>; 
<a href="#section-8.1-2.3" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.4.1" class="xref">Appendix A.4, Paragraph 3.4.1</a><a href="#appendix-C-2.4.2.1.1.12.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.13">H3_ID_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.14">
                  <p id="appendix-C-2.4.2.1.1.14.1">
                    <a href="#section-4.6-3" class="xref">Section 4.6, Paragraph 3</a>; 
<a href="#section-5.2-7" class="xref">Section 5.2, Paragraph 7</a>; 
<a href="#section-6.2.2-6" class="xref">Section 6.2.2, Paragraph 6</a>; 
<a href="#section-7.2.3-7" class="xref">Section 7.2.3, Paragraph 7</a>; 
<a href="#section-7.2.3-8" class="xref">Section 7.2.3, Paragraph 8</a>; 
<a href="#section-7.2.5-5" class="xref">Section 7.2.5, Paragraph 5</a>; 
<a href="#section-7.2.6-3" class="xref">Section 7.2.6, Paragraph 3</a>; 
<a href="#section-7.2.7-6" class="xref">Section 7.2.7, Paragraph 6</a>; 
<a href="#section-8.1-2.17" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a><a href="#appendix-C-2.4.2.1.1.14.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.15">H3_INTERNAL_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.16">
                  <p id="appendix-C-2.4.2.1.1.16.1">
                    <a href="#section-8.1-2.5" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.6.1" class="xref">Appendix A.4, Paragraph 3.6.1</a><a href="#appendix-C-2.4.2.1.1.16.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.17">H3_MESSAGE_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.18">
                  <p id="appendix-C-2.4.2.1.1.18.1">
                    <a href="#section-4.1.2-4" class="xref">Section 4.1.2, Paragraph 4</a>; 
<a href="#section-8.1-2.29" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.4.1" class="xref">Appendix A.4, Paragraph 3.4.1</a><a href="#appendix-C-2.4.2.1.1.18.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.19">H3_MISSING_SETTINGS</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.20">
                  <p id="appendix-C-2.4.2.1.1.20.1">
                    <a href="#section-6.2.1-2" class="xref">Section 6.2.1, Paragraph 2</a>; 
<a href="#section-8.1-2.21" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a><a href="#appendix-C-2.4.2.1.1.20.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.21">H3_NO_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.22">
                  <p id="appendix-C-2.4.2.1.1.22.1">
                    <a href="#section-4.1-15" class="xref">Section 4.1, Paragraph 15</a>; 
<a href="#section-5.2-11" class="xref">Section 5.2, Paragraph 11</a>; 
<a href="#section-6.2.3-2" class="xref">Section 6.2.3, Paragraph 2</a>; 
<a href="#section-8-5" class="xref">Section 8, Paragraph 5</a>; 
<a href="#section-8.1-2.1" class="xref">Section 8.1</a>; 
<a href="#section-8.1-3" class="xref">Section 8.1, Paragraph 3</a>; 
<a href="#section-8.1-3" class="xref">Section 8.1, Paragraph 3</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.2.1" class="xref">Appendix A.4, Paragraph 3.2.1</a><a href="#appendix-C-2.4.2.1.1.22.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.23">H3_REQUEST_CANCELLED</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.24">
                  <p id="appendix-C-2.4.2.1.1.24.1">
                    <a href="#section-4.1.1-4" class="xref">Section 4.1.1, Paragraph 4</a>; 
<a href="#section-4.1.1-5" class="xref">Section 4.1.1, Paragraph 5</a>; 
<a href="#section-4.6-14" class="xref">Section 4.6, Paragraph 14</a>; 
<a href="#section-7.2.3-3" class="xref">Section 7.2.3, Paragraph 3</a>; 
<a href="#section-7.2.3-4" class="xref">Section 7.2.3, Paragraph 4</a>; 
<a href="#section-8.1-2.25" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.18.1" class="xref">Appendix A.4, Paragraph 3.18.1</a>; 
<a href="#appendix-A.4.1-3" class="xref">Appendix A.4.1, Paragraph 3</a><a href="#appendix-C-2.4.2.1.1.24.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.25">H3_REQUEST_INCOMPLETE</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.26">
                  <p id="appendix-C-2.4.2.1.1.26.1">
                    <a href="#section-4.1-14" class="xref">Section 4.1, Paragraph 14</a>; 
<a href="#section-8.1-2.27" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a><a href="#appendix-C-2.4.2.1.1.26.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.27">H3_REQUEST_REJECTED</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.28">
                  <p id="appendix-C-2.4.2.1.1.28.1">
                    <a href="#section-4.1.1-3" class="xref">Section 4.1.1, Paragraph 3</a>; 
<a href="#section-4.1.1-4" class="xref">Section 4.1.1, Paragraph 4</a>; 
<a href="#section-4.1.1-5" class="xref">Section 4.1.1, Paragraph 5</a>; 
<a href="#section-4.1.1-5" class="xref">Section 4.1.1, Paragraph 5</a>; 
<a href="#section-8.1-2.23" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.16.1" class="xref">Appendix A.4, Paragraph 3.16.1</a>; 
<a href="#appendix-A.4.1-3" class="xref">Appendix A.4.1, Paragraph 3</a><a href="#appendix-C-2.4.2.1.1.28.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.29">H3_SETTINGS_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.30">
                  <p id="appendix-C-2.4.2.1.1.30.1">
                    <a href="#section-7.2.4-6" class="xref">Section 7.2.4, Paragraph 6</a>; 
<a href="#section-7.2.4.1-5" class="xref">Section 7.2.4.1, Paragraph 5</a>; 
<a href="#section-7.2.4.2-8" class="xref">Section 7.2.4.2, Paragraph 8</a>; 
<a href="#section-7.2.4.2-8" class="xref">Section 7.2.4.2, Paragraph 8</a>; 
<a href="#section-8.1-2.19" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a><a href="#appendix-C-2.4.2.1.1.30.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.31">H3_STREAM_CREATION_ERROR</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.32">
                  <p id="appendix-C-2.4.2.1.1.32.1">
                    <a href="#section-6.1-3" class="xref">Section 6.1, Paragraph 3</a>; 
<a href="#section-6.2-7" class="xref">Section 6.2, Paragraph 7</a>; 
<a href="#section-6.2.1-2" class="xref">Section 6.2.1, Paragraph 2</a>; 
<a href="#section-6.2.2-3" class="xref">Section 6.2.2, Paragraph 3</a>; 
<a href="#section-8.1-2.7" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a><a href="#appendix-C-2.4.2.1.1.32.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.33">H3_VERSION_FALLBACK</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.34">
                  <p id="appendix-C-2.4.2.1.1.34.1">
                    <a href="#section-8.1-2.33" class="xref">Section 8.1</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.4-3.28.1" class="xref">Appendix A.4, Paragraph 3.28.1</a><a href="#appendix-C-2.4.2.1.1.34.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.4.2.1.1.35">HEADERS</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.4.2.1.1.36">
                  <p id="appendix-C-2.4.2.1.1.36.1">
                    <a href="#section-2-3" class="xref">Section 2, Paragraph 3</a>; 
<a href="#section-4.1-5.1" class="xref">Section 4.1, Paragraph 5, Item 1</a>; 
<a href="#section-4.1-5.3" class="xref">Section 4.1, Paragraph 5, Item 3</a>; 
<a href="#section-4.1-7" class="xref">Section 4.1, Paragraph 7</a>; 
<a href="#section-4.1-7" class="xref">Section 4.1, Paragraph 7</a>; 
<a href="#section-4.1-7" class="xref">Section 4.1, Paragraph 7</a>; 
<a href="#section-4.1-10" class="xref">Section 4.1, Paragraph 10</a>; 
<a href="#section-4.4-6" class="xref">Section 4.4, Paragraph 6</a>; 
<a href="#section-4.6-12" class="xref">Section 4.6, Paragraph 12</a>; 
<a href="#stream-frame-mapping" class="xref">Table 1</a>; 
<strong><em><a href="#frame-headers" class="xref">Section 7.2.2</a></em></strong>; 
<a href="#section-9-5" class="xref">Section 9, Paragraph 5</a>; 
<a href="#iana-frame-table" class="xref">Table 2</a>; 
<a href="#appendix-A.2.1-1" class="xref">Appendix A.2.1, Paragraph 1</a>; 
<a href="#appendix-A.2.5-1.3" class="xref">Appendix A.2.5</a>; 
<a href="#appendix-A.2.5-1.4.1" class="xref">Appendix A.2.5, Paragraph 1.4.1</a>; 
<a href="#appendix-A.2.5-1.20.1" class="xref">Appendix A.2.5, Paragraph 1.20.1</a><a href="#appendix-C-2.4.2.1.1.36.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-C-2.5">
          <div id="rfc.index.u77">
<p id="appendix-C-2.5.1" class="keepWithNext">
            <a href="#rfc.index.u77" class="xref">M</a><a href="#appendix-C-2.5.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.5.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.5.2.1.1">
                <dt id="appendix-C-2.5.2.1.1.1">malformed</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.5.2.1.1.2">
                  <p id="appendix-C-2.5.2.1.1.2.1">
                    <a href="#section-4.1-3" class="xref">Section 4.1, Paragraph 3</a>; 
<strong><em><a href="#malformed" class="xref">Section 4.1.2</a></em></strong>; 
<a href="#section-4.2-2" class="xref">Section 4.2, Paragraph 2</a>; 
<a href="#section-4.2-3" class="xref">Section 4.2, Paragraph 3</a>; 
<a href="#section-4.2-5" class="xref">Section 4.2, Paragraph 5</a>; 
<a href="#section-4.3-3" class="xref">Section 4.3, Paragraph 3</a>; 
<a href="#section-4.3-4" class="xref">Section 4.3, Paragraph 4</a>; 
<a href="#section-4.3.1-5" class="xref">Section 4.3.1, Paragraph 5</a>; 
<a href="#section-4.3.2-1" class="xref">Section 4.3.2, Paragraph 1</a>; 
<a href="#section-4.4-5" class="xref">Section 4.4, Paragraph 5</a>; 
<a href="#H3_MESSAGE_ERROR" class="xref">Section 8.1, Paragraph 2.30.1</a>; 
<a href="#section-10.3-1" class="xref">Section 10.3, Paragraph 1</a>; 
<a href="#section-10.3-2" class="xref">Section 10.3, Paragraph 2</a>; 
<a href="#section-10.5.1-2" class="xref">Section 10.5.1, Paragraph 2</a><a href="#appendix-C-2.5.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.5.2.1.1.3">MAX_PUSH_ID</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.5.2.1.1.4">
                  <p id="appendix-C-2.5.2.1.1.4.1">
                    <a href="#section-2-5" class="xref">Section 2, Paragraph 5</a>; 
<a href="#section-4.6-3" class="xref">Section 4.6, Paragraph 3</a>; 
<a href="#section-4.6-3" class="xref">Section 4.6, Paragraph 3</a>; 
<a href="#section-4.6-3" class="xref">Section 4.6, Paragraph 3</a>; 
<a href="#section-4.6-3" class="xref">Section 4.6, Paragraph 3</a>; 
<a href="#stream-frame-mapping" class="xref">Table 1</a>; 
<a href="#section-7.2.5-5" class="xref">Section 7.2.5, Paragraph 5</a>; 
<strong><em><a href="#frame-max-push-id" class="xref">Section 7.2.7</a></em></strong>; 
<a href="#iana-frame-table" class="xref">Table 2</a>; 
<a href="#appendix-A.1-4" class="xref">Appendix A.1, Paragraph 4</a>; 
<a href="#appendix-A.3-4.4.1" class="xref">Appendix A.3, Paragraph 4.4.1</a><a href="#appendix-C-2.5.2.1.1.4.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-C-2.6">
          <div id="rfc.index.u80">
<p id="appendix-C-2.6.1" class="keepWithNext">
            <a href="#rfc.index.u80" class="xref">P</a><a href="#appendix-C-2.6.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.6.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.6.2.1.1">
                <dt id="appendix-C-2.6.2.1.1.1">push ID</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.6.2.1.1.2">
                  <p id="appendix-C-2.6.2.1.1.2.1">
                    <strong><em><a href="#server-push" class="xref">Section 4.6</a></em></strong>; 
<a href="#section-5.2-1" class="xref">Section 5.2, Paragraph 1</a>; 
<a href="#section-5.2-5.2" class="xref">Section 5.2, Paragraph 5, Item 2</a>; 
<a href="#section-5.2-9" class="xref">Section 5.2, Paragraph 9</a>; 
<a href="#section-6.2.2-2" class="xref">Section 6.2.2, Paragraph 2</a>; 
<a href="#section-6.2.2-6" class="xref">Section 6.2.2, Paragraph 6</a>; 
<a href="#section-6.2.2-6" class="xref">Section 6.2.2, Paragraph 6</a>; 
<a href="#section-7.2.3-1" class="xref">Section 7.2.3, Paragraph 1</a>; 
<a href="#section-7.2.3-7" class="xref">Section 7.2.3, Paragraph 7</a>; 
<a href="#section-7.2.3-7" class="xref">Section 7.2.3, Paragraph 7</a>; 
<a href="#section-7.2.3-8" class="xref">Section 7.2.3, Paragraph 8</a>; 
<a href="#section-7.2.3-8" class="xref">Section 7.2.3, Paragraph 8</a>; 
<a href="#section-7.2.5-4.2.1" class="xref">Section 7.2.5, Paragraph 4.2.1</a>; 
<a href="#section-7.2.5-5" class="xref">Section 7.2.5, Paragraph 5</a>; 
<a href="#section-7.2.5-5" class="xref">Section 7.2.5, Paragraph 5</a>; 
<a href="#section-7.2.5-6" class="xref">Section 7.2.5, Paragraph 6</a>; 
<a href="#section-7.2.5-6" class="xref">Section 7.2.5, Paragraph 6</a>; 
<a href="#section-7.2.5-7" class="xref">Section 7.2.5, Paragraph 7</a>; 
<a href="#section-7.2.5-7" class="xref">Section 7.2.5, Paragraph 7</a>; 
<a href="#section-7.2.5-7" class="xref">Section 7.2.5, Paragraph 7</a>; 
<a href="#section-7.2.6-4" class="xref">Section 7.2.6, Paragraph 4</a>; 
<a href="#section-7.2.7-1" class="xref">Section 7.2.7, Paragraph 1</a>; 
<a href="#section-7.2.7-4" class="xref">Section 7.2.7, Paragraph 4</a>; 
<a href="#section-7.2.7-4" class="xref">Section 7.2.7, Paragraph 4</a>; 
<a href="#section-7.2.7-6" class="xref">Section 7.2.7, Paragraph 6</a>; 
<a href="#section-7.2.7-6" class="xref">Section 7.2.7, Paragraph 6</a>; 
<a href="#H3_ID_ERROR" class="xref">Section 8.1, Paragraph 2.18.1</a>; 
<a href="#appendix-A.2.5-1.12.1" class="xref">Appendix A.2.5, Paragraph 1.12.1</a>; 
<a href="#appendix-A.2.5-1.16.1" class="xref">Appendix A.2.5, Paragraph 1.16.1</a><a href="#appendix-C-2.6.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.6.2.1.1.3">push stream</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.6.2.1.1.4">
                  <p id="appendix-C-2.6.2.1.1.4.1">
                    <a href="#section-4.1-8" class="xref">Section 4.1, Paragraph 8</a>; 
<a href="#section-4.1-9" class="xref">Section 4.1, Paragraph 9</a>; 
<a href="#section-4.6-3" class="xref">Section 4.6, Paragraph 3</a>; 
<a href="#section-4.6-5" class="xref">Section 4.6, Paragraph 5</a>; 
<a href="#section-4.6-5" class="xref">Section 4.6, Paragraph 5</a>; 
<a href="#section-4.6-13" class="xref">Section 4.6, Paragraph 13</a>; 
<a href="#section-4.6-13" class="xref">Section 4.6, Paragraph 13</a>; 
<a href="#section-4.6-13" class="xref">Section 4.6, Paragraph 13</a>; 
<a href="#section-6.2-3" class="xref">Section 6.2, Paragraph 3</a>; 
<strong><em><a href="#push-streams" class="xref">Section 6.2.2</a></em></strong>; 
<strong><em><a href="#push-streams" class="xref">Section 6.2.2</a></em></strong>; 
<a href="#section-7-1" class="xref">Section 7, Paragraph 1</a>; 
<a href="#section-7.2.2-3" class="xref">Section 7.2.2, Paragraph 3</a>; 
<a href="#section-7.2.3-1" class="xref">Section 7.2.3, Paragraph 1</a>; 
<a href="#section-7.2.3-2" class="xref">Section 7.2.3, Paragraph 2</a>; 
<a href="#section-7.2.3-2" class="xref">Section 7.2.3, Paragraph 2</a>; 
<a href="#section-7.2.3-2" class="xref">Section 7.2.3, Paragraph 2</a>; 
<a href="#section-7.2.3-2" class="xref">Section 7.2.3, Paragraph 2</a>; 
<a href="#section-7.2.3-3" class="xref">Section 7.2.3, Paragraph 3</a>; 
<a href="#section-7.2.3-4" class="xref">Section 7.2.3, Paragraph 4</a>; 
<a href="#section-7.2.3-4" class="xref">Section 7.2.3, Paragraph 4</a>; 
<a href="#section-7.2.3-4" class="xref">Section 7.2.3, Paragraph 4</a>; 
<a href="#section-7.2.5-4.2.1" class="xref">Section 7.2.5, Paragraph 4.2.1</a>; 
<a href="#section-7.2.7-1" class="xref">Section 7.2.7, Paragraph 1</a>; 
<a href="#appendix-A.2.5-1.12.1" class="xref">Appendix A.2.5, Paragraph 1.12.1</a><a href="#appendix-C-2.6.2.1.1.4.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.6.2.1.1.5">PUSH_PROMISE</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.6.2.1.1.6">
                  <p id="appendix-C-2.6.2.1.1.6.1">
                    <a href="#section-2-5" class="xref">Section 2, Paragraph 5</a>; 
<a href="#section-4.1-8" class="xref">Section 4.1, Paragraph 8</a>; 
<a href="#section-4.1-8" class="xref">Section 4.1, Paragraph 8</a>; 
<a href="#section-4.1-8" class="xref">Section 4.1, Paragraph 8</a>; 
<a href="#section-4.1-8" class="xref">Section 4.1, Paragraph 8</a>; 
<a href="#section-4.1-10" class="xref">Section 4.1, Paragraph 10</a>; 
<a href="#section-4.6-4" class="xref">Section 4.6, Paragraph 4</a>; 
<a href="#section-4.6-10" class="xref">Section 4.6, Paragraph 10</a>; 
<a href="#section-4.6-11" class="xref">Section 4.6, Paragraph 11</a>; 
<a href="#section-4.6-11" class="xref">Section 4.6, Paragraph 11</a>; 
<a href="#section-4.6-12" class="xref">Section 4.6, Paragraph 12</a>; 
<a href="#section-4.6-12" class="xref">Section 4.6, Paragraph 12</a>; 
<a href="#section-4.6-13" class="xref">Section 4.6, Paragraph 13</a>; 
<a href="#section-4.6-13" class="xref">Section 4.6, Paragraph 13</a>; 
<a href="#section-4.6-13" class="xref">Section 4.6, Paragraph 13</a>; 
<a href="#stream-frame-mapping" class="xref">Table 1</a>; 
<a href="#section-7.2.3-8" class="xref">Section 7.2.3, Paragraph 8</a>; 
<a href="#section-7.2.3-8" class="xref">Section 7.2.3, Paragraph 8</a>; 
<strong><em><a href="#frame-push-promise" class="xref">Section 7.2.5</a></em></strong>; 
<a href="#section-7.2.7-1" class="xref">Section 7.2.7, Paragraph 1</a>; 
<a href="#section-10.4-1" class="xref">Section 10.4, Paragraph 1</a>; 
<a href="#section-10.5-2" class="xref">Section 10.5, Paragraph 2</a>; 
<a href="#iana-frame-table" class="xref">Table 2</a>; 
<a href="#appendix-A.2.5-1.11" class="xref">Appendix A.2.5</a>; 
<a href="#appendix-A.2.5-1.12.1" class="xref">Appendix A.2.5, Paragraph 1.12.1</a>; 
<a href="#appendix-A.2.5-1.12.1" class="xref">Appendix A.2.5, Paragraph 1.12.1</a>; 
<a href="#appendix-A.2.5-1.20.1" class="xref">Appendix A.2.5, Paragraph 1.20.1</a><a href="#appendix-C-2.6.2.1.1.6.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-C-2.7">
          <div id="rfc.index.u82">
<p id="appendix-C-2.7.1" class="keepWithNext">
            <a href="#rfc.index.u82" class="xref">R</a><a href="#appendix-C-2.7.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.7.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.7.2.1.1">
                <dt id="appendix-C-2.7.2.1.1.1">request stream</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.7.2.1.1.2">
                  <p id="appendix-C-2.7.2.1.1.2.1">
                    <a href="#section-4.1-1" class="xref">Section 4.1, Paragraph 1</a>; 
<a href="#section-4.1-15" class="xref">Section 4.1, Paragraph 15</a>; 
<a href="#section-4.1-15" class="xref">Section 4.1, Paragraph 15</a>; 
<a href="#section-4.1.1-1" class="xref">Section 4.1.1, Paragraph 1</a>; 
<a href="#section-4.1.1-5" class="xref">Section 4.1.1, Paragraph 5</a>; 
<a href="#section-4.4-5" class="xref">Section 4.4, Paragraph 5</a>; 
<a href="#section-4.4-9" class="xref">Section 4.4, Paragraph 9</a>; 
<a href="#section-4.6-4" class="xref">Section 4.6, Paragraph 4</a>; 
<a href="#section-4.6-4" class="xref">Section 4.6, Paragraph 4</a>; 
<a href="#section-4.6-11" class="xref">Section 4.6, Paragraph 11</a>; 
<a href="#section-4.6-11" class="xref">Section 4.6, Paragraph 11</a>; 
<strong><em><a href="#request-streams" class="xref">Section 6.1</a></em></strong>; 
<a href="#section-7-1" class="xref">Section 7, Paragraph 1</a>; 
<a href="#section-7.2.2-3" class="xref">Section 7.2.2, Paragraph 3</a>; 
<a href="#section-7.2.5-1" class="xref">Section 7.2.5, Paragraph 1</a><a href="#appendix-C-2.7.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
        <li class="normal ulEmpty" id="appendix-C-2.8">
          <div id="rfc.index.u83">
<p id="appendix-C-2.8.1" class="keepWithNext">
            <a href="#rfc.index.u83" class="xref">S</a><a href="#appendix-C-2.8.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact normal ulEmpty">
<li class="compact normal ulEmpty" id="appendix-C-2.8.2.1">
              <span class="break"></span><dl class="dlCompact dlParallel" id="appendix-C-2.8.2.1.1">
                <dt id="appendix-C-2.8.2.1.1.1">SETTINGS</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.8.2.1.1.2">
                  <p id="appendix-C-2.8.2.1.1.2.1">
                    <a href="#section-3.2-4" class="xref">Section 3.2, Paragraph 4</a>; 
<a href="#section-3.2-4" class="xref">Section 3.2, Paragraph 4</a>; 
<a href="#section-6.2.1-2" class="xref">Section 6.2.1, Paragraph 2</a>; 
<a href="#stream-frame-mapping" class="xref">Table 1</a>; 
<a href="#section-7-3" class="xref">Section 7, Paragraph 3</a>; 
<strong><em><a href="#frame-settings" class="xref">Section 7.2.4</a></em></strong>; 
<a href="#H3_SETTINGS_ERROR" class="xref">Section 8.1, Paragraph 2.20.1</a>; 
<a href="#H3_MISSING_SETTINGS" class="xref">Section 8.1, Paragraph 2.22.1</a>; 
<a href="#section-9-4" class="xref">Section 9, Paragraph 4</a>; 
<a href="#section-10.5-4" class="xref">Section 10.5, Paragraph 4</a>; 
<a href="#iana-frame-table" class="xref">Table 2</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#iana-error-table" class="xref">Table 4</a>; 
<a href="#appendix-A.2.5-1.9" class="xref">Appendix A.2.5</a>; 
<a href="#appendix-A.2.5-1.10.1" class="xref">Appendix A.2.5, Paragraph 1.10.1</a>; 
<a href="#appendix-A.3-2" class="xref">Appendix A.3, Paragraph 2</a>; 
<a href="#appendix-A.3-3" class="xref">Appendix A.3, Paragraph 3</a>; 
<a href="#appendix-A.3-4.4.1" class="xref">Appendix A.3, Paragraph 4.4.1</a>; 
<a href="#appendix-A.3-4.6.1" class="xref">Appendix A.3, Paragraph 4.6.1</a>; 
<a href="#appendix-A.3-4.8.1" class="xref">Appendix A.3, Paragraph 4.8.1</a>; 
<a href="#appendix-A.3-4.10.1" class="xref">Appendix A.3, Paragraph 4.10.1</a>; 
<a href="#appendix-A.4-3.10.1" class="xref">Appendix A.4, Paragraph 3.10.1</a><a href="#appendix-C-2.8.2.1.1.2.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.8.2.1.1.3">SETTINGS_MAX_FIELD_SECTION_SIZE</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.8.2.1.1.4">
                  <p id="appendix-C-2.8.2.1.1.4.1">
                    <a href="#section-4.2.2-2" class="xref">Section 4.2.2, Paragraph 2</a>; 
<a href="#section-7.2.4.1-2.1" class="xref">Section 7.2.4.1</a>; 
<a href="#section-10.5.1-2" class="xref">Section 10.5.1, Paragraph 2</a>; 
<a href="#appendix-A.3-4.12.1" class="xref">Appendix A.3, Paragraph 4.12.1</a><a href="#appendix-C-2.8.2.1.1.4.1" class="pilcrow">¶</a></p>
</dd>
                <dd class="break"></dd>
<dt id="appendix-C-2.8.2.1.1.5">stream error</dt>
                <dd style="margin-left: 1.5em" id="appendix-C-2.8.2.1.1.6">
                  <p id="appendix-C-2.8.2.1.1.6.1">
                    <a href="#section-2.2-4.25" class="xref">Section 2.2</a>; 
<a href="#section-4.1.2-4" class="xref">Section 4.1.2, Paragraph 4</a>; 
<a href="#section-4.4-10" class="xref">Section 4.4, Paragraph 10</a>; 
<strong><em><a href="#errors" class="xref">Section 8</a></em></strong>; 
<a href="#appendix-A.4.1-3" class="xref">Appendix A.4.1, Paragraph 3</a>; 
<a href="#appendix-A.4.1-3" class="xref">Appendix A.4.1, Paragraph 3</a>; 
<a href="#appendix-A.4.1-4" class="xref">Appendix A.4.1, Paragraph 4</a><a href="#appendix-C-2.8.2.1.1.6.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
</dl>
</li>
          </ul>
</li>
      </ul>
</section>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mike Bishop (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Akamai</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mbishop@evequefou.be" class="email">mbishop@evequefou.be</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
